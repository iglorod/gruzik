{"version":3,"sources":["components/UI/DesktopNavMenu/DesktopNavMenu.module.css","components/Playlist/PlaylistHeat/PlaylistHeat.module.css","components/SearchBar/ItemResult/ItemResult.module.css","components/Player/SongInfo/SongInfo.module.css","components/BandInfo/BandGenres/BandGenres.module.css","components/BandInfo/BandImage/BandImage.module.css","components/AddSong/UploadSong/UploadSong.module.css","components/Songs/Song.module.css","components/UI/ModalSpinner/ModalSpinner.module.css","assets/images/logo.png","components/UI/MobileNavMenu/MobileNavMenu.module.css","assets/images/logoSimple.png","components/BandInfo/BandStatistic/BandStatistic.module.css","components/BandInfo/BandInfo.module.css","components/AddSong/UploadSong/SongInfo/SongPicture/SongPicture.module.css","components/Songs/Song/SongStatistics/SongStatistics.module.css","components/Playlist/PlaylistHeat/PlaylistStatistic/PlaylistStatistic.module.css","components/Player/AddToPlaylist/PlaylistsMenu/PlaylistMenu.module.css","components/Layout/Footer/Footer.module.css","store/authorization/utility.js","store/authorization/reducer.js","store/actionTypes.js","store/band/reducer.js","store/songs/reducer.js","firebase/index.js","utility/music-genres.js","store/songs/utility.js","utility/audio.js","store/songs/actions.js","utility/song-queries.js","utility/icons.js","components/SearchBar/ItemResult/ItemResult.js","components/SearchBar/SearchBar.js","store/authorization/actions.js","components/UI/DesktopNavMenu/DesktopNavMenu.js","components/UI/MobileNavMenu/Menu/Menu.js","components/UI/MobileNavMenu/MobileNavMenu.js","components/Layout/Header/Header.js","components/Filter/Filter.js","components/Authorization/AuthUI/SubmitButton/SubmitButton.js","components/Authorization/AuthUI/BottomNote/BottomNote.js","components/Authorization/AuthUI/Alert/Alert.js","components/Authorization/AuthUI/Head/Head.js","components/UI/DataInputs/DataInputs.js","components/Authorization/SignUp/SignUp.js","components/Authorization/SignIn/SignIn.js","components/UI/EditableInput/EditableInput.js","store/band/actions.js","components/BandInfo/BandName/BandName.js","components/BandInfo/BandDescription/BandDescription.js","components/BandInfo/BandGenres/BandGenres.js","utility/file-validation.js","components/BandInfo/BandImage/BandImage.js","components/BandInfo/BandStatistic/BandStatistic.js","components/BandInfo/BandInfo.js","components/AddSong/UploadSong/SongInfo/SongPicture/SongPicture.js","components/AddSong/UploadSong/SongInfo/SongInfo.js","components/AddSong/UploadSong/UploadSong.js","components/AddSong/CreateSong.js","components/Songs/Song/SongBand/SongBand.js","components/Songs/Song/SongStatistics/SongStatistics.js","components/Songs/Song/Song.js","components/Songs/Songs.js","components/Band/Band.js","components/Music/Music.js","components/Playlists/CreteModal/CreateModal.js","components/Playlists/Playlists.js","components/Playlist/PlaylistHeat/PlaylistStatistic/PlaylistStatistic.js","components/Playlist/PlaylistHeat/PlaylistHeat.js","components/Playlist/Playlist.js","components/NotFound/NotFound.js","components/Layout/Content/Content.js","components/Player/AddToPlaylist/PlaylistsMenu/PlaylistsMenu.js","components/Player/AddToPlaylist/AddToPlaylist.js","components/Player/SongInfo/SongInfo.js","components/Player/Player.js","components/Layout/Footer/Footer.js","components/UI/ModalSpinner/ModalSpinner.js","components/Layout/Layout.js","App.js","serviceWorker.js","index.js","components/Songs/Song/Song.module.css","components/UI/MobileNavMenu/Menu/Menu.module.css","components/Playlists/Playlists.module.css"],"names":["module","exports","saveToLocalStorage","data","expiresIn","currentDateTimestamp","Math","floor","Date","getTime","key","localStorage","setItem","getDataFromLocalStorage","userData","Object","entries","value","clearLocalStorage","clear","initialState","localId","email","isBand","idToken","refreshToken","refreshTimerId","loading","authStart","errorMessage","reducer","state","action","type","error","response","message","rememberMe","timerId","length","tokens","clearTimeout","bandName","genres","description","image","updating","bandData","songs","genre","playSong","playNow","playlists","percents","creating","selectedSongCanPlay","fileName","filter","songName","song","find","currentPlaySongIndex","findIndex","songCanPlay","stateSongsClone","songIndex","newData","userIsLikedSong","userLikeId","likesCount","songsClone","sort","random","app","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","bandNamesCachingDecorator","src","bandNames","Map","Promise","resolve","reject","has","axios","get","then","band","values","set","catch","getSong","queryParams","getAudioDuration","reader","FileReader","onload","event","window","AudioContext","webkitAudioContext","decodeAudioData","target","result","buffer","duration","onerror","readAsArrayBuffer","getDurationInHumanTime","toFixed","toString","split","hours","minutes","restSeconds","seconds","round","humanTime","rest","time","map","item","index","setLoadedPercentActionCreator","songsErrorActionCreator","toggleSongLikesActionCreator","startUpdatingActionCreator","finishUpdatingActionCreator","addPlaylistsActionCreator","uploadSongPicture","songPicture","songInfo","totalUploadSize","dispatch","imageName","name","storeRef","storage","ref","child","put","alreadyUploadSize","size","on","snapshot","progress","bytesTransferred","getState","auth","listened_times","post","createSongInfoActionCreator","fetchSongsBandNameActionCreator","a","getBandName","namesOfBands","getSongsLikesCountActionCreator","all","keys","userLike","like","getSongLikesCount","songsLikes","forEach","songLikes","addSongsToListActionCreator","addSongToPlaylistActionCreator","playlistId","isSongExist","isSongExistInPlaylist","warn","success","fetchPlaylistRecordsActionCreator","reverse","records","songsItems","songItem","sortSongsByBandName","song1","song2","fetchSongs","searchWord","songsList","slice","getSongsByName","Error","bandsNames","HeartSvg","width","height","fill","viewBox","d","HeartIcon","props","Icon","component","ItemResult","startPlay","onClick","bind","to","pathname","className","classes","dataArea","title","songStatistic","CustomerServiceOutlined","connect","startPlayRecivedSongActionCreator","useState","setSearchWord","setTimerId","recivedSongs","setRecivedSongs","useEffect","timer","setTimeout","handleResultRecive","renderItem","label","placeholder","onInput","word","options","loginActionCreator","authErrorActionCreator","resetTokenTimer","delay","refreshData","grant_type","refresh_token","refreshTokenActionCreator","console","log","setTimeoutIdActionCreator","signUpActionCreator","newUser","authData","password","returnSecureToken","createdUser","postBandDataActionCreator","signInActionCreator","user","setUserTypeActionCreator","token","newTokenData","id_token","expires_in","err","DesktopNavMenu","handleClick","disabled","preventDefault","position","leftMenu","rightMenu","items","join","navLink","activeClassName","navLinkActive","exact","logout","clearPlaylists","authSection","Item","menu","Divider","MobileNavMenu","menuIsOpen","setMenuIsOpen","overlay","Menu","placement","visible","mobileMenu","icon","MenuFoldOutlined","ghost","onBlur","Header","Layout","disableLinks","linkToMyBand","actionLinks","push","Logo","alt","startLoading","getSongsByGenre","selectedGenre","filterByGenreActionCreator","changeGenre","changeSelectedGenreActionCreator","clearSongsList","Sider","breakpoint","collapsedWidth","mode","selectedKeys","style","borderRight","textAlign","RightSquareOutlined","SubmitButton","htmlType","BottomNote","note","justify","span","AlertMessage","GridAlert","align","xs","sm","md","lg","showIcon","Head","Title","level","AuthInputs","stateInputs","onChangeHandler","Option","Select","genresOptions","inputs","config","rules","validationRules","onChange","signUp","setIsBand","required","min","setStateInputs","stateInputsClone","Fragment","labelCol","offset","wrapperCol","onFinish","validateMessages","types","string","DataInputs","inputName","newValue","prevState","Alert","signIn","setRememberMe","defaultChecked","EditableInput","Paragraph","Typography","showConfirm","setShowConfirm","setNewValue","input","editable","confirmMessage","onConfirm","udateBandData","editKey","onCancel","okText","cancelText","minLength","maxLength","warning","setBandDataActionCreator","bandErrorActionCreator","updateBandDataActionCreator","firebaseKey","patch","removeImageActionCreator","delete","userId","fontSize","fontWeight","margin","bandId","maxHeight","overflow","color","maxWidth","BandGenres","genresContainer","validateImage","maxSize","isJpgOrPng","isLt2M","validateSong","isMpeg","userToken","uploadImage","oldImageName","newImage","oldFileName","file","metadata","uploadButton","showUploadList","beforeUpload","backgroundMask","shape","UploadOutlined","paragraph","rows","reduce","count","listenedTimes","songsCount","statistic","PlaySquareOutlined","spinning","card","cover","bodyStyle","minWidth","SongPicture","fileList","setPicture","URL","createObjectURL","SongInfo","setSongPicture","max","songInputs","setSongInputs","footer","closeSongInfo","createSong","orientation","percentLoaded","uploadSong","uploadSongActionCreator","setSong","openSongModal","setOpenSongModal","listType","uploadArea","uploadLabel","LoadingOutlined","PlusOutlined","strokeLinecap","strokeColor","percent","status","SongBand","SongStatistics","onHeartClicked","userIsAuth","unlikeSong","likeSong","heartIcon","Song","React","memo","Meta","Card","currentSong","songCardClasses","songCard","activeSongCard","songImageIcon","PauseCircleFilled","PlayCircleFilled","songDuration","songContainer","avatar","avatarMask","onSongChoosed","topSection","bottomSection","songStatistics","startPlayMusic","startPlayMusicActionCreator","addSongLikeActionCreator","removeSongLikeActionCreator","uxAtCenter","UXElement","Empty","PRESENTED_IMAGE_SIMPLE","includes","fetchBandData","bandKey","fetchBandDataActionCreator","fetchBandSongs","clearBandData","location","direction","createPlaylist","createPlaylistActionCreator","playlistData","setPlaylistData","showCreateModal","setShowCreateModal","createModal","playlistCard","AppstoreOutlined","playlist","Grid","ExportOutlined","playlistIcon","playlistInfo","addPlaylistButton","PlusCircleOutlined","shuffleSongs","playlistDuration","ClockCircleOutlined","shuffleButton","RedoOutlined","PlaylistHeat","heat","active","fetchPlaylistSongs","playlistKey","NotFound","subTitle","extra","ContentComponent","Content","path","SignUp","SignIn","Band","Playlist","Playlists","Music","addToPlaylist","addSongToPlaylist","AddToPlaylist","showPlaylists","setShowPlaylists","toggleShowPlaylist","AppstoreAddOutlined","linkToBand","songInfoArea","textInfo","onPlayHandler","onPauseHandler","onReadyToPlayHandler","playNext","playPrev","updateListenedTimes","setUpdatedDataToSongActionCreator","updateSongListenedTimesActionCreator","playerRef","useRef","current","audio","play","pause","SONG_DATA","ADD_TO_PLAYLIST","layout","showSkipControls","onPlay","onPause","onClickNext","onClickPrevious","onCanPlay","onEnded","customAdditionalControls","RHAP_UI","LOOP","customProgressBarSection","CURRENT_TIME","PROGRESS_BAR","DURATION","footerMargin","ModalSpinner","modal","spinner","signInLocally","getItem","fetchPlaylists","fetchPlaylistsActionCreator","Filter","padding","App","Boolean","hostname","match","store","createStore","combineReducers","authReducer","bandReducer","songsReducer","applyMiddleware","thunk","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f66333a3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"DesktopNavMenu_navLink__-DzhO\",\"navLinkActive\":\"DesktopNavMenu_navLinkActive__3CblN\",\"leftMenu\":\"DesktopNavMenu_leftMenu__2u5mo\",\"rightMenu\":\"DesktopNavMenu_rightMenu__1F_D3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heat\":\"PlaylistHeat_heat__26Z0y\",\"title\":\"PlaylistHeat_title__3LFHp\",\"description\":\"PlaylistHeat_description__26H-E\",\"statistic\":\"PlaylistHeat_statistic__RLplU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dataArea\":\"ItemResult_dataArea__1W3jr\",\"title\":\"ItemResult_title__1Ti4q\",\"songStatistic\":\"ItemResult_songStatistic__2eCWa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"songInfoArea\":\"SongInfo_songInfoArea__5WlAA\",\"textInfo\":\"SongInfo_textInfo__g5SUW\",\"avatar\":\"SongInfo_avatar__3R43d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"genresContainer\":\"BandGenres_genresContainer__2WHDP\",\"genre\":\"BandGenres_genre__8ILmj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"uploadButton\":\"BandImage_uploadButton__2bXIs\",\"backgroundMask\":\"BandImage_backgroundMask__1Af19\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"uploadLabel\":\"UploadSong_uploadLabel__3hMwQ\",\"uploadArea\":\"UploadSong_uploadArea__1cNbY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"UXElement\":\"Song_UXElement__1pZBy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"ModalSpinner_modal__I6vUN\",\"spinner\":\"ModalSpinner_spinner__2MRKR\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mobileMenu\":\"MobileNavMenu_mobileMenu__1tTlC\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"statistic\":\"BandStatistic_statistic__3iEOO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"BandInfo_card__3JgWb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"songPicture\":\"SongPicture_songPicture__1oys7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heartIcon\":\"SongStatistics_heartIcon__2cKDA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shuffleButton\":\"PlaylistStatistic_shuffleButton__3mUwP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"PlaylistMenu_menu__1aSFX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footerMargin\":\"Footer_footerMargin__2DR-U\"};","export const saveToLocalStorage = (data) => {\r\n  if (data.expiresIn) {\r\n    const currentDateTimestamp = Math.floor(new Date().getTime() / 1000);\r\n    data.expiresIn = currentDateTimestamp + (+data.expiresIn);\r\n  }\r\n\r\n  for (let key in data) {\r\n    localStorage.setItem(key, data[key]);\r\n  }\r\n}\r\n\r\nexport const getDataFromLocalStorage = () => {\r\n  const userData = {};\r\n  for (let [key, value] of Object.entries(localStorage)) {\r\n    userData[key] = value;\r\n  }\r\n\r\n  return userData;\r\n}\r\n\r\nexport const clearLocalStorage = () => {\r\n  localStorage.clear();\r\n}","import * as actionTypes from '../actionTypes';\r\nimport { message } from 'antd';\r\nimport { saveToLocalStorage, getDataFromLocalStorage, clearLocalStorage } from './utility';\r\n\r\nconst initialState = {\r\n  localId: null,\r\n  email: null,\r\n  isBand: false,\r\n  idToken: null,\r\n  refreshToken: null,\r\n  expiresIn: null,\r\n  refreshTimerId: null,\r\n  loading: true,\r\n  authStart: false,\r\n  errorMessage: null,\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.START_LOADING: {\r\n      return {\r\n        ...state,\r\n        errorMessage: null,\r\n        loading: true,\r\n      }\r\n    }\r\n\r\n    case actionTypes.FINISH_LOADING: {\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      }\r\n    }\r\n\r\n    case actionTypes.AUTH_START: {\r\n      return {\r\n        ...state,\r\n        authStart: true,\r\n        errorMessage: null,\r\n      }\r\n    }\r\n\r\n    case actionTypes.AUTH_ERROR: {\r\n      let errorMessage = 'Service is unavailable. Please, try later...';\r\n      if (action.error.response) errorMessage = action.error.response.data.error.message;\r\n\r\n      message.error(errorMessage);\r\n      return {\r\n        ...state,\r\n        errorMessage,\r\n        authStart: false,\r\n      }\r\n    }\r\n    case actionTypes.LOGIN: {\r\n      clearLocalStorage();\r\n      if (action.rememberMe) {\r\n        saveToLocalStorage(action.userData);\r\n      }\r\n\r\n      const expiresIn = Math.floor((new Date().getTime() / 1000)) + +action.userData.expiresIn;\r\n\r\n      return {\r\n        ...initialState,\r\n        loading: false,\r\n        localId: action.userData.localId,\r\n        email: action.userData.email,\r\n        isBand: action.userData.isBand || false,\r\n        idToken: action.userData.idToken,\r\n        refreshToken: action.userData.refreshToken,\r\n        expiresIn: expiresIn,\r\n      }\r\n    }\r\n\r\n    case actionTypes.LOGIN_LOCALY: {\r\n      return {\r\n        ...state,\r\n        ...getDataFromLocalStorage(),\r\n      }\r\n    }\r\n\r\n    case actionTypes.RESET_TIMEOUT_ID: {\r\n      return {\r\n        ...state,\r\n        refreshTimerId: action.timerId,\r\n      }\r\n    }\r\n\r\n    case actionTypes.SET_TOKEN: {\r\n      if (localStorage.length > 1) {\r\n        saveToLocalStorage(action.tokens);\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        idToken: action.tokens.idToken,\r\n        refreshToken: action.tokens.refreshToken,\r\n        expiresIn: action.tokens.expiresIn,\r\n      }\r\n    }\r\n\r\n    case actionTypes.LOGOUT: {\r\n      clearLocalStorage();\r\n      clearTimeout(state.refreshTimerId);\r\n      return { ...initialState, loading: false }\r\n    }\r\n\r\n    default: return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","//authorization\r\nexport const START_LOADING = 'START_LOADING';\r\nexport const FINISH_LOADING = 'FINISH_LOADING';\r\nexport const AUTH_ERROR = 'AUTH_ERROR';\r\nexport const AUTH_START = 'AUTH_START';\r\nexport const LOGIN = 'LOGIN';\r\nexport const LOGIN_LOCALY = 'LOGIN_LOCALY';\r\nexport const RESET_TIMEOUT_ID = 'RESET_TIMEOUT_ID';\r\nexport const SET_TOKEN = 'SET_TOKEN';\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\n//band\r\nexport const SET_BAND_DATA = 'SET_BAND_DATA';\r\nexport const BAND_ERROR = 'BAND_ERROR';\r\nexport const CLEAR_BAND_DATA = 'CLEAR_BAND_DATA';\r\nexport const FINISH_BAND_LOADING = 'FINISH_BAND_LOADING';\r\nexport const START_BAND_UPDATING = 'START_BAND_UPDATING';\r\nexport const FINISH_BAND_UPDATING = 'FINISH_BAND_UPDATING';\r\n\r\n//song\r\nexport const START_SONG_CREATION = 'START_SONG_CREATION';\r\nexport const FINISH_SONG_CREATION = 'FINISH_SONG_CREATION';\r\nexport const START_SONGS_LOADING = 'START_SONGS_LOADING';\r\nexport const FINISH_SONGS_LOADING = 'FINISH_SONGS_LOADING';\r\nexport const SONGS_ERROR = 'SONGS_ERROR';\r\nexport const SET_LOAD_PERCENTS = 'SET_LOAD_PERCENTS';\r\nexport const UNSHIFT_SONG_TO_LIST = 'UNSHIFT_SONG_TO_LIST';\r\nexport const ADD_SONGS_TO_LIST = 'ADD_SONGS_TO_LIST';\r\nexport const CLEAR_SONGS_LIST = 'CLEAR_SONGS_LIST';\r\nexport const SELECT_SONG = 'SELECT_SONG';\r\nexport const PLAY_RECIVED_SONG = 'PLAY_RECIVED_SONG';\r\nexport const SELECT_NEXT_SONG = 'SELECT_NEXT_SONG';\r\nexport const SELECT_PREV_SONG = 'SELECT_PREV_SONG';\r\nexport const PLAY_SONG = 'PLAY_SONG';\r\nexport const PAUSE_SONG = 'PAUSE_SONG';\r\nexport const SELECTED_SONG_READY_TO_PLAY = 'SELECTED_SONG_READY_TO_PLAY';\r\nexport const CHANGE_SELECTED_GENRE = 'CHANGE_SELECTED_GENRE';\r\nexport const TOGGLE_SONG_LIKES = 'TOGGLE_SONG_LIKES';\r\nexport const START_SONG_UPDATING = 'START_SONG_UPDATING';\r\nexport const FINISH_SONG_UPDATING = 'FINISH_SONG_UPDATING';\r\nexport const SET_SONG_UPDATED_DATA = 'SET_SONG_UPDATED_DATA';\r\nexport const ADD_PLAYLISTS = 'ADD_PLAYLISTS';\r\nexport const CLEAR_PLAYLISTS = 'CLEAR_PLAYLISTS';\r\nexport const SHUFFLE_SONGS = 'SHUFFLE_SONGS';\r\n\r\n","import * as actionTypes from '../actionTypes';\r\nimport { message } from 'antd';\r\n\r\nconst initialState = {\r\n  key: null,\r\n  bandName: null,\r\n  localId: null,\r\n  genres: null,\r\n  description: null,\r\n  image: 'no-image.jpg',\r\n  loading: true,      //first fetching\r\n  updating: false,    //updating band data\r\n  error: false,\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.SET_BAND_DATA: {\r\n      return {\r\n        ...state,\r\n        ...action.bandData,\r\n      }\r\n    }\r\n\r\n    case actionTypes.FINISH_BAND_LOADING: {\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      }\r\n    }\r\n\r\n    case actionTypes.START_BAND_UPDATING: {\r\n      return {\r\n        ...state,\r\n        updating: true,\r\n      }\r\n    }\r\n\r\n    case actionTypes.FINISH_BAND_UPDATING: {\r\n      return {\r\n        ...state,\r\n        updating: false,\r\n      }\r\n    }\r\n\r\n    case actionTypes.BAND_ERROR: {\r\n      message.error(action.error.message);\r\n\r\n      return {\r\n        ...state,\r\n        error: true,\r\n      }\r\n    }\r\n\r\n    case actionTypes.CLEAR_BAND_DATA: {\r\n      return {\r\n        ...initialState,\r\n      }\r\n    }\r\n\r\n    default: return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","import * as actionTypes from '../actionTypes';\r\nimport { message } from 'antd';\r\n\r\nconst initialState = {\r\n  songs: [],\r\n  genre: 0,\r\n  playSong: null,\r\n  playNow: false,\r\n  playlists: [],\r\n  percents: 0,\r\n  loading: false,\r\n  creating: false,\r\n  updating: [],                   //array of updating songs\r\n  selectedSongCanPlay: false,     //is selected song enough loaded to start playing\r\n  error: false,\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.START_SONG_CREATION: {\r\n      return {\r\n        ...state,\r\n        creating: true,\r\n        error: false,\r\n      }\r\n    }\r\n\r\n    case actionTypes.FINISH_SONG_CREATION: {\r\n      return {\r\n        ...state,\r\n        creating: false,\r\n        percents: 0,\r\n      }\r\n    }\r\n\r\n    case actionTypes.START_SONGS_LOADING: {\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      }\r\n    }\r\n\r\n    case actionTypes.FINISH_SONGS_LOADING: {\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      }\r\n    }\r\n\r\n    case actionTypes.START_SONG_UPDATING: {\r\n      return {\r\n        ...state,\r\n        updating: [...state.updating, action.fileName]\r\n      }\r\n    }\r\n\r\n    case actionTypes.FINISH_SONG_UPDATING: {\r\n      return {\r\n        ...state,\r\n        updating: state.updating.filter(songName => songName !== action.fileName),\r\n      }\r\n    }\r\n\r\n    case actionTypes.SET_LOAD_PERCENTS: {\r\n      return {\r\n        ...state,\r\n        percents: action.percents,\r\n      }\r\n    }\r\n\r\n    case actionTypes.ADD_SONGS_TO_LIST: {\r\n      return {\r\n        ...state,\r\n        songs: [\r\n          ...state.songs,\r\n          ...action.songs,\r\n        ],\r\n        loading: false,\r\n      }\r\n    }\r\n\r\n    case actionTypes.UNSHIFT_SONG_TO_LIST: {\r\n      return {\r\n        ...state,\r\n        songs: [\r\n          action.song,\r\n          ...state.songs,\r\n        ],\r\n      }\r\n    }\r\n\r\n    case actionTypes.SELECT_SONG: {\r\n      if (state.playSong && state.playSong.fileName === action.fileName) {\r\n        return {\r\n          ...state,\r\n          playNow: !state.playNow,\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        playSong: { ...state.songs.find(song => song.fileName === action.fileName) },\r\n        playNow: true,\r\n        selectedSongCanPlay: false,\r\n      }\r\n    }\r\n\r\n    case actionTypes.SELECT_NEXT_SONG: {\r\n      let currentPlaySongIndex = state.songs.findIndex(song => song.fileName === state.playSong.fileName);\r\n\r\n      if (state.songs.length === 0) return state;\r\n      if (++currentPlaySongIndex === state.songs.length) currentPlaySongIndex = 0;\r\n      return {\r\n        ...state,\r\n        playSong: { ...state.songs[currentPlaySongIndex] },\r\n        playNow: true,\r\n        selectedSongCanPlay: false,\r\n      }\r\n    }\r\n\r\n    case actionTypes.SELECT_PREV_SONG: {\r\n      let currentPlaySongIndex = state.songs.findIndex(song => song.fileName === state.playSong.fileName);\r\n\r\n      if (state.songs.length === 0) return state;\r\n      if (--currentPlaySongIndex === -1) currentPlaySongIndex = state.songs.length - 1;\r\n      return {\r\n        ...state,\r\n        playSong: { ...state.songs[currentPlaySongIndex] },\r\n        playNow: true,\r\n        selectedSongCanPlay: false,\r\n      }\r\n    }\r\n\r\n    case actionTypes.SELECTED_SONG_READY_TO_PLAY: {\r\n      return {\r\n        ...state,\r\n        selectedSongCanPlay: true,\r\n      }\r\n    }\r\n\r\n    case actionTypes.PLAY_RECIVED_SONG: {\r\n      let songCanPlay = false;\r\n      if (state.playSong && state.playSong.fileName === action.song.fileName) songCanPlay = true;\r\n\r\n      return {\r\n        ...state,\r\n        playSong: { ...action.song },\r\n        playNow: true,\r\n        selectedSongCanPlay: songCanPlay,\r\n      }\r\n    }\r\n\r\n    case actionTypes.PLAY_SONG: {\r\n      return {\r\n        ...state,\r\n        playNow: true,\r\n      }\r\n    }\r\n\r\n    case actionTypes.PAUSE_SONG: {\r\n      return {\r\n        ...state,\r\n        playNow: false,\r\n      }\r\n    }\r\n\r\n    case actionTypes.CHANGE_SELECTED_GENRE: {\r\n      return {\r\n        ...state,\r\n        genre: action.key,\r\n      }\r\n    }\r\n\r\n    case actionTypes.TOGGLE_SONG_LIKES: {\r\n      const stateSongsClone = [...state.songs];\r\n      const songIndex = stateSongsClone.findIndex(song => song.fileName === action.fileName);\r\n      let song = stateSongsClone[songIndex];\r\n\r\n      const newData = {\r\n        userIsLikedSong: false,\r\n        userLikeId: null,\r\n        likesCount: song.likesCount - 1,\r\n      }\r\n      if (action.key) {\r\n        newData.userIsLikedSong = true;\r\n        newData.userLikeId = action.key;\r\n        newData.likesCount = song.likesCount + 1;\r\n      }\r\n\r\n      stateSongsClone[songIndex] = { ...song, ...newData };\r\n      return {\r\n        ...state,\r\n        songs: [\r\n          ...stateSongsClone,\r\n        ]\r\n      }\r\n    }\r\n\r\n    case actionTypes.SET_SONG_UPDATED_DATA: {\r\n      const stateSongsClone = [...state.songs];\r\n      const songIndex = stateSongsClone.findIndex(song => song.fileName === action.fileName);\r\n      stateSongsClone[songIndex] = {\r\n        ...stateSongsClone[songIndex],\r\n        ...action.data,\r\n      };\r\n\r\n      return {\r\n        ...state,\r\n        songs: [\r\n          ...stateSongsClone,\r\n        ]\r\n      }\r\n    }\r\n\r\n    case actionTypes.ADD_PLAYLISTS: {\r\n      return {\r\n        ...state,\r\n        playlists: [\r\n          ...state.playlists,\r\n          ...action.playlists\r\n        ]\r\n      }\r\n    }\r\n\r\n    case actionTypes.CLEAR_PLAYLISTS: {\r\n      return {\r\n        ...state,\r\n        playlists: [],\r\n      }\r\n    }\r\n\r\n    case actionTypes.SHUFFLE_SONGS: {\r\n      const songsClone = [...state.songs];\r\n      songsClone.sort(() => Math.random() - 0.5);\r\n\r\n      return {\r\n        ...state,\r\n        songs: [...songsClone]\r\n      }\r\n    }\r\n\r\n    case actionTypes.CLEAR_SONGS_LIST: {\r\n      return {\r\n        ...initialState,\r\n        playSong: state.playSong,\r\n        playNow: state.playNow,\r\n        selectedSongCanPlay: state.selectedSongCanPlay,\r\n        genre: state.genre,\r\n        playlists: state.playlists,\r\n      }\r\n    }\r\n\r\n    case actionTypes.SONGS_ERROR: {\r\n      message.error(action.error.message);\r\n\r\n      return {\r\n        ...state,\r\n        error: true,\r\n      }\r\n    }\r\n\r\n    default: return state;\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","import * as firebase from \"firebase/app\";\r\nimport 'firebase/storage';\r\nimport 'firebase/auth';\r\n\r\nconst firebaseConfig = ({\r\n  apiKey: process.env.REACT_APP_FIREBASE_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\r\n  projectId: process.env.REACT_APP_FIREBASE_KEY_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_KEY_STORE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_KEY_SENDER_ID,\r\n});\r\n\r\n// Initialize Firebase\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\nexport default app;\r\n","export const genres = [\r\n  'Rock',\r\n  'Pop',\r\n  'Alternative',\r\n  'Classical',\r\n  'Country',\r\n  'Folk',\r\n  'Rap and Hip Hop',\r\n  'Rhythm and Blues',\r\n  'Punk',\r\n  'Heavy Metal',\r\n  'Jazz',\r\n  'Latin Music',\r\n]\r\n\r\n","import axios from 'axios';\r\n\r\nexport const bandNamesCachingDecorator = (src) => {\r\n  const bandNames = new Map();\r\n\r\n  return (localId) => {\r\n    return new Promise((resolve, reject) => {\r\n      if (!localId || bandNames.has(localId)) {\r\n        return resolve(bandNames);\r\n      }\r\n\r\n      axios.get(src + `\"${localId}\"`)\r\n        .then(response => {\r\n          if (response.data) {\r\n            const band = Object.values(response.data)[0];\r\n            bandNames.set(localId, band.bandName);\r\n          }\r\n\r\n          resolve(bandNames);\r\n        })\r\n        .catch(error => reject(error))\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport const getSongLikesCount = (song, localId) => {\r\n  return new Promise((resolve, reject) => {\r\n    let queryParams = `?orderBy=\"fileName\"&equalTo=\"${song.fileName}\"`;\r\n    axios.get(`${process.env.REACT_APP_FIREBASE_DATABASE}/song_likes.json/${queryParams}`)\r\n      .then((response) => {\r\n        const likesCount = response.data\r\n          ? Object.keys(response.data).length\r\n          : 0;\r\n\r\n        const userLike = Object.entries(response.data).find(like => localId === like[1].localId);\r\n        const userIsLikedSong = !!userLike;\r\n        const userLikeId = userIsLikedSong ? userLike[0] : null;\r\n\r\n        resolve({ likesCount, userIsLikedSong, userLikeId })\r\n      })\r\n      .catch(error => reject(error))\r\n  })\r\n}\r\n\r\nexport const getSong = (fileName) => {\r\n  return new Promise((resolve, reject) => {\r\n    let queryParams = `?orderBy=\"fileName\"&equalTo=\"${fileName}\"`;\r\n    axios.get(`${process.env.REACT_APP_FIREBASE_DATABASE}/songs.json/${queryParams}`)\r\n      .then((response) => {\r\n        resolve(response.data);\r\n      })\r\n      .catch(error => reject(error))\r\n  })\r\n}\r\n\r\nexport const getSongs = (data) => {\r\n  return new Promise((resolve, reject) => {\r\n    Promise.all(data.map(item => getSong(item.songName)))\r\n      .then(songs => resolve(songs))\r\n      .catch(error => reject(error))\r\n  })\r\n}\r\n\r\nexport const isSongExistInPlaylist = ({ playlistId, songName }) => {\r\n  return new Promise((resolve, reject) => {\r\n    let queryParams = `?orderBy=\"playlistId\"&equalTo=\"${playlistId}\"`;\r\n    axios.get(`${process.env.REACT_APP_FIREBASE_DATABASE}/playlists-songs.json/${queryParams}`)\r\n      .then((response) => {\r\n        if (!response.data) resolve(false);\r\n        const playlistSongs = Object.values(response.data);\r\n        const isSongExist = ~playlistSongs.findIndex(item => item.songName === songName);\r\n\r\n        resolve(!!isSongExist);\r\n      })\r\n      .catch(error => reject(error))\r\n  })\r\n}\r\n","export const getAudioDuration = (song) => {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = (event) => {\r\n      const audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n      audioContext.decodeAudioData(event.target.result, buffer => {\r\n        resolve(buffer.duration);\r\n      })\r\n    }\r\n    reader.onerror = (error) => reject(error);\r\n\r\n    reader.readAsArrayBuffer(song);\r\n  })\r\n}\r\n\r\nexport const getDurationInHumanTime = (duration) => {\r\n  duration = (duration / 60).toFixed(2);\r\n\r\n  if (duration > 60) {\r\n    let [hours, restMinutes] = (duration / 60).toFixed(2).toString().split('.');\r\n    let [minutes, restSeconds] = (60 * restMinutes / 100).toString().split('.');\r\n    const seconds = Math.round(60 * restSeconds / 100).toString();\r\n\r\n    return humanTime(seconds, minutes, hours);\r\n  }\r\n\r\n  const [minutes, rest] = duration.toString().split('.');\r\n  const seconds = Math.round(60 * rest / 100).toString();\r\n  return humanTime(seconds, minutes);\r\n}\r\n\r\nexport const humanTime = (...time) => {\r\n  const [seconds, minutes, hours] = time.map((item, index) => index < 2 && item.length < 2 ? `0${item}` : item);\r\n  let humanTime = hours ? `${hours}:` : '';\r\n  humanTime += minutes ? `${minutes}:` : '00';\r\n  humanTime += seconds ? `${seconds}` : '00';\r\n  return humanTime;\r\n}\r\n","import * as actionTypes from '../actionTypes';\r\nimport firebase from '../../firebase';\r\nimport axios from 'axios';\r\nimport { message } from 'antd';\r\nimport { genres } from '../../utility/music-genres';\r\n\r\nimport {\r\n  bandNamesCachingDecorator,\r\n  getSongLikesCount,\r\n  getSong,\r\n  isSongExistInPlaylist,\r\n  getSongs,\r\n} from './utility';\r\nimport { getAudioDuration } from '../../utility/audio';\r\n\r\nexport const startSongsLoadingActionCreator = () => {\r\n  return {\r\n    type: actionTypes.START_SONGS_LOADING,\r\n  }\r\n}\r\n\r\nexport const finishSongsLoadingActionCreator = () => {\r\n  return {\r\n    type: actionTypes.FINISH_SONGS_LOADING,\r\n  }\r\n}\r\n\r\nexport const startCreatingSongActionCreator = () => {\r\n  return {\r\n    type: actionTypes.START_SONG_CREATION,\r\n  }\r\n}\r\n\r\nexport const finishCreatingSongActionCreator = () => {\r\n  return {\r\n    type: actionTypes.FINISH_SONG_CREATION,\r\n  }\r\n}\r\n\r\nexport const setLoadedPercentActionCreator = (percents) => {\r\n  return {\r\n    type: actionTypes.SET_LOAD_PERCENTS,\r\n    percents,\r\n  }\r\n}\r\n\r\nexport const addSongsToListActionCreator = (songs) => {\r\n  return {\r\n    type: actionTypes.ADD_SONGS_TO_LIST,\r\n    songs,\r\n  }\r\n}\r\n\r\nexport const unshiftSongToListActionCreator = (song) => {\r\n  return {\r\n    type: actionTypes.UNSHIFT_SONG_TO_LIST,\r\n    song,\r\n  }\r\n}\r\n\r\nexport const clearSongListActionCreator = () => {\r\n  return {\r\n    type: actionTypes.CLEAR_SONGS_LIST,\r\n  }\r\n}\r\n\r\nexport const songsErrorActionCreator = (error) => {\r\n  return {\r\n    type: actionTypes.SONGS_ERROR,\r\n    error,\r\n  }\r\n}\r\n\r\nexport const startPlayMusicActionCreator = (fileName) => {\r\n  return {\r\n    type: actionTypes.SELECT_SONG,\r\n    fileName,\r\n  }\r\n}\r\n\r\nexport const startPlayRecivedSongActionCreator = (song) => {\r\n  return {\r\n    type: actionTypes.PLAY_RECIVED_SONG,\r\n    song,\r\n  }\r\n}\r\n\r\nexport const playNextSongActionCreator = () => {\r\n  return {\r\n    type: actionTypes.SELECT_NEXT_SONG,\r\n  }\r\n}\r\n\r\nexport const playPrevSongActionCreator = () => {\r\n  return {\r\n    type: actionTypes.SELECT_PREV_SONG,\r\n  }\r\n}\r\n\r\nexport const playSongActionCreator = () => {\r\n  return {\r\n    type: actionTypes.PLAY_SONG,\r\n  }\r\n}\r\n\r\nexport const pauseSongActionCreator = () => {\r\n  return {\r\n    type: actionTypes.PAUSE_SONG,\r\n  }\r\n}\r\n\r\nexport const songReadyToPlayActionCreator = () => {\r\n  return {\r\n    type: actionTypes.SELECTED_SONG_READY_TO_PLAY,\r\n  }\r\n}\r\n\r\nexport const changeSelectedGenreActionCreator = (key) => {\r\n  return {\r\n    type: actionTypes.CHANGE_SELECTED_GENRE,\r\n    key,\r\n  }\r\n}\r\n\r\nexport const toggleSongLikesActionCreator = (fileName, key) => {\r\n  return {\r\n    type: actionTypes.TOGGLE_SONG_LIKES,\r\n    fileName,\r\n    key,\r\n  }\r\n}\r\n\r\nexport const startUpdatingActionCreator = (fileName) => {\r\n  return {\r\n    type: actionTypes.START_SONG_UPDATING,\r\n    fileName,\r\n  }\r\n}\r\n\r\nexport const finishUpdatingActionCreator = (fileName) => {\r\n  return {\r\n    type: actionTypes.FINISH_SONG_UPDATING,\r\n    fileName,\r\n  }\r\n}\r\n\r\nexport const setUpdatedDataToSongActionCreator = (fileName, data) => {\r\n  return {\r\n    type: actionTypes.SET_SONG_UPDATED_DATA,\r\n    fileName,\r\n    data,\r\n  }\r\n}\r\n\r\nexport const addPlaylistsActionCreator = (playlists) => {\r\n  return {\r\n    type: actionTypes.ADD_PLAYLISTS,\r\n    playlists,\r\n  }\r\n}\r\n\r\nexport const clearPlaylistActionCreator = () => {\r\n  return {\r\n    type: actionTypes.CLEAR_PLAYLISTS,\r\n  }\r\n}\r\n\r\nexport const shuffleSongsActionCreator = () => {\r\n  return {\r\n    type: actionTypes.SHUFFLE_SONGS,\r\n  }\r\n}\r\n\r\nexport const createSongInfoActionCreator = (songInfo) => {\r\n  return (dispatch, getState) => {\r\n    songInfo.localId = getState().auth.localId;\r\n    songInfo.listened_times = 0;\r\n\r\n    axios.post(`${process.env.REACT_APP_FIREBASE_DATABASE}/songs.json/?auth=${getState().auth.idToken}`, songInfo)\r\n      .then(() => {\r\n        songInfo.bandName = getState().band.bandName;\r\n        songInfo.likesCount = 0;\r\n        songInfo.userIsLikedSong = false;\r\n        songInfo.userLikeId = null;\r\n\r\n        dispatch(unshiftSongToListActionCreator(songInfo));\r\n        dispatch(finishCreatingSongActionCreator());\r\n      })\r\n      .catch(error => {\r\n        dispatch(songsErrorActionCreator(error));\r\n        dispatch(finishCreatingSongActionCreator());\r\n      })\r\n  }\r\n}\r\n\r\nexport const uploadSongActionCreator = (song, songPicture, songInfo) => {\r\n  return async dispatch => {\r\n    dispatch(startCreatingSongActionCreator());\r\n    songInfo.fileName = new Date().getTime() + song.name;\r\n    songInfo.duration = await getAudioDuration(song);\r\n\r\n    const storeRef = firebase.storage().ref('songs/').child(songInfo.fileName).put(song);\r\n\r\n    const totalUploadSize = song.size + songPicture.size;\r\n    storeRef.on('state_changed', function (snapshot) {\r\n      const progress = (snapshot.bytesTransferred / totalUploadSize).toFixed(2) * 100;\r\n      dispatch(setLoadedPercentActionCreator(progress));\r\n    })\r\n\r\n    storeRef\r\n      .then(() => {\r\n        dispatch(uploadSongPicture(songPicture, songInfo, totalUploadSize))\r\n      })\r\n      .catch(error => {\r\n        dispatch(songsErrorActionCreator(error))\r\n        dispatch(finishCreatingSongActionCreator());\r\n      })\r\n  }\r\n}\r\n\r\nexport const uploadSongPicture = (songPicture, songInfo, totalUploadSize) => {\r\n  return dispatch => {\r\n    songInfo.imageName = new Date().getTime() + songPicture.name;\r\n\r\n    const storeRef = firebase.storage().ref('pictures-of-songs/').child(songInfo.imageName).put(songPicture);\r\n\r\n    const alreadyUploadSize = totalUploadSize - songPicture.size;\r\n    storeRef.on('state_changed', function (snapshot) {\r\n      const progress = ((alreadyUploadSize + snapshot.bytesTransferred) / totalUploadSize).toFixed(2) * 100;\r\n      dispatch(setLoadedPercentActionCreator(progress));\r\n    })\r\n\r\n    storeRef\r\n      .then(() => {\r\n        dispatch(createSongInfoActionCreator(songInfo))\r\n      })\r\n      .catch(error => {\r\n        dispatch(songsErrorActionCreator(error))\r\n        dispatch(finishCreatingSongActionCreator());\r\n      })\r\n  }\r\n}\r\n\r\nexport const fetchSongsBandNameActionCreator = (songs) => {\r\n  return async dispatch => {\r\n    const src = `${process.env.REACT_APP_FIREBASE_DATABASE}/bands.json?orderBy=\"localId\"&equalTo=`;\r\n    const getBandName = bandNamesCachingDecorator(src);\r\n\r\n    for (let song of songs) {\r\n      await getBandName(song.localId)\r\n    }\r\n\r\n    const namesOfBands = await getBandName();\r\n    for (let song of songs) {\r\n      song.bandName = namesOfBands.get(song.localId);\r\n    }\r\n\r\n    dispatch(getSongsLikesCountActionCreator(songs));\r\n  }\r\n}\r\n\r\nexport const fetchBandSongsActionCreator = (bandId) => {\r\n  return dispatch => {\r\n    dispatch(startSongsLoadingActionCreator());\r\n\r\n    let queryParams = `?orderBy=\"localId\"&equalTo=\"${bandId}\"`;\r\n    axios.get(`${process.env.REACT_APP_FIREBASE_DATABASE}/songs.json/${queryParams}`)\r\n      .then((response) => {\r\n        response.data\r\n          ? dispatch(fetchSongsBandNameActionCreator(Object.values(response.data).reverse()))\r\n          : dispatch(finishSongsLoadingActionCreator());\r\n      })\r\n      .catch(error => {\r\n        dispatch(songsErrorActionCreator(error));\r\n      })\r\n  }\r\n}\r\n\r\nexport const filterByGenreActionCreator = (key) => {\r\n  return dispatch => {\r\n    dispatch(startSongsLoadingActionCreator());\r\n\r\n    const selectedGenre = genres[key];\r\n    let queryParams = `?orderBy=\"genre\"&equalTo=\"${selectedGenre}\"`;\r\n    axios.get(`${process.env.REACT_APP_FIREBASE_DATABASE}/songs.json/${queryParams}`)\r\n      .then((response) => {\r\n        response.data\r\n          ? dispatch(fetchSongsBandNameActionCreator(Object.values(response.data).reverse()))\r\n          : dispatch(finishSongsLoadingActionCreator());\r\n      })\r\n      .catch(error => {\r\n        dispatch(songsErrorActionCreator(error));\r\n      })\r\n  }\r\n}\r\n\r\nexport const getSongsLikesCountActionCreator = (songs) => {\r\n  return (dispatch, getState) => {\r\n    const localId = getState().auth.localId;\r\n    Promise.all(songs.map(song => getSongLikesCount(song, localId)))\r\n      .then(songsLikes => {\r\n        songsLikes.forEach((songLikes, index) => {\r\n          songs[index] = {\r\n            ...songs[index],\r\n            ...songLikes\r\n          }\r\n        })\r\n        dispatch(addSongsToListActionCreator(songs));\r\n      })\r\n  }\r\n}\r\n\r\nexport const addSongLikeActionCreator = (fileName, key) => {\r\n  return (dispatch, getState) => {\r\n    if (key) return;    // user already liked this song\r\n    dispatch(startUpdatingActionCreator(fileName));\r\n\r\n    const like = {\r\n      fileName,\r\n      localId: getState().auth.localId,\r\n    }\r\n\r\n    axios.post(`${process.env.REACT_APP_FIREBASE_DATABASE}/song_likes.json/?auth=${getState().auth.idToken}`, like)\r\n      .then((response) => {\r\n        dispatch(toggleSongLikesActionCreator(fileName, response.data.name));\r\n        dispatch(finishUpdatingActionCreator(fileName));\r\n      })\r\n      .catch(error => {\r\n        dispatch(songsErrorActionCreator(error));\r\n        dispatch(finishCreatingSongActionCreator());\r\n      })\r\n  }\r\n}\r\n\r\nexport const removeSongLikeActionCreator = (fileName, key) => {\r\n  return (dispatch, getState) => {\r\n    if (!key) return;     //user has not liked this song\r\n    dispatch(startUpdatingActionCreator(fileName));\r\n\r\n    axios.delete(`${process.env.REACT_APP_FIREBASE_DATABASE}/song_likes/${key}.json/?auth=${getState().auth.idToken}`)\r\n      .then(() => {\r\n        dispatch(toggleSongLikesActionCreator(fileName));\r\n        dispatch(finishUpdatingActionCreator(fileName));\r\n      })\r\n      .catch(error => {\r\n        dispatch(songsErrorActionCreator(error));\r\n      })\r\n  }\r\n}\r\n\r\nexport const updateSongListenedTimesActionCreator = (fileName) => {\r\n  return dispatch => {\r\n    getSong(fileName)\r\n      .then(response => {\r\n        const song = Object.entries(response)[0];\r\n        const data = {\r\n          listened_times: song[1].listened_times + 1,\r\n        }\r\n\r\n        axios.patch(`${process.env.REACT_APP_FIREBASE_DATABASE}/songs/${song[0]}.json`, data)\r\n          .then(() => {\r\n            const updatedData = {\r\n              listened_times: data.listened_times,\r\n            }\r\n            dispatch(setUpdatedDataToSongActionCreator(fileName, updatedData));\r\n          })\r\n          .catch(error => {\r\n            dispatch(songsErrorActionCreator(error));\r\n          })\r\n      })\r\n  }\r\n}\r\n\r\nexport const createPlaylistActionCreator = (data) => {\r\n  return (dispatch, getState) => {\r\n    axios.post(`${process.env.REACT_APP_FIREBASE_DATABASE}/playlists.json/?auth=${getState().auth.idToken}`, data)\r\n      .then(() => {\r\n        dispatch(addPlaylistsActionCreator([data]));\r\n        message.success('New playlist was created successfully');\r\n      })\r\n      .catch(error => {\r\n        dispatch(songsErrorActionCreator(error));\r\n        dispatch(finishCreatingSongActionCreator());\r\n      })\r\n  }\r\n}\r\n\r\nexport const addSongToPlaylistActionCreator = (data) => {\r\n  return (dispatch, getState) => {\r\n    isSongExistInPlaylist(data)\r\n      .then(isSongExist => {\r\n        if (isSongExist) {\r\n          message.warn('Song is alredy in this playlist');\r\n          return;\r\n        }\r\n\r\n        axios.post(`${process.env.REACT_APP_FIREBASE_DATABASE}/playlists-songs.json/?auth=${getState().auth.idToken}`, data)\r\n          .then(() => message.success('Song was added to playlist'))\r\n          .catch(error => {\r\n            dispatch(songsErrorActionCreator(error));\r\n            dispatch(finishCreatingSongActionCreator());\r\n          })\r\n      })\r\n  }\r\n}\r\n\r\nexport const fetchPlaylistsActionCreator = (userId) => {\r\n  return dispatch => {\r\n    let queryParams = `?orderBy=\"userId\"&equalTo=\"${userId}\"`;\r\n    axios.get(`${process.env.REACT_APP_FIREBASE_DATABASE}/playlists.json/${queryParams}`)\r\n      .then((response) => {\r\n        const playlists = Object.values(response.data);\r\n        dispatch(addPlaylistsActionCreator(playlists));\r\n      })\r\n      .catch(error => {\r\n        dispatch(songsErrorActionCreator(error));\r\n      })\r\n  }\r\n}\r\n\r\nexport const fetchPlaylistRecordsActionCreator = (playlistId) => {\r\n  return dispatch => {\r\n    dispatch(startSongsLoadingActionCreator());\r\n\r\n    let queryParams = `?orderBy=\"playlistId\"&equalTo=\"${playlistId}\"`;\r\n    axios.get(`${process.env.REACT_APP_FIREBASE_DATABASE}/playlists-songs.json/${queryParams}`)\r\n      .then(response => {\r\n        if (response.data) return Object.values(response.data).reverse();\r\n        else dispatch(finishSongsLoadingActionCreator())\r\n      })\r\n      .then(records => getSongs(records))\r\n      .then(songsItems => songsItems.map(songItem => songItem[Object.keys(songItem)[0]]))\r\n      .then(songs => dispatch(fetchSongsBandNameActionCreator(songs)))\r\n      .catch(error => dispatch(songsErrorActionCreator(error)))\r\n  }\r\n}\r\n","import axios from 'axios';\r\n\r\nexport const getSongsByName = (searchWord) => {\r\n  return new Promise((resolve, reject) => {\r\n    let queryParams = `?orderBy=\"name\"&startAt=\"${searchWord}\"`;\r\n    axios.get(`${process.env.REACT_APP_FIREBASE_DATABASE}/songs.json/${queryParams}`)\r\n      .then(response => {\r\n        if (!response.data) resolve();\r\n\r\n        const recivedSongs = Object.values(response.data);\r\n        const songs = recivedSongs.filter(song => song.name.slice(0, searchWord.length) === searchWord);\r\n        resolve(songs.slice(0, 5));\r\n      })\r\n      .catch(error => reject(error))\r\n  })\r\n}\r\n\r\nexport const getSongBandName = (localId) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(`${process.env.REACT_APP_FIREBASE_DATABASE}/bands.json?orderBy=\"localId\"&equalTo=\"${localId}\"`)\r\n      .then(response => {\r\n        if (!response.data) reject(new Error('Can\\'t get song author name'))\r\n\r\n        const band = Object.values(response.data)[0];\r\n        resolve(band.bandName);\r\n      })\r\n      .catch(error => reject(error))\r\n  })\r\n}\r\n\r\nexport const getSongLikesCount = (fileName) => {\r\n  return new Promise((resolve, reject) => {\r\n    let queryParams = `?orderBy=\"fileName\"&equalTo=\"${fileName}\"`;\r\n    axios.get(`${process.env.REACT_APP_FIREBASE_DATABASE}/song_likes.json/${queryParams}`)\r\n      .then((response) => {\r\n        const likesCount = response.data\r\n          ? Object.keys(response.data).length\r\n          : 0;\r\n\r\n        resolve(likesCount);\r\n      })\r\n      .catch(error => reject(error));\r\n  })\r\n}\r\n\r\nexport const sortSongsByBandName = (song1, song2) => {\r\n  if (song1.bandName > song2.bandName) return 1; \r\n  if (song1.bandName === song2.bandName) return 0;\r\n  return -1;\r\n}\r\n\r\nexport const fetchSongs = (searchWord) => {\r\n  let songsList = [];\r\n  return new Promise((resolve, reject) => {\r\n    getSongsByName(searchWord)\r\n      .then(songs => {\r\n        songsList = songs;\r\n        return Promise.all(songs.map(song => getSongBandName(song.localId)))\r\n      })\r\n      .then(bandsNames => {\r\n        return songsList.map((song, index) => {\r\n          song.bandName = bandsNames[index];\r\n          return song;\r\n        })\r\n      })\r\n      .then(songs => Promise.all(songs.map(song => getSongLikesCount(song.fileName))))\r\n      .then(likesCount => {\r\n        return songsList.map((song, index) => {\r\n          song.likesCount = likesCount[index];\r\n          return song;\r\n        })\r\n      })\r\n      .then(songs => songs.sort(sortSongsByBandName))\r\n      .then(songs => resolve(songs))\r\n      .catch(error => reject(error))\r\n  })\r\n}\r\n","import React from 'react';\r\nimport Icon from '@ant-design/icons';\r\n\r\nexport const HeartSvg = () => (\r\n  <svg width=\"1em\" height=\"1em\" fill=\"currentColor\" viewBox=\"0 0 1024 1024\">\r\n    <path d=\"M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9z\" />\r\n  </svg>\r\n);\r\n\r\nexport const HeartIcon = props => <Icon component={HeartSvg} {...props} />;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { CustomerServiceOutlined } from '@ant-design/icons';\r\n\r\nimport { HeartIcon } from '../../../utility/icons';\r\nimport classes from './ItemResult.module.css';\r\n\r\nconst ItemResult = ({ song, startPlay }) => {\r\n  return (\r\n    <Link\r\n      onClick={startPlay.bind(this, song)}\r\n      to={{ pathname: '/band', state: { localId: song.localId } }}\r\n    >\r\n      <div className={classes.dataArea}>\r\n        <div className={classes.title}>{song.name}</div>\r\n        <div className={classes.songStatistic}>\r\n          <CustomerServiceOutlined /> {song.listened_times}\r\n          <HeartIcon /> {song.likesCount}\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default ItemResult;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { AutoComplete, message } from 'antd';\r\n\r\nimport { startPlayRecivedSongActionCreator } from '../../store/songs/actions';\r\nimport { fetchSongs } from '../../utility/song-queries';\r\nimport ItemResult from './ItemResult/ItemResult';\r\nimport './SearchBar.css';\r\n\r\nconst SearchBar = (props) => {\r\n  const [searchWord, setSearchWord] = useState('');\r\n  const [timerId, setTimerId] = useState(null);\r\n  const [recivedSongs, setRecivedSongs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (searchWord.length < 3) return;\r\n\r\n    clearTimeout(timerId);\r\n\r\n    const timer = setTimeout(() => {\r\n      fetchSongs(searchWord)\r\n        .then(songs => handleResultRecive(songs))\r\n        .catch(error => message.error(error.message))\r\n    }, 800)\r\n\r\n    setTimerId(timer);\r\n  }, [searchWord])\r\n\r\n  const handleResultRecive = (songs) => {\r\n    setRecivedSongs(songs);\r\n  }\r\n\r\n  const handleChange = (event) => {\r\n    const word = event.target.value;\r\n    setSearchWord(word);\r\n  }\r\n\r\n\r\n  const renderTitle = title => (\r\n    <span>{title}</span>\r\n  );\r\n\r\n  const renderItem = (song) => ({\r\n    value: song.name,\r\n    label: <ItemResult song={song} startPlay={props.startPlay} />,\r\n  });\r\n\r\n  return (\r\n    <div className={'search_bar-container'}>\r\n      <AutoComplete\r\n        value={searchWord}\r\n        placeholder=\"Type to search songs here...\"\r\n        onInput={handleChange}\r\n        options={\r\n          recivedSongs.map((song, index) => {\r\n            let bandName = song.bandName;\r\n            if (index > 0 && recivedSongs[index - 1].bandName === song.bandName) {\r\n              bandName = null;\r\n            }\r\n\r\n            if (bandName) {\r\n              return {\r\n                label: renderTitle(bandName),\r\n                options: [renderItem(song)],\r\n              }\r\n            } else {\r\n              return renderItem(song);\r\n            }\r\n          })\r\n        }\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    startPlay: (song) => { dispatch(startPlayRecivedSongActionCreator(song)) },\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(SearchBar);\r\n","import * as actionTypes from '../actionTypes';\r\nimport axios from 'axios';\r\n\r\nexport const startLoadingActionCreator = () => {\r\n  return {\r\n    type: actionTypes.START_LOADING,\r\n  }\r\n}\r\n\r\nexport const finishLoadingActionCreator = () => {\r\n  return {\r\n    type: actionTypes.FINISH_LOADING,\r\n  }\r\n}\r\n\r\nexport const loginActionCreator = (userData, rememberMe = false) => {\r\n  return {\r\n    type: actionTypes.LOGIN,\r\n    userData,\r\n    rememberMe,\r\n  }\r\n}\r\n\r\nexport const loginByLocalDataActionCreator = () => {\r\n  return {\r\n    type: actionTypes.LOGIN_LOCALY,\r\n  }\r\n}\r\n\r\nexport const authStartActionCreator = () => {\r\n  return {\r\n    type: actionTypes.AUTH_START,\r\n  }\r\n}\r\n\r\nexport const authErrorActionCreator = (error) => {\r\n  return {\r\n    type: actionTypes.AUTH_ERROR,\r\n    error,\r\n  }\r\n}\r\n\r\nexport const setTimeoutIdActionCreator = (timerId) => {\r\n  return {\r\n    type: actionTypes.RESET_TIMEOUT_ID,\r\n    timerId,\r\n  }\r\n}\r\n\r\nexport const setNewTokenActionCreator = (tokens) => {\r\n  return {\r\n    type: actionTypes.SET_TOKEN,\r\n    tokens,\r\n  }\r\n}\r\n\r\nexport const logoutActionCreator = () => {\r\n  return {\r\n    type: actionTypes.LOGOUT,\r\n  }\r\n}\r\n\r\n//middleware\r\nexport const resetTokenTimer = () => { //set token auto-refreshing\r\n  return (dispatch, getState) => {\r\n    clearTimeout(getState().auth.refreshTimerId);\r\n\r\n    let delay = (getState().auth.expiresIn - Math.floor((new Date().getTime() / 1000))) * 1000 - 30 * 1000;\r\n\r\n    if (delay < 0) delay = 0;\r\n\r\n    const timerId = setTimeout(\r\n      () => {\r\n        const refreshData = {\r\n          grant_type: 'refresh_token',\r\n          refresh_token: getState().auth.refreshToken\r\n        };\r\n        try {\r\n          dispatch(refreshTokenActionCreator(refreshData));\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n      }, delay\r\n    );\r\n    dispatch(setTimeoutIdActionCreator(timerId));\r\n  }\r\n}\r\n\r\nexport const postBandDataActionCreator = (createdUser, newUser) => {\r\n  return dispatch => {\r\n    if (newUser.bandName) {\r\n      const band = {\r\n        localId: createdUser.localId,\r\n        bandName: newUser.bandName,\r\n        genres: newUser.genres,\r\n        description: 'No description yet',\r\n      }\r\n\r\n      axios.post(`${process.env.REACT_APP_FIREBASE_DATABASE}/bands.json/?auth=${createdUser.idToken}`, band)\r\n        .then(() => {\r\n          createdUser.isBand = true;\r\n          dispatch(loginActionCreator(createdUser))\r\n          dispatch(resetTokenTimer());\r\n        })\r\n        .catch(error => dispatch(authErrorActionCreator(error)))\r\n\r\n    } else {\r\n      dispatch(loginActionCreator(createdUser))\r\n      dispatch(resetTokenTimer());\r\n    }\r\n  }\r\n}\r\n\r\nexport const setUserTypeActionCreator = (user, rememberMe) => { //band or regular user\r\n  return dispatch => {\r\n    let queryParams = `?orderBy=\"localId\"&equalTo=\"${user.localId}\"&limitToFirst=1`;\r\n    axios.get(`${process.env.REACT_APP_FIREBASE_DATABASE}/bands.json/${queryParams}`)\r\n      .then(response => {\r\n        if (response.data) {\r\n          user.isBand = true;\r\n        }\r\n\r\n        dispatch(loginActionCreator(user, rememberMe))\r\n        dispatch(resetTokenTimer());\r\n      })\r\n      .catch(error => console.log(error));\r\n  }\r\n}\r\n\r\nexport const signUpActionCreator = (newUser) => {\r\n  return dispatch => {\r\n    dispatch(authStartActionCreator());\r\n\r\n    const authData = {\r\n      email: newUser.email,\r\n      password: newUser.password,\r\n      returnSecureToken: true\r\n    }\r\n\r\n    axios.post(`https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${process.env.REACT_APP_FIREBASE_KEY}`, authData)\r\n      .then(response => {\r\n        dispatch(postBandDataActionCreator(response.data, newUser));\r\n      })\r\n      .catch(error => dispatch(authErrorActionCreator(error)))\r\n  }\r\n}\r\n\r\nexport const signInActionCreator = (userData, rememberMe) => {\r\n  return dispatch => {\r\n    dispatch(authStartActionCreator());\r\n\r\n    const authData = {\r\n      email: userData.email,\r\n      password: userData.password,\r\n      returnSecureToken: true\r\n    }\r\n    axios.post(`https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${process.env.REACT_APP_FIREBASE_KEY}`, authData)\r\n      .then(response => {\r\n        dispatch(setUserTypeActionCreator(response.data, rememberMe));\r\n      })\r\n      .catch(error => dispatch(authErrorActionCreator(error)))\r\n  }\r\n}\r\n\r\nexport const signInLocallyActionCreator = () => {\r\n  return (dispatch) => {\r\n    if (localStorage.getItem('idToken')) {\r\n      dispatch(loginByLocalDataActionCreator());\r\n      dispatch(resetTokenTimer());\r\n    }\r\n\r\n    dispatch(finishLoadingActionCreator());\r\n  }\r\n}\r\n\r\nexport const refreshTokenActionCreator = (token) => {\r\n  return dispatch => {\r\n    axios.post(`https://securetoken.googleapis.com/v1/token?key=${process.env.REACT_APP_FIREBASE_KEY}`, token)\r\n      .then(response => {\r\n        const newTokenData = {\r\n          idToken: response.data.id_token,\r\n          refreshToken: response.data.refresh_token,\r\n          expiresIn: +response.data.expires_in,\r\n        }\r\n        dispatch(setNewTokenActionCreator(newTokenData)); //refreshing token\r\n        dispatch(resetTokenTimer());\r\n      })\r\n      .catch(err => {\r\n        dispatch(authErrorActionCreator(err));\r\n        dispatch(logoutActionCreator());\r\n      });\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport classes from './DesktopNavMenu.module.css';\r\n\r\nconst DesktopNavMenu = (props) => {\r\n  const handleClick = (event) => {\r\n    const disableLinks = props.disabled;\r\n    if (disableLinks) event.preventDefault()\r\n  }\r\n\r\n  return (\r\n    <div className={props.position === 'left' ? classes.leftMenu : classes.rightMenu}>\r\n      {\r\n        props.items.map((item, index) => (\r\n          <NavLink\r\n            key={index}\r\n            to={item.to || item.split(' ').join('-')}\r\n            className={classes.navLink}\r\n            activeClassName={classes.navLinkActive}\r\n            onClick={handleClick}\r\n            exact\r\n          >\r\n            {item.name || item}\r\n          </NavLink>\r\n        ))\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DesktopNavMenu;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { Menu } from 'antd';\r\n\r\nimport { logoutActionCreator } from '../../../../store/authorization/actions';\r\nimport { clearPlaylistActionCreator } from '../../../../store/songs/actions';\r\nimport classes from './Menu.module.css';\r\n\r\nconst MenuComponent = (props) => {\r\n  const logoutAndCleanup = () => {\r\n    props.logout();\r\n    props.clearPlaylists();\r\n  }\r\n\r\n  let authSection = ['sign in', 'sign up']\r\n    .map((item, index) => (\r\n      <Menu.Item key={index} disabled={props.disabled}>\r\n        <NavLink\r\n          to={item.to || item.split(' ').join('-')}\r\n          className={classes.navLink}\r\n          activeClassName={classes.navLinkActive}\r\n          exact\r\n        >\r\n          {item.name || item}\r\n        </NavLink>\r\n      </Menu.Item>\r\n    ));\r\n\r\n  if (props.email) authSection = (\r\n    <Menu.Item>\r\n      <div\r\n        className={classes.navLink}\r\n        onClick={props.disabled ? null :logoutAndCleanup}>\r\n        {'Logout'}\r\n      </div>;\r\n    </Menu.Item>\r\n  )\r\n\r\n\r\n\r\n  return (\r\n    <Menu className={classes.menu}>\r\n      {\r\n        props.items.map((item, index) => (\r\n          <Menu.Item key={index} disabled={props.disabled}>\r\n            <NavLink\r\n              to={item.to || item.split(' ').join('-')}\r\n              className={classes.navLink}\r\n              activeClassName={classes.navLinkActive}\r\n              exact\r\n            >\r\n              {item.name || item}\r\n            </NavLink>\r\n          </Menu.Item>\r\n        ))\r\n      }\r\n      <Menu.Divider />\r\n      {authSection}\r\n    </Menu>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    email: state.auth.email,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    logout: () => { dispatch(logoutActionCreator()) },\r\n    clearPlaylists: () => { dispatch(clearPlaylistActionCreator()) },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuComponent);\r\n","import React, { useState } from 'react';\r\n\r\nimport { Dropdown, Button } from 'antd';\r\nimport { MenuFoldOutlined } from '@ant-design/icons';\r\n\r\nimport Menu from './Menu/Menu';\r\nimport classes from './MobileNavMenu.module.css';\r\n\r\nconst MobileNavMenu = (props) => {\r\n  const [menuIsOpen, setMenuIsOpen] = useState(false);\r\n\r\n  const openMenu = () => {\r\n    setMenuIsOpen(true);\r\n  }\r\n\r\n  const closeMenu = () => {\r\n    setTimeout(() => {\r\n      setMenuIsOpen(false);\r\n    }, 100)\r\n  }\r\n\r\n  return (\r\n    <Dropdown\r\n      overlay={() => <Menu items={props.items} disabled={props.disabled} />}\r\n      placement=\"bottomRight\"\r\n      visible={menuIsOpen}\r\n    >\r\n      <Button\r\n        className={classes.mobileMenu}\r\n        icon={<MenuFoldOutlined />}\r\n        ghost\r\n        onClick={openMenu}\r\n        onBlur={closeMenu} />\r\n    </Dropdown>\r\n  )\r\n}\r\n\r\nexport default MobileNavMenu;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Layout } from 'antd';\r\n\r\nimport SearchBar from '../../SearchBar/SearchBar';\r\nimport { logoutActionCreator } from '../../../store/authorization/actions';\r\nimport { clearPlaylistActionCreator } from '../../../store/songs/actions';\r\nimport Logo from '../../../assets/images/logo.png';\r\nimport DesktopMenu from '../../UI/DesktopNavMenu/DesktopNavMenu';\r\nimport MobileMenu from '../../UI/MobileNavMenu/MobileNavMenu';\r\n\r\nconst { Header } = Layout;\r\n\r\nconst HeaderComponent = (props) => {\r\n  const logoutAndCleanup = () => {\r\n    props.logout();\r\n    props.clearPlaylists();\r\n  }\r\n  const disableLinks = props.loading || props.creating;\r\n\r\n  let authSection = <DesktopMenu position={'right'} disabled={disableLinks} items={['sign in', 'sign up']}></DesktopMenu>\r\n  if (props.email) authSection = (\r\n    <div\r\n      className={'logout-btn'}\r\n      onClick={disableLinks ? null : logoutAndCleanup}>{'Logout'}\r\n    </div >\r\n  );\r\n\r\n  const linkToMyBand = {\r\n    name: 'my band',\r\n    to: {\r\n      pathname: '/band',\r\n      state: {\r\n        localId: props.localId,\r\n      }\r\n    }\r\n  }\r\n\r\n  const linkToMyMusic = {\r\n    name: 'music',\r\n    to: '/',\r\n  }\r\n\r\n  const actionLinks = [linkToMyMusic];\r\n  if (props.email) actionLinks.push('playlists');\r\n  if (props.isBand) actionLinks.push(linkToMyBand)\r\n\r\n  return (\r\n    <Header className='header'>\r\n      <div className='logo'>\r\n        <img src={Logo} alt={'logo'} />\r\n      </div>\r\n\r\n      <DesktopMenu position={'left'} disabled={disableLinks} items={actionLinks}></DesktopMenu>\r\n      <MobileMenu items={actionLinks} disabled={disableLinks}></MobileMenu>\r\n\r\n      {authSection}\r\n      <SearchBar />\r\n    </Header>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    email: state.auth.email,\r\n    isBand: state.auth.isBand,\r\n    localId: state.auth.localId,\r\n    loading: state.songs.loading,\r\n    creating: state.songs.creating,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    logout: () => { dispatch(logoutActionCreator()) },\r\n    clearPlaylists: () => { dispatch(clearPlaylistActionCreator()) },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderComponent);\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Menu, Layout } from 'antd';\r\nimport { RightSquareOutlined } from '@ant-design/icons';\r\n\r\nimport {\r\n  filterByGenreActionCreator,\r\n  changeSelectedGenreActionCreator,\r\n  clearSongListActionCreator,\r\n  startSongsLoadingActionCreator,\r\n} from '../../store/songs/actions';\r\nimport { genres } from '../../utility/music-genres';\r\n\r\nconst Filter = (props) => {\r\n  const { Sider } = Layout;\r\n  const { genre, getSongsByGenre, startLoading, clearSongsList } = props;\r\n\r\n  useEffect(() => {\r\n    clearSongsList();\r\n    startLoading();\r\n    setTimeout(() => getSongsByGenre(genre), 2000);\r\n  }, [genre, getSongsByGenre, startLoading, clearSongsList])\r\n\r\n  return (\r\n    <Sider\r\n      breakpoint=\"lg\"\r\n      collapsedWidth=\"0\"\r\n      width={200} className=\"site-layout-background\">\r\n      <Menu\r\n        mode=\"inline\"\r\n        selectedKeys={[genre.toString()]}\r\n        style={{ height: '100%', borderRight: 0, textAlign: 'left', }}\r\n      >\r\n        {genres.map((item, index) => (\r\n          <Menu.Item\r\n            key={index}\r\n            onClick={props.changeGenre.bind(this, index)}\r\n            disabled={props.loading || props.creating}\r\n          >\r\n            <RightSquareOutlined /> {item}\r\n          </Menu.Item>\r\n        ))}\r\n      </Menu>\r\n    </Sider>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    genre: state.songs.genre,\r\n    loading: state.songs.loading,\r\n    creating: state.songs.creating,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    startLoading: (key) => { dispatch(startSongsLoadingActionCreator()) },\r\n    getSongsByGenre: (key) => { dispatch(filterByGenreActionCreator(key)) },\r\n    changeGenre: (key) => { dispatch(changeSelectedGenreActionCreator(key)) },\r\n    clearSongsList: () => { dispatch(clearSongListActionCreator()) },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter);\r\n","import React from 'react';\r\n\r\nimport { Button } from 'antd';\r\n\r\nconst SubmitButton = ({ authStart, label }) => {\r\n  return (\r\n    <Button\r\n      type=\"primary\"\r\n      htmlType=\"submit\"\r\n      className={'submit-btn'}\r\n      loading={authStart}\r\n      disabled={authStart}\r\n    >\r\n      {label}\r\n    </Button>\r\n  )\r\n}\r\n\r\nexport default SubmitButton;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Row, Col } from 'antd';\r\n\r\nconst BottomNote = ({ to, note }) => {\r\n  return (\r\n    <Row justify=\"end\">\r\n      <Col span={24}>\r\n        <Link to={to} className={'redirect-link'}>\r\n          {note}\r\n        </Link>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default BottomNote;\r\n","import React from 'react';\r\n\r\nimport { Alert, Row, Col } from 'antd';\r\n\r\nconst AlertMessage = ({ errorMessage }) => {\r\n  const GridAlert = (() =>\r\n    <Row justify=\"center\" align=\"middle\">\r\n      <Col xs={24} sm={{ span: 12 }} md={{ span: 8 }} lg={{ span: 8 }} >\r\n        <Alert message={errorMessage} type=\"error\" showIcon />\r\n      </Col>\r\n    </Row>\r\n  )\r\n  return (\r\n    errorMessage !== null\r\n      ? <GridAlert />\r\n      : null\r\n  )\r\n}\r\n\r\nexport default AlertMessage;\r\n","import React from 'react';\r\n\r\nimport { Typography } from 'antd';\r\n\r\nimport Logo from '../../../../assets/images/logoSimple.png';\r\n\r\nconst Head = ({ title }) => {\r\n  return (\r\n    <>\r\n      <img src={Logo} alt={'logo'} />\r\n      <Typography.Title className={'header-label'} level={3}>{title}</Typography.Title>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Head;\r\n","import React from 'react';\r\n\r\nimport { Form, Input, Select } from 'antd';\r\n\r\nimport { genres } from '../../../utility/music-genres';\r\n\r\nconst AuthInputs = ({ stateInputs, onChangeHandler }) => {\r\n  const { Option } = Select;\r\n\r\n  const genresOptions = [];\r\n  for (let genre of genres) {\r\n    genresOptions.push(<Option key={genre}>{genre}</Option>);\r\n  }\r\n\r\n  let inputs = [];\r\n  for (let key in stateInputs) {\r\n    inputs.push(\r\n      <Form.Item\r\n        key={key}\r\n        name={stateInputs[key].config.name}\r\n        label={stateInputs[key].config.label}\r\n        rules={[stateInputs[key].validationRules]}>\r\n        {\r\n          (key === 'genre' || key === 'genres')\r\n            ? <Select\r\n              mode={key === 'genres' ? 'multiple' : null}\r\n              placeholder=\"Please select genres\"\r\n              value={stateInputs[key].value}\r\n              onChange={onChangeHandler.bind(this, key)}\r\n            >\r\n              {genresOptions}\r\n            </Select>\r\n            : <Input\r\n              type={stateInputs[key].config.type}\r\n              value={stateInputs[key].value}\r\n              onChange={onChangeHandler.bind(this, key)}\r\n            />\r\n\r\n        }\r\n      </Form.Item>\r\n    );\r\n  }\r\n\r\n  return inputs;\r\n}\r\n\r\nexport default AuthInputs;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport { Form, Checkbox } from 'antd';\r\n\r\nimport { signUpActionCreator } from '../../../store/authorization/actions';\r\nimport '../Authorization.css';\r\nimport SubmitButton from '../AuthUI/SubmitButton/SubmitButton';\r\nimport BottomNote from '../AuthUI/BottomNote/BottomNote';\r\nimport Alert from '../AuthUI/Alert/Alert';\r\nimport Head from '../AuthUI/Head/Head';\r\nimport DataInputs from '../../UI/DataInputs/DataInputs';\r\n\r\nconst SignUp = (props) => {\r\n  const [isBand, setIsBand] = useState(false);\r\n\r\n  const [stateInputs, setStateInputs] = useState({\r\n    email: {\r\n      config: {\r\n        name: 'email',\r\n        label: 'Email',\r\n      },\r\n      validationRules: {\r\n        required: true,\r\n        type: 'email',\r\n      },\r\n      value: '',\r\n    },\r\n    password: {\r\n      config: {\r\n        type: 'password',\r\n        name: 'password',\r\n        label: 'Password',\r\n      },\r\n      validationRules: {\r\n        required: true,\r\n        type: 'string',\r\n        min: 6,\r\n      },\r\n      value: '',\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (isBand) {\r\n      const bandData = {\r\n        bandName: {\r\n          config: {\r\n            name: 'name',\r\n            label: 'Band name',\r\n          },\r\n          validationRules: {\r\n            required: true,\r\n            type: 'string',\r\n            min: 2,\r\n          },\r\n          value: '',\r\n        },\r\n        genres: {\r\n          config: {\r\n            type: 'text',\r\n            name: 'genres',\r\n            label: 'Genres',\r\n          },\r\n          validationRules: {\r\n            required: true,\r\n          },\r\n          value: '',\r\n        },\r\n      }\r\n\r\n      setStateInputs({ ...bandData, ...stateInputs });\r\n    } else if (Object.keys(stateInputs).length > 2) {\r\n      let stateInputsClone = { ...stateInputs };\r\n      delete stateInputsClone.bandName;\r\n      delete stateInputsClone.genres;\r\n      setStateInputs({ ...stateInputsClone });\r\n    }\r\n  }, [isBand])\r\n\r\n  const signUpHandler = () => {\r\n    const newUser = {}\r\n    for (let key in stateInputs) {\r\n      newUser[key] = stateInputs[key].value;\r\n    }\r\n\r\n    props.signUp(newUser);\r\n  }\r\n\r\n  const onChangeHandler = (inputName, event) => {\r\n    const newValue = (inputName === 'genres') ? event : event.target.value;\r\n    setStateInputs(prevState => ({\r\n      ...prevState,\r\n      [inputName]: {\r\n        ...prevState[inputName],\r\n        value: newValue,\r\n      }\r\n    }));\r\n  }\r\n\r\n  const registerBandToggle = () => {\r\n    setIsBand(prevState => !prevState);\r\n  }\r\n\r\n  const validateMessages = {\r\n    types: {\r\n      email: '${label} is not valid!',\r\n    },\r\n    string: {\r\n      min: '${label} must be at least ${min} characters',\r\n    },\r\n  };\r\n\r\n  if (props.email) return (\r\n    <Redirect to={'/'} />\r\n  )\r\n\r\n  const layout = {\r\n    labelCol: {\r\n      sm: { offset: 2, span: 4 },\r\n      md: { offset: 4, span: 4 },\r\n      lg: { offset: 6, span: 2 },\r\n    },\r\n    wrapperCol: {\r\n      sm: { span: 12 },\r\n      md: { span: 8 },\r\n      lg: { span: 8 },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Head title='Sign Up' />\r\n      <Form {...layout} name=\"nest-messages\" onFinish={signUpHandler} validateMessages={validateMessages}>\r\n\r\n        <DataInputs stateInputs={stateInputs} onChangeHandler={onChangeHandler} />\r\n\r\n        <Checkbox className={'band-checkbox'} onChange={registerBandToggle}>I want to sign up as a band</Checkbox>\r\n\r\n        <Alert errorMessage={props.errorMessage} />\r\n\r\n        <SubmitButton authStart={props.authStart} label={'Sign Up'} />\r\n        <BottomNote to='/sign-in' note='Already have an account? Sign In' />\r\n      </Form>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    errorMessage: state.auth.errorMessage,\r\n    email: state.auth.email,\r\n    authStart: state.auth.authStart\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signUp: (newUser) => dispatch(signUpActionCreator(newUser)),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport { Form, Checkbox } from 'antd';\r\n\r\nimport { signInActionCreator } from '../../../store/authorization/actions';\r\nimport SubmitButton from '../AuthUI/SubmitButton/SubmitButton';\r\nimport BottomNote from '../AuthUI/BottomNote/BottomNote';\r\nimport Alert from '../AuthUI/Alert/Alert';\r\nimport Head from '../AuthUI/Head/Head';\r\nimport DataInputs from '../../UI/DataInputs/DataInputs';\r\nimport '../Authorization.css';\r\n\r\nconst SignIn = (props) => {\r\n  const [rememberMe, setRememberMe] = useState(true);\r\n  const [stateInputs, setStateInputs] = useState({\r\n    email: {\r\n      config: {\r\n        name: 'email',\r\n        label: 'Email',\r\n      },\r\n      validationRules: {\r\n        required: true,\r\n        type: 'email',\r\n      },\r\n      value: '',\r\n    },\r\n    password: {\r\n      config: {\r\n        type: 'password',\r\n        name: 'password',\r\n        label: 'Password',\r\n      },\r\n      validationRules: {\r\n        required: true,\r\n        type: 'string',\r\n        min: 6,\r\n      },\r\n      value: '',\r\n    },\r\n  });\r\n\r\n  const signInHandler = () => {\r\n    const userData = {}\r\n    for (let key in stateInputs) {\r\n      userData[key] = stateInputs[key].value;\r\n    }\r\n\r\n    props.signIn(userData, rememberMe);\r\n  }\r\n\r\n  const onChangeHandler = (inputName, event) => {\r\n    const newValue = event.target.value;\r\n\r\n    setStateInputs(prevState => ({\r\n      ...prevState,\r\n      [inputName]: {\r\n        ...prevState[inputName],\r\n        value: newValue,\r\n      }\r\n    }));\r\n  }\r\n\r\n  const rememberMeToggle = () => {\r\n    setRememberMe(prevState => !prevState);\r\n  }\r\n\r\n  const validateMessages = {\r\n    types: {\r\n      email: '${label} is not valid!',\r\n    },\r\n    string: {\r\n      min: '${label} must be at least ${min} characters',\r\n    },\r\n  };\r\n\r\n  if (props.email) return (\r\n    <Redirect to={'/'} />\r\n  )\r\n\r\n  const layout = {\r\n    labelCol: {\r\n      sm: { offset: 2, span: 4 },\r\n      md: { offset: 4, span: 4 },\r\n      lg: { offset: 6, span: 2 },\r\n    },\r\n    wrapperCol: {\r\n      sm: { span: 12 },\r\n      md: { span: 8 },\r\n      lg: { span: 8 },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Head title='Sign In' />\r\n      <Form {...layout} name=\"nest-messages\" onFinish={signInHandler} validateMessages={validateMessages}>\r\n        \r\n        <DataInputs stateInputs={stateInputs} onChangeHandler={onChangeHandler} />\r\n\r\n        <Checkbox className={'band-checkbox'} defaultChecked onChange={rememberMeToggle}>Remember me</Checkbox>\r\n\r\n        <Alert errorMessage={props.errorMessage} />\r\n\r\n        <SubmitButton authStart={props.authStart} label={'Sign In'} />\r\n\r\n        <BottomNote to='/sign-up' note={'Don\\'t have an account? Sign Up'} />\r\n      </Form>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    errorMessage: state.auth.errorMessage,\r\n    email: state.auth.email,\r\n    authStart: state.auth.authStart\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signIn: (userData, rememberMe) => dispatch(signInActionCreator(userData, rememberMe)),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);\r\n","import React, { useState } from 'react';\r\n\r\nimport { Typography, Popconfirm, message } from 'antd';\r\n\r\nimport './EditableInput.css';\r\n\r\nconst EditableInput = (props) => {\r\n  const { Paragraph } = Typography;\r\n\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n  const [newValue, setNewValue] = useState(null);\r\n\r\n  const confirmChange = () => {\r\n    props.udateBandData({ [props.editKey]: newValue });\r\n\r\n    setShowConfirm(false);\r\n    setNewValue(null);\r\n  }\r\n\r\n  const cancelChange = () => {\r\n    setShowConfirm(false);\r\n    setNewValue(null);\r\n  }\r\n\r\n  const onChangeHandler = (value) => {\r\n    if (value !== props.value && value.length >= props.minLength && value.length <= props.maxLength) {\r\n      setNewValue(value);\r\n      setShowConfirm(true);\r\n    } else if (value.length < props.minLength) {\r\n      message.warning(`Minimum string length - ${props.minLength} characters`);\r\n    } else if (value.length > props.maxLength) {\r\n      message.warning(`Maximum string length - ${props.maxLength} characters`);\r\n    }\r\n  }\r\n\r\n  let input = <Paragraph className={'editable-paragraph'} style={props.style}>{props.value}</Paragraph>\r\n  if (props.editable) {\r\n    input = (\r\n      <Popconfirm\r\n        title={`${props.confirmMessage} \"${newValue}\"?`}\r\n        visible={showConfirm}\r\n        onConfirm={confirmChange}\r\n        onCancel={cancelChange}\r\n        okText=\"Yes\"\r\n        cancelText=\"No\"\r\n      >\r\n        <Paragraph className={'editable-paragraph'} style={props.style} editable={{ onChange: onChangeHandler }} >{props.value}</Paragraph>\r\n      </Popconfirm>\r\n    )\r\n  }\r\n\r\n  return input;\r\n}\r\n\r\nexport default EditableInput;\r\n","import * as actionTypes from '../actionTypes';\r\nimport axios from 'axios'\r\nimport firebase from '../../firebase';\r\n\r\nexport const setBandDataActionCreator = (bandData) => {\r\n  return {\r\n    type: actionTypes.SET_BAND_DATA,\r\n    bandData,\r\n  }\r\n}\r\n\r\nexport const finishFetchingDataActionCreator = () => {\r\n  return {\r\n    type: actionTypes.FINISH_BAND_LOADING,\r\n  }\r\n}\r\n\r\nexport const startUpdatingDataActionCreator = () => {\r\n  return {\r\n    type: actionTypes.START_BAND_UPDATING,\r\n  }\r\n}\r\n\r\nexport const finishUpdatingDataActionCreator = () => {\r\n  return {\r\n    type: actionTypes.FINISH_BAND_UPDATING,\r\n  }\r\n}\r\n\r\nexport const bandErrorActionCreator = (error) => {\r\n  return {\r\n    type: actionTypes.BAND_ERROR,\r\n    error,\r\n  }\r\n}\r\n\r\nexport const clearBandDataActionCreator = () => {\r\n  return {\r\n    type: actionTypes.CLEAR_BAND_DATA,\r\n  }\r\n}\r\n\r\n//middleware\r\n\r\nexport const fetchBandDataActionCreator = (localId) => {\r\n  return dispatch => {\r\n    let queryParams = `?orderBy=\"localId\"&equalTo=\"${localId}\"&limitToFirst=1`;\r\n    axios.get(`${process.env.REACT_APP_FIREBASE_DATABASE}/bands.json/${queryParams}`)\r\n      .then(response => {\r\n        if (response.data) {\r\n          const bandKey = Object.keys(response.data)[0];\r\n\r\n          dispatch(setBandDataActionCreator({ ...response.data[bandKey], key: bandKey }));\r\n          dispatch(finishFetchingDataActionCreator());\r\n        }\r\n        else throw Error('Band does not exist!');\r\n      })\r\n      .catch(error => dispatch(bandErrorActionCreator(error)));\r\n  }\r\n}\r\n\r\nexport const updateBandDataActionCreator = (data) => {\r\n  return (dispatch, getState) => {\r\n    dispatch(startUpdatingDataActionCreator());\r\n\r\n    const token = getState().auth.idToken;\r\n    const firebaseKey = getState().band.key;\r\n\r\n    let queryParams = `?auth=${token}`;\r\n    axios.patch(`${process.env.REACT_APP_FIREBASE_DATABASE}/bands/${firebaseKey}/.json/${queryParams}`, data)\r\n      .then(response => {\r\n        dispatch(setBandDataActionCreator(response.data));\r\n        dispatch(finishUpdatingDataActionCreator());\r\n      })\r\n      .catch(error => {\r\n        dispatch(bandErrorActionCreator(error))\r\n        dispatch(finishUpdatingDataActionCreator());\r\n      });\r\n  }\r\n}\r\n\r\nexport const uploadImageActionCreator = (oldFileName, file) => {\r\n  return dispatch => {\r\n    dispatch(startUpdatingDataActionCreator());\r\n\r\n    const fileName = new Date().getTime() + file.name;\r\n\r\n    firebase.storage().ref('band-images/').child(fileName).put(file)\r\n      .then(response => {\r\n        const { name: image } = response.metadata;\r\n\r\n        dispatch(removeImageActionCreator(oldFileName))\r\n        dispatch(updateBandDataActionCreator({ image }))\r\n      })\r\n      .catch(error => {\r\n        dispatch(bandErrorActionCreator(error))\r\n        dispatch(finishUpdatingDataActionCreator());\r\n      })\r\n  }\r\n}\r\n\r\nexport const removeImageActionCreator = (imageName) => {\r\n  return dispatch => {\r\n    if (imageName === 'no-image.jpg') return;\r\n    \r\n    firebase.storage().ref(`band-images/${imageName}`).delete()\r\n      .catch(error => console.log(error.message));\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport EditableInput from '../../UI/EditableInput/EditableInput';\r\nimport { updateBandDataActionCreator } from '../../../store/band/actions';\r\n\r\nconst BandName = (props) => {\r\n  const style = {\r\n    fontSize: '18px',\r\n    fontWeight: '500',\r\n    margin: 'auto'\r\n  }\r\n\r\n  return (\r\n    <EditableInput\r\n      editKey='bandName'\r\n      value={props.bandName}\r\n      udateBandData={props.udateBandData}\r\n      minLength={2}\r\n      maxLength={15}\r\n      style={style}\r\n      editable={props.bandId === props.userId}\r\n      confirmMessage={'Change band name to'} />\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userId: state.auth.localId,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    udateBandData: (data) => { dispatch(updateBandDataActionCreator(data)) },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BandName);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { updateBandDataActionCreator } from '../../../store/band/actions';\r\nimport EditableInput from '../../UI/EditableInput/EditableInput';\r\n\r\nconst BandDescription = (props) => {\r\n  const style = {\r\n    maxHeight: '100px',\r\n    overflow: 'auto',\r\n    fontSize: '13px',\r\n    color: 'dimgrey',\r\n    textAlign: 'justify',\r\n    maxWidth: 'fit-content',\r\n  }\r\n\r\n  return (\r\n    <EditableInput\r\n      editKey='description'\r\n      value={props.description}\r\n      udateBandData={props.udateBandData}\r\n      minLength={10}\r\n      maxLength={150}\r\n      style={style}\r\n      editable={props.bandId === props.userId}\r\n      confirmMessage={'Change description to'} />\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userId: state.auth.localId,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    udateBandData: (data) => { dispatch(updateBandDataActionCreator(data)) },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BandDescription);\r\n","import React from 'react';\r\n\r\nimport { Tag } from 'antd';\r\n\r\nimport classes from './BandGenres.module.css';\r\n\r\nconst BandGenres = (props) => {\r\n  return (\r\n    <div className={classes.genresContainer}>\r\n      {\r\n        props.genres.map((genre, index) => (\r\n          <Tag key={index} className={classes.genre} color=\"purple\">{genre}</Tag>\r\n        ))\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BandGenres;\r\n","import { message } from 'antd';\r\n\r\nexport const validateImage = (maxSize = 2, image) => {  // maxSize(Mb)\r\n  const isJpgOrPng = image.type === 'image/jpeg' || image.type === 'image/png';\r\n  if (!isJpgOrPng) {\r\n    message.error('You can only upload JPG/PNG file!');\r\n  }\r\n\r\n  const isLt2M = image.size / 1024 / 1024 < maxSize;\r\n  if (!isLt2M) {\r\n    message.error(`Image must be smaller than ${maxSize}MB!`);\r\n  }\r\n\r\n  return isJpgOrPng && isLt2M;\r\n}\r\n\r\nexport const validateSong = (song) => {\r\n  const isMpeg = song.type === 'audio/mpeg';\r\n  if (!isMpeg) {\r\n    message.error('You can only upload MP3/PNG file!');\r\n  }\r\n\r\n  const isLt2M = song.size / 1024 / 1024 < 30;\r\n  if (!isLt2M) {\r\n    message.error(`Image must be smaller than 30MB!`);\r\n  }\r\n\r\n  return isMpeg && isLt2M;\r\n}\r\n\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Upload, Button, Tooltip } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\nimport { uploadImageActionCreator } from '../../../store/band/actions';\r\nimport { validateImage } from '../../../utility/file-validation';\r\nimport classes from './BandImage.module.css';\r\n\r\nconst BandImage = (props) => {\r\n  let uploadButton = (\r\n\r\n    <>\r\n      <Upload\r\n        className={classes.uploadButton}\r\n        showUploadList={false}\r\n        action={props.uploadImage.bind(this, props.image)}\r\n        beforeUpload={validateImage.bind(this, 5)}\r\n      >\r\n        <div className={classes.backgroundMask}></div>\r\n        <Tooltip title=\"Upload new image\">\r\n          <Button type=\"dashed\" shape=\"circle\" ghost icon={<UploadOutlined />} />\r\n        </Tooltip>\r\n      </Upload>\r\n    </>\r\n  )\r\n  if (props.bandId !== props.userId) uploadButton = null;\r\n\r\n  return (\r\n    <>\r\n      <img\r\n        alt=\"band poster\"\r\n        src={`https://firebasestorage.googleapis.com/v0/b/`\r\n          + `${process.env.REACT_APP_FIREBASE_KEY_STORE_BUCKET}/o/band-images%2F`\r\n          + `${props.image}?alt=media`}\r\n      />\r\n      {uploadButton}\r\n    </>)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userId: state.auth.localId,\r\n    userToken: state.auth.idToken,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    uploadImage: (oldImageName, newImage) => { dispatch(uploadImageActionCreator(oldImageName, newImage)) },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BandImage);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Tooltip, Skeleton } from 'antd';\r\nimport { PlaySquareOutlined, CustomerServiceOutlined } from '@ant-design/icons';\r\n\r\nimport { HeartIcon } from '../../../utility/icons';\r\nimport classes from './BandStatistic.module.css';\r\n\r\nconst BandStatistic = (props) => {\r\n  if (!props.songs) return <Skeleton title={false} paragraph={{ rows: 1 }} />\r\n\r\n  const likesCount = props.songs.reduce((count, song) => count + song.likesCount, 0);\r\n  const listenedTimes = props.songs.reduce((count, song) => count + song.listened_times, 0);;\r\n  const songsCount = props.songs.length;\r\n\r\n  return (\r\n    <div className={classes.statistic}>\r\n      <div>\r\n        <Tooltip placement=\"bottom\" title={'Tracks count'}>\r\n          <PlaySquareOutlined /> {songsCount}\r\n        </Tooltip>\r\n      </div>\r\n      <div>\r\n        <CustomerServiceOutlined /> {listenedTimes}\r\n      </div>\r\n      <div>\r\n        <HeartIcon /> {likesCount}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    songs: state.songs.songs,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BandStatistic);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Card, Spin } from 'antd';\r\n\r\nimport BandName from './BandName/BandName';\r\nimport BandDescription from './BandDescription/BandDescription';\r\nimport BandGenres from './BandGenres/BandGenres';\r\nimport BandImage from './BandImage/BandImage';\r\nimport BandStatistic from './BandStatistic/BandStatistic';\r\nimport classes from './BandInfo.module.css';\r\n\r\nconst BandInfo = (props) => {\r\n  return (\r\n    <Spin spinning={props.updating}>\r\n      <Card\r\n        className={classes.card}\r\n        loading={props.loading}\r\n        cover={<BandImage image={props.image} bandId={props.bandId} />}\r\n        bodyStyle={{ minWidth: '50%' }}\r\n      >\r\n\r\n        <BandName bandName={props.bandName} bandId={props.bandId} />\r\n        <BandGenres genres={props.genres} />\r\n        <BandDescription description={props.description} bandId={props.bandId} />\r\n        <BandStatistic />\r\n      </Card>\r\n    </Spin>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    bandName: state.band.bandName,\r\n    bandId: state.band.localId,\r\n    description: state.band.description,\r\n    genres: state.band.genres,\r\n    image: state.band.image,\r\n    loading: state.band.loading,\r\n    updating: state.band.updating,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(BandInfo);\r\n","import React from 'react';\r\n\r\nimport { Form, Upload, Button } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\n\r\nimport { validateImage } from '../../../../../utility/file-validation';\r\nimport classes from './SongPicture.module.css';\r\n\r\nconst SongPicture = (props) => {\r\n  return (\r\n    <Form.Item\r\n      name={'Song picture'}\r\n      label={'Song picture'}\r\n      rules={[{ required: true, }]}>\r\n      <Upload\r\n        fileList={null}\r\n        action={props.setPicture}\r\n        showUploadList={false}\r\n        beforeUpload={validateImage.bind(this, 5)}>\r\n        <Button>\r\n          <UploadOutlined />\r\n          {'Upload song picture'}\r\n        </Button>\r\n        {\r\n          props.songPicture\r\n            ? <img src={URL.createObjectURL(props.songPicture)} className={classes.songPicture} alt={'song'} />\r\n            : null\r\n        }\r\n      </Upload>\r\n    </Form.Item>\r\n  )\r\n}\r\n\r\nexport default SongPicture;\r\n","import React, { useState } from 'react';\r\n\r\nimport { Modal, Form, Button, Space, Divider } from 'antd';\r\n\r\nimport DataInputs from '../../../UI/DataInputs/DataInputs';\r\nimport SongPicture from './SongPicture/SongPicture';\r\n\r\nconst SongInfo = (props) => {\r\n  const [songPicture, setSongPicture] = useState(null);\r\n  const [songInputs, setSongInputs] = useState({\r\n    name: {\r\n      config: {\r\n        name: 'name',\r\n        label: 'Name',\r\n      },\r\n      validationRules: {\r\n        required: true,\r\n        type: 'string',\r\n        min: 2,\r\n        max: 25,\r\n      },\r\n      value: '',\r\n    },\r\n    genre: {\r\n      config: {\r\n        type: 'text',\r\n        name: 'genre',\r\n        label: 'Genre',\r\n      },\r\n      validationRules: {\r\n        required: true,\r\n      },\r\n      value: '',\r\n    }\r\n  })\r\n\r\n  const onChangeHandler = (inputName, event) => {\r\n    const newValue = (inputName === 'genre') ? event : event.target.value;\r\n    setSongInputs(prevState => ({\r\n      ...prevState,\r\n      [inputName]: {\r\n        ...prevState[inputName],\r\n        value: newValue,\r\n      }\r\n    }));\r\n  }\r\n\r\n  const createSongHandler = () => {\r\n    const songInfo = {}\r\n    for (let key in songInputs) {\r\n      songInfo[key] = songInputs[key].value;\r\n    }\r\n\r\n    props.createSong(songPicture, songInfo);\r\n    props.closeSongInfo();\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Create new song\"\r\n      footer={null}\r\n      visible\r\n      onCancel={props.closeSongInfo}\r\n    >\r\n      <Form name=\"nest-messages\" onFinish={createSongHandler}>\r\n        <DataInputs stateInputs={songInputs} onChangeHandler={onChangeHandler} />\r\n\r\n       <SongPicture songPicture={songPicture} setPicture={setSongPicture} />\r\n\r\n        <Divider orientation=\"right\">\r\n          <Space>\r\n            <Button type='default' onClick={props.closeSongInfo}>Cancel</Button>\r\n            <Button type='primary' htmlType={'submit'}>Ok</Button>\r\n          </Space>\r\n        </Divider>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default SongInfo;\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Upload, Progress } from 'antd';\r\nimport { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\r\n\r\nimport { uploadSongActionCreator } from '../../../store/songs/actions';\r\nimport { validateSong } from '../../../utility/file-validation';\r\nimport classes from './UploadSong.module.css';\r\nimport SongInfo from './SongInfo/SongInfo';\r\n\r\nconst UploadSong = (props) => {\r\n  const [song, setSong] = useState(null);\r\n  const [openSongModal, setOpenSongModal] = useState(false);\r\n\r\n  const openSongInfoModal = (file) => {\r\n    setSong(file);\r\n    setOpenSongModal(true);\r\n  }\r\n\r\n  const closeSongInfoModal = () => {\r\n    setOpenSongModal(false);\r\n  }\r\n\r\n  const createSong = (songPicture, songInfo) => {\r\n    props.uploadSong(song, songPicture, songInfo);\r\n  }\r\n\r\n  const songInfo = (\r\n    <SongInfo\r\n      closeSongInfo={closeSongInfoModal}\r\n      createSong={createSong} />\r\n  )\r\n\r\n  return (\r\n    <>\r\n      {openSongModal ? songInfo : null}\r\n\r\n      <Upload\r\n        listType=\"picture-card\"\r\n        className={classes.uploadArea}\r\n        showUploadList={false}\r\n        action={openSongInfoModal}\r\n        beforeUpload={validateSong}\r\n        disabled={props.creating}\r\n      >\r\n        <div className={classes.uploadLabel}>\r\n          <div>\r\n            {props.creating ? <LoadingOutlined /> : <PlusOutlined />}\r\n          </div>\r\n          <div className=\"ant-upload-text\">Upload new song</div>\r\n        </div>\r\n      </Upload >\r\n\r\n      {props.creating\r\n        ? <Progress\r\n          strokeLinecap='square'\r\n          strokeColor='#00B7BF'\r\n          percent={props.percentLoaded}\r\n          status={props.error ? \"exception\" : \"active\"} />\r\n        : null}\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    creating: state.songs.creating,\r\n    error: state.songs.error,\r\n    percentLoaded: state.songs.percents,\r\n  }\r\n}\r\n\r\nconst mapDispathToProps = (dispatch) => {\r\n  return {\r\n    uploadSong: (song, songPicture, songInfo) => { dispatch(uploadSongActionCreator(song, songPicture, songInfo)) }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispathToProps)(UploadSong);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport UploadSong from './UploadSong/UploadSong';\r\n\r\nconst CreateSong = (props) => {\r\n  if (props.bandId === props.userId) {\r\n    return <UploadSong />\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    bandId: state.band.localId,\r\n    userId: state.auth.localId,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(CreateSong);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst SongBand = (props) => {\r\n  return (\r\n    <Link to={{\r\n      pathname: '/band',\r\n      state: {\r\n        localId: props.localId,\r\n      }\r\n    }}>\r\n      {props.bandName}\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default SongBand;\r\n","import React from 'react';\r\n\r\nimport { CustomerServiceOutlined } from '@ant-design/icons';\r\n\r\nimport { HeartIcon } from '../../../../utility/icons';\r\nimport classes from './SongStatistics.module.css';\r\n\r\nconst SongStatistics = (props) => {\r\n  const onHeartClicked = (props.updating || !props.userIsAuth)\r\n    ? null\r\n    : props.userIsLikedSong\r\n      ? props.unlikeSong\r\n      : props.likeSong;\r\n\r\n  return (\r\n    <>\r\n      <div><CustomerServiceOutlined /> {props.listened_times}</div>\r\n      <div>\r\n        <HeartIcon\r\n          className={props.userIsLikedSong ? classes.heartIcon : null}\r\n          onClick={onHeartClicked} />{' '}\r\n        {props.likesCount}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SongStatistics;\r\n","import React from 'react';\r\n\r\nimport { Card, Avatar } from 'antd';\r\nimport { PlayCircleFilled, PauseCircleFilled, LoadingOutlined } from '@ant-design/icons';\r\n\r\nimport SongBand from './SongBand/SongBand';\r\nimport SongStatistics from './SongStatistics/SongStatistics';\r\nimport { getDurationInHumanTime } from '../../../utility/audio';\r\nimport classes from './Song.module.css';\r\n\r\nconst Song = React.memo((props) => {\r\n  const { Meta } = Card;\r\n  const { song, currentSong, playNow, selectedSongCanPlay } = props;\r\n\r\n  const songCardClasses = [classes.songCard];\r\n  if (currentSong) songCardClasses.push(classes.activeSongCard);\r\n\r\n  const songImageIcon = (\r\n    (currentSong && playNow)\r\n      ? selectedSongCanPlay\r\n        ? <PauseCircleFilled /> //if current song is playing\r\n        : <LoadingOutlined />   //if current song is loading\r\n      : <PlayCircleFilled />    //if selected song !== current song\r\n  )\r\n\r\n  const songDuration = getDurationInHumanTime(song.duration);\r\n\r\n  return (\r\n    <Card className={songCardClasses.join(' ')}>\r\n      <Meta\r\n        className={classes.songContainer}\r\n        avatar={\r\n          <>\r\n            <Avatar\r\n              shape=\"square\"\r\n              size='large'\r\n              src={`https://firebasestorage.googleapis.com/v0/b/`\r\n                + `${process.env.REACT_APP_FIREBASE_KEY_STORE_BUCKET}/o/pictures-of-songs%2F`\r\n                + `${song.imageName}?alt=media`} />\r\n\r\n            <Avatar\r\n              className={classes.avatarMask}\r\n              shape=\"square\"\r\n              size='large'\r\n              icon={songImageIcon}\r\n              onClick={props.onSongChoosed} />\r\n          </>\r\n        }\r\n\r\n        title={\r\n          <div className={classes.topSection}>\r\n            <div className={classes.songName}>{song.name}</div>\r\n            <div className={classes.songDuration}>{songDuration}</div>\r\n          </div>\r\n        }\r\n        description={\r\n          <div className={classes.bottomSection}>\r\n            <div className={classes.bandName}>\r\n              <SongBand localId={song.localId} bandName={song.bandName} />\r\n            </div>\r\n            <div className={classes.songStatistics}>\r\n              <SongStatistics\r\n                userIsAuth={props.userIsAuth}\r\n                listened_times={song.listened_times}\r\n                userIsLikedSong={song.userIsLikedSong}\r\n                likesCount={song.likesCount}\r\n                likeSong={props.likeSong}\r\n                unlikeSong={props.unlikeSong}\r\n                updating={props.updating} />\r\n            </div>\r\n          </div>\r\n        }\r\n      />\r\n    </Card>\r\n  )\r\n})\r\n\r\nexport default Song;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Spin, Empty } from 'antd';\r\n\r\nimport Song from './Song/Song';\r\nimport {\r\n  startPlayMusicActionCreator,\r\n  addSongLikeActionCreator,\r\n  removeSongLikeActionCreator\r\n} from '../../store/songs/actions';\r\nimport classes from './Song.module.css';\r\n\r\nconst Songs = (props) => {\r\n  const { songs, loading, playSong, playNow } = props;\r\n\r\n  if (loading) return <Spin className={props.uxAtCenter ? classes.UXElement : null} />\r\n\r\n  let songsList = <Empty className={props.uxAtCenter ? classes.UXElement : null} image={Empty.PRESENTED_IMAGE_SIMPLE} />;\r\n  if (songs.length > 0) {\r\n    songsList = songs.map((song, index) => (\r\n      <Song\r\n        key={index}\r\n        song={song}\r\n        userIsAuth={!!props.localId}\r\n        updating={props.updating.includes(song.fileName)}\r\n        onSongChoosed={props.startPlayMusic.bind(this, song.fileName)}\r\n        likeSong={props.likeSong.bind(this, song.fileName, song.userLikeId)}\r\n        unlikeSong={props.unlikeSong.bind(this, song.fileName, song.userLikeId)}\r\n        playNow={playNow}\r\n        selectedSongCanPlay={props.selectedSongCanPlay}\r\n        currentSong={(playSong && playSong.fileName === song.fileName) ? true : false} />\r\n    ))\r\n  }\r\n\r\n  return songsList;\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    songs: state.songs.songs,\r\n    loading: state.songs.loading,\r\n    playSong: state.songs.playSong,\r\n    playNow: state.songs.playNow,\r\n    selectedSongCanPlay: state.songs.selectedSongCanPlay,\r\n    updating: state.songs.updating,\r\n    localId: state.auth.localId,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    startPlayMusic: (fileName) => { dispatch(startPlayMusicActionCreator(fileName)) },\r\n    likeSong: (fileName, key) => { dispatch(addSongLikeActionCreator(fileName, key)) },\r\n    unlikeSong: (fileName, key) => { dispatch(removeSongLikeActionCreator(fileName, key)) },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Songs);\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Row, Col, Space } from 'antd';\r\n\r\nimport BandInfo from '../BandInfo/BandInfo';\r\nimport AddSong from '../AddSong/CreateSong';\r\nimport Songs from '../Songs/Songs';\r\nimport { fetchBandDataActionCreator, clearBandDataActionCreator } from '../../store/band/actions';\r\nimport { fetchBandSongsActionCreator, clearSongListActionCreator } from '../../store/songs/actions';\r\n\r\nconst Band = (props) => {\r\n  const { fetchBandSongs, fetchBandData, clearSongsList, clearBandData } = props;\r\n\r\n  useEffect(() => {\r\n    const bandId = props.location.state.localId;\r\n    fetchBandData(bandId);\r\n    fetchBandSongs(bandId)\r\n\r\n    return () => {\r\n      clearSongsList();\r\n      clearBandData();\r\n    }\r\n  }, [fetchBandData, fetchBandSongs, clearSongsList, clearBandData, props.location])\r\n\r\n  return (\r\n    <Row>\r\n      <Col xs={{ span: 24 }} md={{ offset: 3, span: 18 }} lg={{ offset: 6, span: 12 }} >\r\n        <Space direction=\"vertical\">\r\n          <BandInfo />\r\n          <AddSong />\r\n          <Songs />\r\n        </Space>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchBandData: (localId) => { dispatch(fetchBandDataActionCreator(localId)) },\r\n    fetchBandSongs: (localId) => { dispatch(fetchBandSongsActionCreator(localId)) },\r\n    clearSongsList: () => { dispatch(clearSongListActionCreator()) },\r\n    clearBandData: () => { dispatch(clearBandDataActionCreator()) },\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Band);\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Row, Col } from 'antd';\r\n\r\nimport Songs from '../Songs/Songs';\r\nimport { clearSongListActionCreator } from '../../store/songs/actions';\r\n\r\nconst Music = (props) => {\r\n  const { clearSongsList } = props;\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      clearSongsList();\r\n    }\r\n  }, [clearSongsList])\r\n\r\n  return (\r\n    <Row>\r\n      <Col xs={{ span: 24 }} md={{ offset: 3, span: 18 }} lg={{ offset: 6, span: 12 }} >\r\n        <Songs uxAtCenter />\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    clearSongsList: () => { dispatch(clearSongListActionCreator()) },\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Music);\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Modal, Form, Divider, Space, Button } from 'antd';\r\n\r\nimport { createPlaylistActionCreator } from '../../../store/songs/actions';\r\nimport DataInputs from '../../UI/DataInputs/DataInputs';\r\n\r\nconst CreateModal = (props) => {\r\n  const [playlistData, setPlaylistData] = useState({\r\n    name: {\r\n      config: {\r\n        name: 'name',\r\n        label: 'Name',\r\n      },\r\n      validationRules: {\r\n        required: true,\r\n        type: 'string',\r\n        min: 2,\r\n        max: 25,\r\n      },\r\n      value: '',\r\n    },\r\n    description: {\r\n      config: {\r\n        type: 'text',\r\n        name: 'description',\r\n        label: 'Description',\r\n      },\r\n      validationRules: {\r\n        type: 'string',\r\n        max: 300,\r\n      },\r\n      value: '',\r\n    }\r\n  })\r\n\r\n  const onChangeHandler = (inputName, event) => {\r\n    const newValue = event.target.value;\r\n    setPlaylistData(prevState => ({\r\n      ...prevState,\r\n      [inputName]: {\r\n        ...prevState[inputName],\r\n        value: newValue,\r\n      }\r\n    }));\r\n  }\r\n\r\n  const createPlaylist = () => {\r\n    const playlistKey = new Date().getTime() + props.localId;\r\n    const data = {\r\n      key: playlistKey,\r\n      userId: props.localId,\r\n      name: playlistData.name.value,\r\n      description: playlistData.description.value,\r\n    }\r\n\r\n    props.createPlaylist(data);\r\n    props.onCancel();\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Create new Playlist\"\r\n      footer={null}\r\n      visible\r\n      onCancel={props.onCancel}\r\n    >\r\n      <Form name=\"nest-messages\" onFinish={createPlaylist}>\r\n      <DataInputs stateInputs={playlistData} onChangeHandler={onChangeHandler} />\r\n\r\n        <Divider orientation=\"right\">\r\n          <Space>\r\n            <Button type='default' onClick={props.onCancel}>Cancel</Button>\r\n            <Button type='primary' htmlType={'submit'}>Ok</Button>\r\n          </Space>\r\n        </Divider>\r\n      </Form>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    createPlaylist: (data) => { dispatch(createPlaylistActionCreator(data)) }\r\n  }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(CreateModal);\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect, Link } from 'react-router-dom';\r\n\r\nimport { Card } from 'antd';\r\nimport { PlusCircleOutlined, AppstoreOutlined, ExportOutlined } from '@ant-design/icons';\r\n\r\nimport CreateModal from './CreteModal/CreateModal';\r\nimport classes from './Playlists.module.css';\r\n\r\nconst Playlists = (props) => {\r\n  const [showCreateModal, setShowCreateModal] = useState(false)\r\n  const { playlists } = props;\r\n\r\n  if (!props.localId) {\r\n    return <Redirect to={'/'} />;\r\n  }\r\n\r\n  const openCreateModal = () => {\r\n    setShowCreateModal(true);\r\n  }\r\n\r\n  const closeCreateModal = () => {\r\n    setShowCreateModal(false);\r\n  }\r\n\r\n  let createModal = null;\r\n  if (showCreateModal) {\r\n    createModal = (\r\n      <CreateModal\r\n        localId={props.localId}\r\n        onCancel={closeCreateModal} />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {createModal}\r\n      <Card\r\n        className={classes.playlistCard}\r\n        title={<><AppstoreOutlined /> {'Playlists'}</>}\r\n      >\r\n        {\r\n          playlists.map((playlist, index) => (\r\n            <Link key={index} to={{\r\n              pathname: '/playlist',\r\n              state: {\r\n                key: playlist.key,\r\n              }\r\n            }}>\r\n              <Card.Grid className={classes.playlist}>\r\n                <ExportOutlined className={classes.playlistIcon} />\r\n                <div className={classes.playlistInfo}>\r\n                  <div>\r\n                    {playlist.name}\r\n                  </div>\r\n                  <div>\r\n                    {playlist.description}\r\n                  </div>\r\n                </div>\r\n              </Card.Grid>\r\n            </Link>\r\n          ))\r\n        }\r\n\r\n        <Card.Grid className={classes.playlist} onClick={openCreateModal}>\r\n          <div className={classes.addPlaylistButton}>\r\n            <PlusCircleOutlined />\r\n          </div>\r\n        </Card.Grid>\r\n      </Card>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    localId: state.auth.localId,\r\n    playlists: state.songs.playlists,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Playlists);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Tooltip } from 'antd';\r\nimport { ClockCircleOutlined, PlaySquareOutlined, RedoOutlined } from '@ant-design/icons';\r\n\r\nimport { getDurationInHumanTime } from '../../../../utility/audio';\r\nimport { shuffleSongsActionCreator } from '../../../../store/songs/actions';\r\nimport classes from './PlaylistStatistic.module.css';\r\n\r\nconst PlaylistStatistic = (props) => {\r\n  if (!props.songs.length) return null;\r\n\r\n  let playlistDuration = props.songs.reduce((duration, song) => duration + +song.duration, 0).toString();\r\n  playlistDuration = getDurationInHumanTime(playlistDuration);\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <Tooltip placement=\"bottom\" title={'Playlist duration'}>\r\n          <ClockCircleOutlined /> {playlistDuration}\r\n        </Tooltip>\r\n      </div>\r\n      <div>\r\n        <Tooltip placement=\"bottom\" title={'Tracks count'}>\r\n          <PlaySquareOutlined /> {props.songs.length}\r\n        </Tooltip>\r\n      </div>\r\n      <div className={classes.shuffleButton}>\r\n        <Tooltip placement=\"bottom\" title={'Shuffle songs'} onClick={props.shuffleSongs}>\r\n          <RedoOutlined /> {'Shuffle'}\r\n        </Tooltip>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    songs: state.songs.songs,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    shuffleSongs: () => { dispatch(shuffleSongsActionCreator()) }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistStatistic);\r\n","import React from 'react';\r\n\r\nimport { Skeleton } from 'antd';\r\n\r\nimport PlaylistStatistic from './PlaylistStatistic/PlaylistStatistic';\r\nimport classes from './PlaylistHeat.module.css';\r\n\r\nconst PlaylistHeat = ({ playlist }) => {\r\n  if (!playlist) return <Skeleton active />;\r\n\r\n  return (\r\n    <div className={classes.heat}>\r\n      <div className={classes.title}>{playlist.name}</div>\r\n      <div className={classes.description}>{playlist.description}</div>\r\n      <div className={classes.statistic}><PlaylistStatistic /></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PlaylistHeat;\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport { Row, Col, Space } from 'antd';\r\n\r\nimport PlaylistHeat from './PlaylistHeat/PlaylistHeat';\r\nimport Songs from '../Songs/Songs';\r\nimport { clearSongListActionCreator, fetchPlaylistRecordsActionCreator } from '../../store/songs/actions';\r\n\r\nconst Music = (props) => {\r\n  const { key: playlistKey } = props.location.state;\r\n  const { playlists, clearSongsList, fetchPlaylistSongs } = props;\r\n\r\n  useEffect(() => {\r\n    fetchPlaylistSongs(playlistKey);\r\n\r\n    return () => {\r\n      clearSongsList();\r\n    }\r\n  }, [playlistKey, fetchPlaylistSongs, clearSongsList]);\r\n\r\n  if (!props.localId) {\r\n    return <Redirect to={'/'} />;\r\n  }\r\n\r\n  const playlist = playlists.find(item => item.key === playlistKey);\r\n\r\n  return (\r\n    <Row>\r\n      <Col xs={{ span: 24 }} md={{ offset: 3, span: 18 }} lg={{ offset: 6, span: 12 }} >\r\n        <Space direction='vertical' style={{ width: '100%' }}>\r\n          <PlaylistHeat playlist={playlist} />\r\n          <Songs />\r\n        </Space>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    playlists: state.songs.playlists,\r\n    localId: state.auth.localId,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    clearSongsList: () => { dispatch(clearSongListActionCreator()) },\r\n    fetchPlaylistSongs: (key) => { dispatch(fetchPlaylistRecordsActionCreator(key)) },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Music);\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Result, Button } from 'antd';\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <Result\r\n      status=\"404\"\r\n      title=\"404\"\r\n      subTitle=\"Sorry, the page you visited does not exist.\"\r\n      extra={<Button type=\"primary\"><Link to='/'>Music</Link></Button>}\r\n    />\r\n  )\r\n}\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport { Layout } from 'antd';\r\n\r\nimport SignUp from '../../Authorization/SignUp/SignUp';\r\nimport SignIn from '../../Authorization/SignIn/SignIn';\r\nimport Band from '../../Band/Band';\r\nimport Music from '../../Music/Music';\r\nimport Playlists from '../../Playlists/Playlists';\r\nimport Playlist from '../../Playlist/Playlist';\r\nimport NotFound from '../../NotFound/NotFound';\r\n\r\nconst ContentComponent = () => {\r\n  const { Content } = Layout;\r\n\r\n  return (\r\n    <Content className=\"content-layout-background\">\r\n      <Switch>\r\n        <Route path='/sign-up' component={SignUp} exact />\r\n        <Route path='/sign-in' component={SignIn} exact />\r\n        <Route path='/band' component={Band} exact />\r\n        <Route path='/playlist' component={Playlist} exact />\r\n        <Route path='/playlists' component={Playlists} exact />\r\n        <Route path='/' component={Music} exact />\r\n        <Route path='/' component={NotFound} />\r\n      </Switch>\r\n    </Content>\r\n  )\r\n}\r\n\r\nexport default ContentComponent;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Menu } from 'antd';\r\nimport { AppstoreOutlined } from '@ant-design/icons';\r\n\r\n\r\nimport { addSongToPlaylistActionCreator } from '../../../../store/songs/actions';\r\nimport classes from './PlaylistMenu.module.css';\r\n\r\nconst PlaylistsMenu = (props) => {\r\n  const addSongToPlaylist = (playlistId, songName) => {\r\n    const data = {\r\n      playlistId,\r\n      songName,\r\n    }\r\n\r\n    props.addToPlaylist(data);\r\n  }\r\n\r\n  return (\r\n    <Menu className={classes.menu}>\r\n      {\r\n        props.playlists.map((playlist, index) => (\r\n          <Menu.Item\r\n            key={index}\r\n            onClick={addSongToPlaylist.bind(this, playlist.key, props.playSong.fileName)}\r\n          >\r\n            <AppstoreOutlined /> {playlist.name}\r\n          </Menu.Item>\r\n        ))\r\n      }\r\n    </Menu>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    playlists: state.songs.playlists,\r\n    playSong: state.songs.playSong,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addToPlaylist: (data) => { dispatch(addSongToPlaylistActionCreator(data)) }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistsMenu);\r\n","import React, { useState } from 'react';\r\n\r\nimport { Dropdown } from 'antd';\r\nimport { AppstoreAddOutlined } from '@ant-design/icons';\r\n\r\nimport PlaylistsMenu from './PlaylistsMenu/PlaylistsMenu';\r\n\r\nconst AddToPlaylist = () => {\r\n  const [showPlaylists, setShowPlaylists] = useState(false);\r\n\r\n  const toggleShowPlaylist = () => {\r\n    setTimeout(() => {\r\n      setShowPlaylists(prevState => !prevState);\r\n    }, 100)\r\n  }\r\n\r\n  return (\r\n    <Dropdown\r\n      overlay={() => <PlaylistsMenu />}\r\n      visible={showPlaylists}\r\n      placement=\"topCenter\"\r\n    >\r\n      <AppstoreAddOutlined\r\n        style={{ fontSize: '22px' }}\r\n        className={'rhap_button-clear'}\r\n        onClick={toggleShowPlaylist}\r\n        onBlur={toggleShowPlaylist} />\r\n    </Dropdown>\r\n  )\r\n}\r\n\r\nexport default AddToPlaylist;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { Avatar } from 'antd';\r\n\r\nimport classes from './SongInfo.module.css';\r\n\r\nconst SongInfo = (props) => {\r\n  const linkToBand = (\r\n    <Link to={{\r\n      pathname: '/band',\r\n      state: {\r\n        localId: props.localId,\r\n      }\r\n    }}>{props.bandName}</Link>\r\n  )\r\n\r\n  return (\r\n    <div className={classes.songInfoArea}>\r\n      <div>\r\n        <Avatar\r\n          shape='square'\r\n          className={classes.avatar}\r\n          src={`https://firebasestorage.googleapis.com/v0/b/`\r\n            + `${process.env.REACT_APP_FIREBASE_KEY_STORE_BUCKET}/o/pictures-of-songs%2F`\r\n            + `${props.imageName}?alt=media`} alt={'song'} />\r\n      </div>\r\n      <div className={classes.textInfo}>\r\n        <div>{props.name}</div>\r\n        <div>{linkToBand}</div>\r\n      </div>\r\n    </div>)\r\n}\r\n\r\nexport default SongInfo;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { RHAP_UI } from 'react-h5-audio-player/es/constants';\r\n\r\nimport AudioPlayer from 'react-h5-audio-player';\r\nimport AddToPlaylist from './AddToPlaylist/AddToPlaylist';\r\nimport 'react-h5-audio-player/lib/styles.css';\r\n\r\nimport {\r\n  playSongActionCreator,\r\n  pauseSongActionCreator,\r\n  songReadyToPlayActionCreator,\r\n  playNextSongActionCreator,\r\n  playPrevSongActionCreator,\r\n  updateSongListenedTimesActionCreator,\r\n} from '../../store/songs/actions';\r\nimport SongInfo from './SongInfo/SongInfo';\r\nimport './Player.css';\r\n\r\nconst Player = (props) => {\r\n  const { playSong, playNow } = props;\r\n  const playerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!playSong) return;\r\n\r\n    playNow\r\n      ? playerRef.current.audio.current.play()\r\n      : playerRef.current.audio.current.pause()\r\n  }, [playSong, playNow])\r\n\r\n  const SONG_DATA = <SongInfo\r\n    name={playSong.name}\r\n    bandName={playSong.bandName}\r\n    imageName={playSong.imageName}\r\n    localId={playSong.localId} />\r\n\r\n  const ADD_TO_PLAYLIST = props.userId ? <AddToPlaylist /> : null;\r\n\r\n  return (\r\n    <AudioPlayer\r\n      ref={playerRef}\r\n      layout={'horizontal'}\r\n      showSkipControls\r\n      className={'audio-player'}\r\n      onPlay={props.onPlayHandler}\r\n      onPause={props.onPauseHandler}\r\n      onClickNext={props.playNext}\r\n      onClickPrevious={props.playPrev}\r\n      onCanPlay={props.onReadyToPlayHandler}\r\n      onEnded={() => { props.updateListenedTimes(playSong.fileName); props.playNext(); }}\r\n      customAdditionalControls={[RHAP_UI.LOOP, ADD_TO_PLAYLIST]}\r\n      customProgressBarSection={[SONG_DATA, RHAP_UI.CURRENT_TIME, RHAP_UI.PROGRESS_BAR, RHAP_UI.DURATION]}\r\n      src={`https://firebasestorage.googleapis.com/v0/b/`\r\n        + `${process.env.REACT_APP_FIREBASE_KEY_STORE_BUCKET}/o/songs%2F`\r\n        + `${playSong.fileName}?alt=media`}\r\n    />\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    playSong: state.songs.playSong,\r\n    playNow: state.songs.playNow,\r\n    selectedSongCanPlay: state.songs.selectedSongCanPlay,\r\n    userId: state.auth.localId,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onPlayHandler: () => { dispatch(playSongActionCreator()) },\r\n    onPauseHandler: () => { dispatch(pauseSongActionCreator()) },\r\n    onReadyToPlayHandler: () => { dispatch(songReadyToPlayActionCreator()) },\r\n    playNext: () => { dispatch(playNextSongActionCreator()) },\r\n    playPrev: () => { dispatch(playPrevSongActionCreator()) },\r\n    updateListenedTimes: (fileName) => { dispatch(updateSongListenedTimesActionCreator(fileName)) },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Player);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Player from '../../Player/Player';\r\nimport classes from './Footer.module.css';\r\n\r\nconst Footer = ({ playSong }) => {\r\n  if (!playSong) return null;\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.footerMargin}></div>\r\n      <Player />\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    playSong: state.songs.playSong,\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Footer);\r\n","import React from 'react';\r\n\r\nimport { Spin } from 'antd';\r\n\r\nimport classes from './ModalSpinner.module.css';\r\n\r\nconst ModalSpinner = () => {\r\n  return (\r\n    <div className={classes.modal}>\r\n      <Spin size='large' className={classes.spinner} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ModalSpinner;\r\n","import React, { useEffect } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { Layout } from 'antd';\r\nimport './Layout.css';\r\n\r\nimport Header from './Header/Header';\r\nimport Filter from '../Filter/Filter';\r\nimport Content from './Content/Content';\r\nimport Footer from './Footer/Footer';\r\nimport { signInLocallyActionCreator } from '../../store/authorization/actions';\r\nimport { fetchPlaylistsActionCreator } from '../../store/songs/actions';\r\nimport ModalSpinner from '../UI/ModalSpinner/ModalSpinner';\r\n\r\nconst LayoutComponent = (props) => {\r\n  const { signInLocally, loading, fetchPlaylists } = props;\r\n\r\n  useEffect(() => {\r\n    signInLocally();\r\n  }, [signInLocally])\r\n\r\n  useEffect(() => {\r\n    if (props.localId) {\r\n      fetchPlaylists(props.localId);\r\n    }\r\n  }, [fetchPlaylists, props.localId])\r\n\r\n  return (\r\n    <Layout className='main-layout'>\r\n      {loading ? <ModalSpinner /> : null}\r\n      <Header />\r\n\r\n      <Layout>\r\n        <Route path='/' component={Filter} exact />\r\n        <Layout style={{ padding: '24px' }}>\r\n          <Content />\r\n        </Layout>\r\n      </Layout>\r\n\r\n      <Footer />\r\n    </Layout>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loading: state.auth.loading,\r\n    localId: state.auth.localId,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    signInLocally: () => { dispatch(signInLocallyActionCreator()) },\r\n    fetchPlaylists: (userId) => { dispatch(fetchPlaylistsActionCreator(userId)) }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LayoutComponent);\r\n","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport Layout from './components/Layout/Layout';\nimport \"antd/dist/antd.css\";\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Layout />\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, combineReducers, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport authReducer from './store/authorization/reducer';\nimport bandReducer from './store/band/reducer';\nimport songsReducer from './store/songs/reducer';\n\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createStore(combineReducers({\n  auth: authReducer,\n  band: bandReducer,\n  songs: songsReducer,\n}), applyMiddleware(thunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"songCard\":\"Song_songCard__t3-1r\",\"activeSongCard\":\"Song_activeSongCard__8n0Bh\",\"bottomSection\":\"Song_bottomSection__IoD3Y\",\"songContainer\":\"Song_songContainer__OGBe_\",\"topSection\":\"Song_topSection__vPyDQ\",\"songName\":\"Song_songName__1J6Jf\",\"songDuration\":\"Song_songDuration__2vJK_\",\"bandName\":\"Song_bandName__w5m6N\",\"songStatistics\":\"Song_songStatistics__12ssf\",\"avatarMask\":\"Song_avatarMask__1vcTx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Menu_menu__3uP5a\",\"navLink\":\"Menu_navLink__GWrvV\",\"navLinkActive\":\"Menu_navLinkActive__3NBCk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"playlistCard\":\"Playlists_playlistCard__TsXll\",\"playlist\":\"Playlists_playlist__1qdmD\",\"playlistInfo\":\"Playlists_playlistInfo__1a8Ah\",\"addPlaylistButton\":\"Playlists_addPlaylistButton__1ClQd\",\"playlistIcon\":\"Playlists_playlistIcon__2mNWo\"};"],"sourceRoot":""}
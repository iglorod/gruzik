(this.webpackJsonpgruzik=this.webpackJsonpgruzik||[]).push([[0],{123:function(e,n,t){e.exports={navLink:"DesktopNavMenu_navLink__-DzhO",navLinkActive:"DesktopNavMenu_navLinkActive__3CblN",leftMenu:"DesktopNavMenu_leftMenu__2u5mo",rightMenu:"DesktopNavMenu_rightMenu__1F_D3"}},124:function(e,n,t){e.exports={container:"SongData_container__3jGvf",songName:"SongData_songName__2u9dt",songBand:"SongData_songBand__1Zyym",tag:"SongData_tag__2ZceC"}},125:function(e,n,t){e.exports={bottomSection:"SongDescription_bottomSection__3mKkC",bandName:"SongDescription_bandName__2kkaE",bottomSectionActive:"SongDescription_bottomSectionActive__3zzjI",songStatistics:"SongDescription_songStatistics__1y3_7"}},158:function(e,n,t){e.exports={dataArea:"ItemResult_dataArea__1W3jr",title:"ItemResult_title__1Ti4q",songStatistic:"ItemResult_songStatistic__2eCWa"}},159:function(e,n,t){e.exports={picture:"FormPicture_picture__2RIv6",pictureAlt:"FormPicture_pictureAlt__1ayG0",formItem:"FormPicture_formItem__3t_Oy"}},160:function(e,n,t){e.exports={head:"Head_head__2fMXV",logo:"Head_logo__17znM",label:"Head_label__k5dxM"}},161:function(e,n,t){e.exports={songHeat:"SongPicture_songHeat__1tdp7",mask:"SongPicture_mask__2B-Yv",songPicture:"SongPicture_songPicture__1rd4F"}},162:function(e,n,t){e.exports={songInfoArea:"SongInfo_songInfoArea__5WlAA",textInfo:"SongInfo_textInfo__g5SUW",avatar:"SongInfo_avatar__3R43d"}},191:function(e,n,t){e.exports={userInfo:"Profile_userInfo__1gFHF",userInputs:"Profile_userInputs__1LXkS",checkbox:"Profile_checkbox__2g0OP"}},192:function(e,n,t){e.exports={mobileMenu:"DropdownNav_mobileMenu__1CCyF",desktopMenu:"DropdownNav_desktopMenu__3ISrA"}},193:function(e,n,t){e.exports={genresContainer:"BandGenres_genresContainer__2WHDP",genre:"BandGenres_genre__8ILmj"}},194:function(e,n,t){e.exports={uploadButton:"BandImage_uploadButton__2bXIs",backgroundMask:"BandImage_backgroundMask__1Af19"}},195:function(e,n,t){e.exports={uploadLabel:"UploadSong_uploadLabel__3hMwQ",uploadArea:"UploadSong_uploadArea__1cNbY"}},196:function(e,n,t){e.exports={songInfo:"SongInfo_songInfo__3cE_r",songInputs:"SongInfo_songInputs__1nUWu"}},197:function(e,n,t){e.exports={UXElement:"Song_UXElement__1pZBy"}},198:function(e,n,t){e.exports={modal:"ModalSpinner_modal__I6vUN",spinner:"ModalSpinner_spinner__2MRKR"}},231:function(e,n,t){},240:function(e,n){e.exports="data:image/png;base64,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"},252:function(e,n,t){e.exports={submitButton:"SubmitButton_submitButton__1DhA6"}},253:function(e,n,t){e.exports={redirectLink:"BottomNote_redirectLink__388TA"}},254:function(e,n,t){e.exports=t.p+"static/media/logoSimple.966ffdae.png"},259:function(e,n,t){e.exports={statistic:"BandStatistic_statistic__3iEOO"}},260:function(e,n,t){e.exports={card:"BandInfo_card__3JgWb"}},264:function(e,n,t){e.exports={container:"CurrentSong_container__2q_eB"}},265:function(e,n,t){e.exports={searchInput:"AddComment_searchInput__2RiIa"}},268:function(e,n,t){e.exports={avatarMask:"SongAvatar_avatarMask__1fJuW"}},269:function(e,n,t){e.exports={heartIcon:"SongStatistics_heartIcon__217s_"}},270:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuNv1OCegAAAKaSURBVGhDzZppkusgDIRz/xtm37dTeNBUSSXLDciAiX989dqmaeS8YBM8m2EYINvtdmBer1c4hX1rYXLifD7LBVhOp1OwjP1rYXRAnzy6AAtdrO63BkYHqOgUt9stdBsH/goR3+8XFuvh/X6HiGl4T0TQp4uKnANn/QIRx+MRFjcXyuHMnohARdXQe/6IQMXUwtk9EIEKqYWzeyACFVILZ/dABCqkFs62PJ/P8A9uK0UEKqQWzrbk2ksQoQtoBWdbtGe/34dT2DcHETq8FZxtQd77/R6asN+DCBReC2dbkJexXi8iUKgXWt4/Ho8QM87hbIv2xLB9cohAYTFSdx3ts22M9qSY83NBBAqyeNZR2m/bGO3xwP/bKUSgAI13Muo+to3Rnjl8Pp/QHWeKQB2Zy+USLNPOCN3PtjHaM5fY100E6sSwx4Onn/aUYjOz4bmvFE18umvtdrv/T0v3tV5Ge2rQmdlwbkcgv8b6GeQtQc+ZbDi3W+hOgvwa24dB3hL0fMmGc7sFeTWpNRTyl8KZ2XButyCvJnan8+6dedBjyADISHC7BXk1saf/9XqF/hKazJHcrov1M612awidKwIZCW5HID+R2vRG/hJsbnaA3DpHPzvoeUI7ltaj0dkldHuyp6DJifK9dF1rpUDZHjwLVhEoQFN7MYfDAeamiH2NECJQkGVOsEbPIw8lGxIiUGAM7uMB9U9R+opCBApNQV+V2OQreUWx6l0UD61eQ4hAgywNj90CEWigpVjidbcINGBraMHI47VGBBq4FT1ex4lABbQgt/ZqhQhURA1LvANJIaLV74Ql50EKEbXv2ekByVm/YHSACvTQax6kGB2gIlN4Npd7MTrwbgy0+n3SkskJWryh4on1/r3WsPkDqDy6DyrbhwwAAAAASUVORK5CYII="},271:function(e,n,t){e.exports={suggestionsTitle:"Suggestions_suggestionsTitle__16wct"}},272:function(e,n,t){e.exports={statistics:"Statistics_statistics__1kYGC"}},273:function(e,n,t){e.exports={bandLink:"BandsList_bandLink__2fA2z"}},274:function(e,n,t){e.exports={tag:"Tags_tag__1FON8"}},275:function(e,n,t){e.exports={searchInput:"SearchInput_searchInput__2agt2"}},276:function(e,n,t){e.exports={infoResults:"InfoResults_infoResults__tAyFO"}},277:function(e,n,t){e.exports={infoPanel:"InfoPanel_infoPanel__2M1SN"}},289:function(e,n,t){e.exports={menu:"PlaylistMenu_menu__1aSFX"}},290:function(e,n,t){e.exports={footerMargin:"Footer_footerMargin__2DR-U"}},296:function(e,n,t){e.exports=t(516)},377:function(e,n,t){},378:function(e,n,t){},380:function(e,n,t){},496:function(e,n,t){},508:function(e,n,t){},509:function(e,n,t){},510:function(e,n,t){},511:function(e,n,t){},513:function(e,n,t){},515:function(e,n,t){},516:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(12),c=t.n(r),i=t(7),l=t(56),u=t(233),s=t(21),m=t(3),d=t(534),f=t(60),g=t(4),p=t(234),b=(t(517),t(306),p.initializeApp({apiKey:"AIzaSyA9i9zvRmX2ujm5Kgw4hFatthJQHVzWP5E",authDomain:"gaza-1d193.firebaseapp.com",databaseURL:"https://gaza-1d193.firebaseio.com",projectId:"gaza-1d193",storageBucket:"gaza-1d193.appspot.com",messagingSenderId:"699268545517"})),h=b,E=t(6),v=t.n(E),O=function(e){if(e.expiresIn){var n=Math.floor((new Date).getTime()/1e3);e.expiresIn=n+ +e.expiresIn}for(var t in e)localStorage.setItem(t,e[t])},S=function(e){for(var n={},t=0,a=Object.entries(localStorage);t<a.length;t++){var o=Object(g.a)(a[t],2),r=o[0],c=o[1];e.includes(r)&&(n[r]=c)}return n},y=function(e){var n,t=Object(f.a)(e);try{for(t.s();!(n=t.n()).done;){var a=n.value;localStorage.removeItem(a)}}catch(o){t.e(o)}finally{t.f()}},N={localId:null,email:null,isBand:!1,username:"",image:"",idToken:null,refreshToken:null,expiresIn:null,refreshTimerId:null,loading:!0,submitting:!1,errorMessage:null,isAdmin:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"START_LOADING":return Object(m.a)({},e,{errorMessage:null,loading:!0});case"FINISH_LOADING":return Object(m.a)({},e,{loading:!1});case"AUTH_START":return Object(m.a)({},e,{submitting:!0,errorMessage:null});case"AUTH_FINISH":return Object(m.a)({},e,{submitting:!1});case"AUTH_ERROR":var t="Service is unavailable. Please, try later...";return n.error.response&&(t=n.error.response.data.error.message),d.a.error(t),Object(m.a)({},e,{errorMessage:t,submitting:!1});case"LOGIN":y(Object(s.a)(Object.keys(N))),n.rememberMe&&O(n.userData);var a=Math.floor((new Date).getTime()/1e3)+ +n.userData.expiresIn;return Object(m.a)({},N,{loading:!1,localId:n.userData.localId,email:n.userData.email,isAdmin:n.userData.isAdmin||!1,isBand:n.userData.isBand||!1,username:n.userData.username||"",image:n.userData.image||"",idToken:n.userData.idToken,refreshToken:n.userData.refreshToken,expiresIn:a,submitting:!1});case"LOGIN_LOCALY":return Object(m.a)({},e,{loading:!1},S(Object(s.a)(Object.keys(N))));case"RESET_TIMEOUT_ID":return Object(m.a)({},e,{refreshTimerId:n.timerId});case"SET_TOKEN":return localStorage.length>1&&O(n.tokens),Object(m.a)({},e,{idToken:n.tokens.idToken,refreshToken:n.tokens.refreshToken,expiresIn:n.tokens.expiresIn});case"SET_USER_DATA":return d.a.success("Profile data was updated"),O(n.data),Object(m.a)({},e,{},n.data);case"LOGOUT":return y(Object(s.a)(Object.keys(N))),clearTimeout(e.refreshTimerId),Object(m.a)({},N,{loading:!1});default:return e}},j={key:null,bandName:null,localId:null,genres:null,description:null,image:"no-image.jpg",loading:!0,updating:!1,error:!1},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_BAND_DATA":return Object(m.a)({},e,{},n.bandData);case"FINISH_BAND_LOADING":return Object(m.a)({},e,{loading:!1});case"START_BAND_UPDATING":return Object(m.a)({},e,{updating:!0});case"FINISH_BAND_UPDATING":return Object(m.a)({},e,{updating:!1});case"BAND_ERROR":return d.a.error(n.error.message),Object(m.a)({},e,{error:!0});case"CLEAR_BAND_DATA":return Object(m.a)({},j);default:return e}},_={songs:[],playSong:null,playNow:!1,playlists:[],percents:0,loading:!1,creating:!1,updating:[],selectedSongCanPlay:!1,error:!1},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"START_SONG_CREATION":return Object(m.a)({},e,{creating:!0,error:!1});case"FINISH_SONG_CREATION":return Object(m.a)({},e,{creating:!1,percents:0});case"START_SONGS_LOADING":return Object(m.a)({},e,{loading:!0});case"FINISH_SONGS_LOADING":return Object(m.a)({},e,{loading:!1});case"START_SONG_UPDATING":return Object(m.a)({},e,{updating:[].concat(Object(s.a)(e.updating),[n.fileName])});case"FINISH_SONG_UPDATING":return Object(m.a)({},e,{updating:e.updating.filter((function(e){return e!==n.fileName}))});case"SET_LOAD_PERCENTS":return Object(m.a)({},e,{percents:n.percents});case"ADD_SONGS_TO_LIST":return Object(m.a)({},e,{songs:[].concat(Object(s.a)(e.songs),Object(s.a)(n.songs)),loading:!1});case"UNSHIFT_SONG_TO_LIST":return Object(m.a)({},e,{songs:[n.song].concat(Object(s.a)(e.songs))});case"SELECT_SONG":return e.playSong&&e.playSong.fileName===n.fileName?Object(m.a)({},e,{playNow:!e.playNow}):Object(m.a)({},e,{playSong:Object(m.a)({},e.songs.find((function(e){return e.fileName===n.fileName}))),playNow:!0,selectedSongCanPlay:!1});case"SELECT_NEXT_SONG":var t=e.songs.findIndex((function(n){return n.fileName===e.playSong.fileName}));return 0===e.songs.length?e:(++t===e.songs.length&&(t=0),Object(m.a)({},e,{playSong:Object(m.a)({},e.songs[t]),playNow:!0,selectedSongCanPlay:!1}));case"SELECT_PREV_SONG":var a=e.songs.findIndex((function(n){return n.fileName===e.playSong.fileName}));return 0===e.songs.length?e:(-1===--a&&(a=e.songs.length-1),Object(m.a)({},e,{playSong:Object(m.a)({},e.songs[a]),playNow:!0,selectedSongCanPlay:!1}));case"SELECTED_SONG_READY_TO_PLAY":return Object(m.a)({},e,{selectedSongCanPlay:!0});case"PLAY_RECIVED_SONG":var o=!1;return e.playSong&&e.playSong.fileName===n.song.fileName&&(o=!0),Object(m.a)({},e,{playSong:Object(m.a)({},n.song),playNow:!0,selectedSongCanPlay:o});case"PLAY_SONG":return Object(m.a)({},e,{playNow:!0});case"PAUSE_SONG":return Object(m.a)({},e,{playNow:!1});case"TOGGLE_SONG_LIKES":var r=Object(s.a)(e.songs),c=r.findIndex((function(e){return e.fileName===n.fileName})),i=r[c],l={userIsLikedSong:!1,userLikeId:null,likesCount:i.likesCount-1};return n.key&&(l.userIsLikedSong=!0,l.userLikeId=n.key,l.likesCount=i.likesCount+1),r[c]=Object(m.a)({},i,{},l),Object(m.a)({},e,{songs:Object(s.a)(r)});case"SET_SONG_UPDATED_DATA":var u=Object(s.a)(e.songs),f=u.findIndex((function(e){return e.fileName===n.fileName}));return u[f]=Object(m.a)({},u[f],{},n.data),Object(m.a)({},e,{songs:Object(s.a)(u)});case"ADD_PLAYLISTS":return Object(m.a)({},e,{playlists:[].concat(Object(s.a)(e.playlists),Object(s.a)(n.playlists))});case"CLEAR_PLAYLISTS":return Object(m.a)({},e,{playlists:[]});case"SHUFFLE_SONGS":var p=Object(s.a)(e.songs);return p.sort((function(){return Math.random()-.5})),Object(m.a)({},e,{songs:Object(s.a)(p)});case"REORDER_SONGS":var b=Object(s.a)(e.songs),h=b.splice(n.oldIndex,1),E=Object(g.a)(h,1),v=E[0];return b.splice(n.newIndex,0,v),Object(m.a)({},e,{songs:Object(s.a)(b)});case"CLEAR_SONGS_LIST":return Object(m.a)({},_,{playSong:e.playSong,playNow:e.playNow,selectedSongCanPlay:e.selectedSongCanPlay,playlists:e.playlists});case"SONGS_ERROR":return d.a.error(n.error.message),Object(m.a)({},e,{error:!0});default:return e}},k={collections:[],loading:!0,creating:!1,updating:null,deleting:null},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_COLLECTIONS":return Object(m.a)({},e,{collections:n.collections,loading:!1});case"SET_COLLECTION_VALUES":var t=Object(s.a)(e.collections);return t[n.index]=Object(m.a)({},t[n.index],{},n.data,{shouldUpdate:!0}),Object(m.a)({},e,{collections:t});case"ADD_COLLECTION":return Object(m.a)({},e,{collections:[].concat(Object(s.a)(e.collections),[n.data])});case"UPDATE_COLLECTION":if(null===n.index)return e;var a=Object(s.a)(e.collections);return a[n.index]=Object(m.a)({},n.data,{shouldUpdate:!1}),Object(m.a)({},e,{collections:a});case"DELETE_COLLECTION":var o=Object(s.a)(e.collections);return o.splice(n.index,1),Object(m.a)({},e,{collections:o});case"SORT_COLLECTIONS":if(0===e.collections.length)return e;var r=Object(s.a)(e.collections);return r.sort((function(e,n){return e.position-n.position})),Object(m.a)({},e,{collections:Object(s.a)(r)});case"START_COLLECTION_CREATING":return Object(m.a)({},e,{creating:!0});case"FINISH_COLLECTION_CREATING":return Object(m.a)({},e,{creating:!1});case"START_COLLECTION_UPDATING":return Object(m.a)({},e,{updating:n.index});case"FINISH_COLLECTION_UPDATING":return Object(m.a)({},e,{updating:null});case"START_COLLECTION_DELETING":return Object(m.a)({},e,{deleting:n.index});case"FINISH_COLLECTION_DELETING":return Object(m.a)({},e,{deleting:null});default:return e}},L=(t(377),t(20)),P=t(522),D=(t(378),t(541)),w=t(552),R=t(25),x=t.n(R),B=t(519),G=t(122),U=t.n(G),z=t(188),M=function(e){var n=new Map;return function(t){return new Promise((function(a,o){if(!t||n.has(t))return a(n);v.a.get(e+'"'.concat(t,'"')).then((function(e){if(e.data){var o=Object.values(e.data)[0];n.set(t,o.bandName)}a(n)})).catch((function(e){return o(e)}))}))}},F=function(e){return new Promise((function(n,t){var a='?orderBy="fileName"&equalTo="'.concat(e,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/songs.json/").concat(a)).then((function(e){n(e.data)})).catch((function(e){return t(e)}))}))},H=function(e){return new Promise((function(n,t){Promise.all(e.map((function(e){return F(e.songName||e.fileName)}))).then((function(e){return n(e)})).catch((function(e){return t(e)}))}))},q=function(e){return new Promise((function(n,t){var a=new FileReader;a.onload=function(e){(new(window.AudioContext||window.webkitAudioContext)).decodeAudioData(e.target.result,(function(e){n(e.duration)}))},a.onerror=function(e){return t(e)},a.readAsArrayBuffer(e)}))},Q=function(e){if((e=(e/60).toFixed(2))>60){var n=(e/60).toFixed(2).toString().split("."),t=Object(g.a)(n,2),a=t[0],o=(60*t[1]/100).toString().split("."),r=Object(g.a)(o,2),c=r[0],i=r[1],l=Math.round(60*i/100).toString();return V(l,c,a)}var u=e.toString().split("."),s=Object(g.a)(u,2),m=s[0],d=s[1],f=Math.round(60*d/100).toString();return V(f,m)},V=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var a=n.map((function(e,n){return n<2&&e.length<2?"0".concat(e):e})),o=Object(g.a)(a,3),r=o[0],c=o[1],i=o[2],l=i?"".concat(i,":"):"";return l+=c?"".concat(c,":"):"00",l+=r?"".concat(r):"00",l},X=function(e){return{type:"SET_LOAD_PERCENTS",percents:e}},Y=function(e){return{type:"SONGS_ERROR",error:e}},K=function(e){return{type:"SELECT_SONG",fileName:e}},Z=function(e){return{type:"PLAY_RECIVED_SONG",song:e}},J=function(e,n){return{type:"TOGGLE_SONG_LIKES",fileName:e,key:n}},W=function(e){return{type:"START_SONG_UPDATING",fileName:e}},$=function(e){return{type:"FINISH_SONG_UPDATING",fileName:e}},ee=function(e){return{type:"ADD_PLAYLISTS",playlists:e}},ne=function(e){return function(n,t){var a=t().auth.idToken;Promise.all(e.tags.map((function(n){return function(e,n){return new Promise((function(t,a){v.a.post("".concat("https://gaza-1d193.firebaseio.com","/song-tag.json/?auth=").concat(n),e).then((function(){return t()})).catch((function(e){return a(e)}))}))}({songName:e.fileName,tag:n},a)}))).then((function(){var t;n((t=e,function(e,n){t.localId=n().auth.localId,t.listened_times=0;var a=t.tags;delete t.tags,v.a.post("".concat("https://gaza-1d193.firebaseio.com","/songs.json/?auth=").concat(n().auth.idToken),t).then((function(){t.bandName=n().band.bandName,t.likesCount=0,t.userIsLikedSong=!1,t.userLikeId=null,t.tags=a,e({type:"UNSHIFT_SONG_TO_LIST",song:t}),e({type:"FINISH_SONG_CREATION"})})).catch((function(n){e(Y(n)),e({type:"FINISH_SONG_CREATION"})}))}))}))}},te=function(e,n,t){return function(a){n.imageName=(new Date).getTime()+e.name;var o=h.storage().ref("pictures-of-songs/").child(n.imageName).put(e),r=t-e.size;o.on("state_changed",(function(e){var n=100*((r+e.bytesTransferred)/t).toFixed(2);a(X(n))})),o.then((function(){a(ne(n))})).catch((function(e){a(Y(e)),a({type:"FINISH_SONG_CREATION"})}))}},ae=function(e){return function(){var n=Object(z.a)(U.a.mark((function n(t){var a,o,r,c,i,l,u,s,m;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a="".concat("https://gaza-1d193.firebaseio.com",'/bands.json?orderBy="localId"&equalTo='),o=M(a),r=Object(f.a)(e),n.prev=3,r.s();case 5:if((c=r.n()).done){n.next=11;break}return i=c.value,n.next=9,o(i.localId);case 9:n.next=5;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(3),r.e(n.t0);case 16:return n.prev=16,r.f(),n.finish(16);case 19:return n.next=21,o();case 21:l=n.sent,u=Object(f.a)(e);try{for(u.s();!(s=u.n()).done;)(m=s.value).bandName=l.get(m.localId)}catch(d){u.e(d)}finally{u.f()}t(oe(e));case 25:case"end":return n.stop()}}),n,null,[[3,13,16,19]])})));return function(e){return n.apply(this,arguments)}}()},oe=function(e){return function(n,t){var a=t().auth.localId;Promise.all(e.map((function(e){return function(e,n){return new Promise((function(t,a){var o='?orderBy="fileName"&equalTo="'.concat(e.fileName,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/song_likes.json/").concat(o)).then((function(e){var a=e.data?Object.keys(e.data).length:0,o=Object.entries(e.data).find((function(e){return n===e[1].localId})),r=!!o,c=r?o[0]:null;t({likesCount:a,userIsLikedSong:r,userLikeId:c})})).catch((function(e){return a(e)}))}))}(e,a)}))).then((function(t){t.forEach((function(n,t){e[t]=Object(m.a)({},e[t],{},n)})),n(re(e))}))}},re=function(e){return function(n){Promise.all(e.map((function(e){return function(e){return new Promise((function(n,t){var a='?orderBy="songName"&equalTo="'.concat(e.fileName,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/song-tag.json/").concat(a)).then((function(e){var t=Object.values(e.data).map((function(e){return e.tag}));n(t)})).catch((function(e){return t(e)}))}))}(e)}))).then((function(t){t.forEach((function(n,t){e[t].tags=n})),n(function(e){return{type:"ADD_SONGS_TO_LIST",songs:e}}(e))}))}},ce=function(e){return function(n,t){(function(e){var n=e.playlistId,t=e.songName;return new Promise((function(e,a){var o='?orderBy="playlistId"&equalTo="'.concat(n,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/playlists-songs.json/").concat(o)).then((function(n){n.data||e(!1);var a=~Object.values(n.data).findIndex((function(e){return e.songName===t}));e(!!a)})).catch((function(e){return a(e)}))}))})(e).then((function(a){a?d.a.warn("Song is alredy in this playlist"):v.a.post("".concat("https://gaza-1d193.firebaseio.com","/playlists-songs.json/?auth=").concat(t().auth.idToken),e).then((function(){return d.a.success("Song was added to playlist")})).catch((function(e){n(Y(e)),n({type:"FINISH_SONG_CREATION"})}))}))}},ie=function(e,n){return e.bandName>n.bandName?1:e.bandName===n.bandName?0:-1},le=function(e){return new Promise((function(n,t){(function(e){return new Promise((function(n,t){var a='?orderBy="name"&startAt="'.concat(e,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/songs.json/").concat(a)).then((function(t){t.data||n();var a=Object.values(t.data).filter((function(n){return n.name.slice(0,e.length)===e}));n(a.slice(0,5))})).catch((function(e){return t(e)}))}))})(e).then((function(e){return Promise.all(e.map((function(e){return function(e){return new Promise((function(n,t){v.a.get("".concat("https://gaza-1d193.firebaseio.com",'/bands.json?orderBy="localId"&equalTo="').concat(e.localId,'"')).then((function(a){a.data||t(new Error("Can't get song author name"));var o=Object.values(a.data)[0];e.bandName=o.bandName,n(e)})).catch((function(e){return t(e)}))}))}(e)})))})).then((function(e){return Promise.all(e.map((function(e){return function(e){return new Promise((function(n,t){var a='?orderBy="songName"&equalTo="'.concat(e.fileName,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/song-tag.json/").concat(a)).then((function(t){e.tags=Object.values(t.data).map((function(e){return e.tag})),n(e)})).catch((function(e){return t(e)}))}))}(e)})))})).then((function(e){return Promise.all(e.map((function(e){return function(e){return new Promise((function(n,t){var a='?orderBy="fileName"&equalTo="'.concat(e.fileName,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/song_likes.json/").concat(a)).then((function(t){var a=t.data?Object.keys(t.data).length:0;e.likesCount=a,n(e)})).catch((function(e){return t(e)}))}))}(e)})))})).then((function(e){return e.sort(ie)})).then((function(e){return n(e)})).catch((function(e){return t(e)}))}))},ue=function(e){return new Promise((function(n,t){var a='?orderBy="tag"&equalTo="'.concat(e,'"&limitToFirst=1');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/song-tag.json/").concat(a)).then((function(e){return Object.values(e.data)[0].songName})).then((function(e){return n=e,new Promise((function(e,t){var a='?orderBy="fileName"&equalTo="'.concat(n,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/songs.json/").concat(a)).then((function(n){n.data||e();var t=Object.values(n.data)[0];e(t)})).catch((function(e){return t(e)}))}));var n})).then((function(e){return e.imageName})).then((function(e){return e})).then((function(e){return n(e)})).catch((function(e){return t(e)}))}))},se=t(547),me=t(518),de=function(){return o.a.createElement("svg",{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 1024 1024"},o.a.createElement("path",{d:"M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9z"}))},fe=function(e){return o.a.createElement(me.a,Object.assign({component:de},e))},ge=t(158),pe=t.n(ge),be=function(e){var n=e.song,t=e.startPlay;return o.a.createElement(L.b,{onClick:t.bind(void 0,n),to:{pathname:"/band",state:{localId:n.localId}}},o.a.createElement("div",{className:pe.a.dataArea},o.a.createElement("div",{className:pe.a.title},n.name),o.a.createElement("div",{className:pe.a.songStatistic},o.a.createElement(se.a,null)," ",n.listened_times,o.a.createElement(fe,null)," ",n.likesCount)))},he=(t(380),Object(i.b)(null,(function(e){return{startPlay:function(n){e(Z(n))}}}))((function(e){var n=Object(a.useState)(""),t=Object(g.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)([]),l=Object(g.a)(i,2),u=l[0],s=l[1],m=Object(a.useRef)(x.a.debounce((function(e){le(e).then((function(e){return f(e)})).catch((function(e){return d.a.error(e.message)}))}),800));Object(a.useEffect)((function(){r.length<3||m.current(r)}),[r]);var f=function(e){s(e)},p=function(n){return{value:n.name,label:o.a.createElement(be,{song:n,startPlay:e.startPlay})}};return o.a.createElement("div",{className:"search_bar-container"},o.a.createElement(B.a,{value:r,placeholder:"Type to search songs here...",onInput:function(e){var n=e.target.value;c(n)},options:u.map((function(e,n){var t,a=e.bandName;return n>0&&u[n-1].bandName===e.bandName&&(a=null),a?{label:(t=a,o.a.createElement("span",null,t)),options:[p(e)]}:p(e)}))}))}))),Ee=t(240),ve=t.n(Ee),Oe=t(123),Se=t.n(Oe),ye=function(e){var n=function(n){e.disabled&&n.preventDefault()};return o.a.createElement("div",{className:"left"===e.position?Se.a.leftMenu:Se.a.rightMenu},e.items.map((function(e,t){return o.a.createElement(L.c,{key:t,to:e.to||e.split(" ").join("-"),className:Se.a.navLink,activeClassName:Se.a.navLinkActive,onClick:n,exact:!0},e.name||e)})))},Ne=t(533),Ie=t(40),je=t(536),Ae=function(e){var n=Object(a.useState)(!1),t=Object(g.a)(n,2),r=t[0],c=t[1],i=e.modal;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:e.className,onClick:e.disabled?null:function(){c(!0)}},e.label),o.a.createElement(i,{open:r,closeModal:function(){c(!1)}}))},_e=t(42),Te=t(528),ke=t(532),Ce=t(520),Le=t(521),Pe=t(527),De=t(561),we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=arguments.length>1?arguments[1]:void 0,t="image/jpeg"===n.type||"image/png"===n.type;t||d.a.error("You can only upload JPG/PNG file!");var a=n.size/1024/1024<e;return a||d.a.error("Image must be smaller than ".concat(e,"MB!")),t&&a},Re=function(e){var n="audio/mpeg"===e.type;n||d.a.error("You can only upload MP3/PNG file!");var t=e.size/1024/1024<30;return t||d.a.error("Image must be smaller than 30MB!"),n&&t},xe=t(159),Be=t.n(xe),Ge=function(e,n){return"https://firebasestorage.googleapis.com/v0/b/"+"".concat("gaza-1d193.appspot.com","/o/").concat(n,"%2F")+"".concat(e,"?alt=media")},Ue=function(e){var n=o.a.createElement("div",{className:Be.a.pictureAlt},o.a.createElement(De.a,null)," ","Picture");if(e.picture){var t=null;try{t=URL.createObjectURL(e.picture)}catch(a){t=Ge(e.picture,"user-images")}n=o.a.createElement("img",{src:t,className:Be.a.picture,alt:e.name})}return o.a.createElement(ke.a.Item,{name:e.name,className:Be.a.formItem,rules:e.rules},o.a.createElement(Pe.a,{fileList:null,action:e.setPicture,showUploadList:!1,beforeUpload:we.bind(void 0,e.pictureSize)},n))},ze=t(72),Me=t(537),Fe=["Rock","Pop","Alternative","Classical","Country","Folk","Rap and Hip Hop","Rhythm and Blues","Punk","Heavy Metal","Jazz","Latin Music"],He={name:"Liked songs",description:"Pellentesque nec nam aliquam sem et tortor consequat id. Aliquam vestibulum morbi blandit cursus risus. Risus in hendrerit gravida rutrum quisque non. Lacus laoreet non curabitur gravida arcu ac. Amet venenatis urna cursus eget nunc scelerisque viverra. Viverra suspendisse potenti nullam ac. Ullamcorper a lacus vestibulum sed arcu non odio euismod lacinia."},qe=function(e){var n,t=e.stateInputs,a=e.onChangeHandler,r=ze.a.Option,c=[],i=Object(f.a)(Fe);try{for(i.s();!(n=i.n()).done;){var l=n.value;c.push(o.a.createElement(r,{key:l},l))}}catch(m){i.e(m)}finally{i.f()}var u=[];for(var s in t)u.push(o.a.createElement(ke.a.Item,{key:s,name:t[s].config.name,label:t[s].config.label,rules:[t[s].validationRules]},"genres"===s||"tags"===s?o.a.createElement(ze.a,{value:t[s].value,mode:"genres"===s?"multiple":"tags",placeholder:t[s].config.placeholder,tokenSeparators:"genres"===s?null:["#",",","."],onChange:a.bind(void 0,s)},"genres"===s?c:null):o.a.createElement(Me.a,{type:t[s].config.type,value:t[s].value,placeholder:t[s].config.placeholder,onChange:a.bind(void 0,s)})));return u},Qe=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:"LOGIN",userData:e,rememberMe:n}},Ve=function(e){return{type:"AUTH_ERROR",error:e}},Xe=function(){return function(e,n){clearTimeout(n().auth.refreshTimerId);var t=1e3*(n().auth.expiresIn-Math.floor((new Date).getTime()/1e3))-3e4;t<0&&(t=0);var a=setTimeout((function(){var t={grant_type:"refresh_token",refresh_token:n().auth.refreshToken};try{e(Ze(t))}catch(a){console.log(a)}}),t);e(function(e){return{type:"RESET_TIMEOUT_ID",timerId:e}}(a))}},Ye=function(e,n){return function(t){n.bandName?t(function(e,n){return function(t){var a={localId:e.localId,bandName:n.bandName,genres:n.genres,description:"No description yet"};v.a.post("".concat("https://gaza-1d193.firebaseio.com","/bands.json/?auth=").concat(e.idToken),a).then((function(){e.isBand=!0,t(Qe(e)),t(Xe())})).catch((function(e){return t(Ve(e))}))}}(e,n)):t(function(e,n){return function(t){var a=n.email.split("@")[0],o={localId:e.localId,username:a};v.a.post("".concat("https://gaza-1d193.firebaseio.com","/users.json/?auth=").concat(e.idToken),o).then((function(){e.username=a,t(Qe(e)),t(Xe())})).catch((function(e){return t(Ve(e))}))}}(e,n))}},Ke=function(e,n){return function(t){var a='?orderBy="localId"&equalTo="'.concat(e.localId,'"&limitToFirst=1');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/bands.json/").concat(a)).then((function(n){return e.isBand=!!n.data})).then((function(n){return n?null:(t=e.localId,new Promise((function(e,n){var a='?orderBy="localId"&equalTo="'.concat(t,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/admins.json/").concat(a)).then((function(e){return Object.keys(e.data).length>0})).then((function(n){return e(n)})).catch((function(e){return n(e)}))})));var t})).then((function(n){return function(e,n){return new Promise((function(t,a){var o='?orderBy="localId"&equalTo="'.concat(e,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/users.json/").concat(o)).then((function(e){return Object.values(e.data)[0]})).then((function(e){return n?Object(m.a)({},e,{isAdmin:n}):e})).then((function(e){return t(e)})).catch((function(e){return a(e)}))}))}(e.localId,n)})).then((function(a){e=Object(m.a)({},e,{},a),t(Qe(e,n)),t(Xe())})).catch((function(e){return console.log(e)}))}},Ze=function(e){return function(n){v.a.post("https://securetoken.googleapis.com/v1/token?key=".concat("AIzaSyA9i9zvRmX2ujm5Kgw4hFatthJQHVzWP5E"),e).then((function(e){var t={idToken:e.data.id_token,refreshToken:e.data.refresh_token,expiresIn:+e.data.expires_in};n({type:"SET_TOKEN",tokens:t}),n(Xe())})).catch((function(e){n(Ve(e)),n({type:"LOGOUT"})}))}},Je=function(e){var n=e.username,t=e.image;return function(e,a){e({type:"AUTH_START"});var o=a().auth.idToken,r=a().auth.localId,c={};n&&(c.username=n),t&&(c.image=t),function(e){return new Promise((function(n,t){var a='?orderBy="localId"&equalTo="'.concat(e,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/users.json/").concat(a)).then((function(e){return Object.keys(e.data)[0]})).then((function(e){return n(e)})).catch((function(e){return t(e)}))}))}(r).then((function(e){return function(e,n,t){return new Promise((function(a,o){var r="?auth=".concat(t);v.a.patch("".concat("https://gaza-1d193.firebaseio.com","/users/").concat(n,"/.json/").concat(r),e).then((function(){return a()})).catch((function(e){return o(e)}))}))}(c,e,o)})).then((function(){e(function(e){return{type:"SET_USER_DATA",data:e}}(c)),e({type:"AUTH_FINISH"})})).catch((function(n){return e(Ve(n))}))}},We=function(e){return function(n){if(n({type:"AUTH_START"}),!e.image)return n(Je(e));(function(e){var n=(new Date).getTime()+e.name;return h.storage().ref("user-images/").child(n).put(e)})(e.image).then((function(t){var a,o=t.metadata.name;n((a=e.oldImage,function(){a&&h.storage().ref("user-images/".concat(a)).delete().catch((function(e){return console.log(e.message)}))})),n(Je(Object(m.a)({},e,{image:o})))})).catch((function(e){return n(Ve(e))}))}},$e=t(191),en=t.n($e),nn=Object(i.b)((function(e){return{username:e.auth.username,image:e.auth.image,submitting:e.auth.submitting}}),(function(e){return{updateUserData:function(n){e(We(n))}}}))((function(e){var n=e.submitting,t=Object(a.useState)(e.image),r=Object(g.a)(t,2),c=r[0],i=r[1],l=Object(a.useState)(!1),u=Object(g.a)(l,2),s=u[0],d=u[1],f=Object(a.useState)({username:{config:{name:"username",label:"Username",placeholder:"Come up with the username"},validationRules:{type:"string",min:4,max:10},value:e.username}}),p=Object(g.a)(f,2),b=p[0],h=p[1];Object(a.useEffect)((function(){!1===n&&E()}),[n]);var E=function(){i(e.image),d(!1),e.closeModal()};return o.a.createElement(Te.a,{title:"Profile",visible:e.open,confirmLoading:n,footer:!1,onCancel:n?null:E},o.a.createElement("div",{className:"modal-note"},"PLEASE FILL ALL FIELDS"),o.a.createElement(ke.a,{name:"nest-messages",onFinish:function(){var n=b.username.value;if(s||n!==e.username){var t={};s&&(t.image=c,t.oldImage=e.image),n!==e.username&&(t.username=n),e.updateUserData(t)}}},o.a.createElement("div",{className:en.a.userInfo},o.a.createElement("div",null,o.a.createElement(Ue,{picture:c,name:"User Image",pictureSize:2,setPicture:function(e){i(e),d(!0)}})),o.a.createElement("div",{className:en.a.userInputs},o.a.createElement(qe,{stateInputs:b,onChangeHandler:function(e,n){var t=n.target.value;h((function(n){return Object(m.a)({},n,Object(_e.a)({},e,Object(m.a)({},n[e],{value:t})))}))}}))),o.a.createElement(Ce.a,{orientation:"right"},o.a.createElement(Le.a,null,o.a.createElement(Ie.a,{type:"default",disabled:n,onClick:E},"Cancel"),o.a.createElement(Ie.a,{type:"primary",disabled:n,loading:n,htmlType:"submit"},"Ok")))))})),tn=t(90),an=t.n(tn),on=Object(i.b)((function(e){return{email:e.auth.email,isBand:e.auth.isBand}}),(function(e){return{logout:function(){e({type:"LOGOUT"})},clearPlaylists:function(){e({type:"CLEAR_PLAYLISTS"})}}}))((function(e){var n=["sign in","sign up"].map((function(n,t){return o.a.createElement(je.a.Item,{key:t,disabled:e.disabled},o.a.createElement(L.c,{to:n.to||n.split(" ").join("-"),className:an.a.navLink,activeClassName:an.a.navLinkActive,exact:!0},n.name||n))}));e.email&&(n=o.a.createElement(je.a.Item,null,o.a.createElement("div",{className:an.a.navLink,onClick:e.disabled?null:function(){e.logout(),e.clearPlaylists()}},"Logout"),";"));var t=null;return e.email&&"false"==e.isBand.toString()&&(t=o.a.createElement(je.a.Item,null,o.a.createElement(Ae,{className:an.a.navLink,modal:nn,label:"My Profile",disabled:e.disabled}))),o.a.createElement(je.a,{className:an.a.menu},e.items.map((function(n,t){return o.a.createElement(je.a.Item,{key:t,disabled:e.disabled},o.a.createElement(L.c,{to:n.to||n.split(" ").join("-"),className:an.a.navLink,activeClassName:an.a.navLinkActive,exact:!0},n.name||n))})),t,o.a.createElement(je.a.Divider,null),n)})),rn=t(192),cn=t.n(rn),ln=function(e){var n=Object(a.useState)(!1),t=Object(g.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)(null),l=Object(g.a)(i,2),u=l[0],s=l[1];Object(a.useEffect)((function(){return function(){clearTimeout(u)}}),[u]);var m=cn.a.mobileMenu;return"desktop"===e.visible&&(m=cn.a.desktopMenu),o.a.createElement(Ne.a,{overlay:function(){return o.a.createElement(on,{items:e.items,disabled:e.disabled})},placement:"bottomRight",visible:r},o.a.createElement(Ie.a,{className:m,icon:e.icon,type:"link",onClick:function(){c(!0)},onBlur:function(){var e=setTimeout((function(){c(!1)}),100);s(e)}}))},un=P.a.Header,sn=Object(i.b)((function(e){return{email:e.auth.email,isAdmin:e.auth.isAdmin,isBand:e.auth.isBand,localId:e.auth.localId,loading:e.songs.loading,creating:e.songs.creating}}))((function(e){var n=e.loading||e.creating,t={name:"my band",to:{pathname:"/band",state:{localId:e.localId}}},a=[];"true"===e.isBand.toString()&&a.push(t);var r=o.a.createElement(ye,{items:["sign in","sign up"],disabled:n,position:"right"});e.email&&(r=o.a.createElement(ln,{items:a,disabled:n,visible:"desktop",icon:o.a.createElement(D.a,null)}));var c=[{name:"music",to:"/"}];return e.email&&c.push("playlists"),e.isAdmin&&c.push("admin"),o.a.createElement(un,{className:"header"},o.a.createElement("div",{className:"logo"},o.a.createElement("img",{src:ve.a,alt:"logo"})),o.a.createElement(ye,{items:c,disabled:n,position:"left"}),o.a.createElement(ln,{items:[].concat(a,c),disabled:n,visible:"mobile",icon:o.a.createElement(w.a,null)}),r,o.a.createElement(he,null))})),mn=t(88),dn=t(538),fn=(t(231),t(252)),gn=t.n(fn),pn=function(e){var n=e.loading,t=e.label;return o.a.createElement(Ie.a,{type:"primary",htmlType:"submit",className:gn.a.submitButton,loading:n,disabled:n},t)},bn=t(110),hn=t(62),En=t(253),vn=t.n(En),On=function(e){var n=e.to,t=e.note;return o.a.createElement(bn.a,{justify:"end"},o.a.createElement(hn.a,{span:24},o.a.createElement(L.b,{to:n,className:vn.a.redirectLink},t)))},Sn=t(540),yn=function(e){var n=e.errorMessage,t=function(){return o.a.createElement(bn.a,{justify:"center",align:"middle"},o.a.createElement(hn.a,{xs:24,sm:{span:12},md:{span:8},lg:{span:8}},o.a.createElement(Sn.a,{message:n,type:"error",showIcon:!0})))};return null!==n?o.a.createElement(t,null):null},Nn=t(529),In=t(254),jn=t.n(In),An=t(160),_n=t.n(An),Tn=function(e){var n=e.title;return o.a.createElement("div",{className:_n.a.head},o.a.createElement("img",{src:jn.a,className:_n.a.logo,alt:"logo"}),o.a.createElement(Nn.a.Title,{className:_n.a.label,level:3},n))},kn=Object(i.b)((function(e){return{errorMessage:e.auth.errorMessage,email:e.auth.email,submitting:e.auth.submitting}}),(function(e){return{signUp:function(n){return e(function(e){return function(n){n({type:"AUTH_START"});var t={email:e.email,password:e.password,returnSecureToken:!0};v.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=".concat("AIzaSyA9i9zvRmX2ujm5Kgw4hFatthJQHVzWP5E"),t).then((function(t){n(Ye(t.data,e))})).catch((function(e){return n(Ve(e))}))}}(n))}}}))((function(e){var n=Object(a.useState)(!1),t=Object(g.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)({email:{config:{name:"email",label:"Email",placeholder:"Type your email here"},validationRules:{required:!0,type:"email"},value:""},password:{config:{type:"password",name:"password",label:"Password",placeholder:"Type password here"},validationRules:{required:!0,type:"string",min:6},value:""}}),l=Object(g.a)(i,2),u=l[0],s=l[1];Object(a.useEffect)((function(){if(r){s(Object(m.a)({},{bandName:{config:{name:"name",label:"Band name",placeholder:"Come up with a group name"},validationRules:{required:!0,type:"string",min:2},value:""},genres:{config:{type:"text",name:"genres",label:"Genres",placeholder:"Please select genres"},validationRules:{required:!0},value:""}},{},u))}else if(Object.keys(u).length>2){var e=Object(m.a)({},u);delete e.bandName,delete e.genres,s(Object(m.a)({},e))}}),[r]);if(e.email)return o.a.createElement(mn.a,{to:"/"});return o.a.createElement(o.a.Fragment,null,o.a.createElement(Tn,{title:"Sign Up"}),o.a.createElement(ke.a,Object.assign({},{labelCol:{sm:{offset:2,span:4},md:{offset:4,span:4},lg:{offset:6,span:2}},wrapperCol:{sm:{span:12},md:{span:8},lg:{span:8}}},{name:"nest-messages",onFinish:function(){var n={};for(var t in u)n[t]=u[t].value;e.signUp(n)},validateMessages:{types:{email:"${label} is not valid!"},string:{min:"${label} must be at least ${min} characters"}}}),o.a.createElement(qe,{stateInputs:u,onChangeHandler:function(e,n){var t="genres"===e?n:n.target.value;s((function(n){return Object(m.a)({},n,Object(_e.a)({},e,Object(m.a)({},n[e],{value:t})))}))}}),o.a.createElement(dn.a,{className:"band-checkbox",onChange:function(){c((function(e){return!e}))}},"I want to sign up as a band"),o.a.createElement(yn,{errorMessage:e.errorMessage}),o.a.createElement(pn,{loading:e.submitting,label:"Sign Up"}),o.a.createElement(On,{to:"/sign-in",note:"Already have an account? Sign In"})))})),Cn=Object(i.b)((function(e){return{errorMessage:e.auth.errorMessage,email:e.auth.email,submitting:e.auth.submitting}}),(function(e){return{signIn:function(n,t){return e(function(e,n){return function(t){t({type:"AUTH_START"});var a={email:e.email,password:e.password,returnSecureToken:!0};v.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat("AIzaSyA9i9zvRmX2ujm5Kgw4hFatthJQHVzWP5E"),a).then((function(e){t(Ke(e.data,n))})).catch((function(e){return t(Ve(e))}))}}(n,t))}}}))((function(e){var n=Object(a.useState)(!0),t=Object(g.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)({email:{config:{name:"email",label:"Email",placeholder:"Type your email here"},validationRules:{required:!0,type:"email"},value:""},password:{config:{type:"password",name:"password",label:"Password",placeholder:"Type your password here"},validationRules:{required:!0,type:"string",min:6},value:""}}),l=Object(g.a)(i,2),u=l[0],s=l[1];if(e.email)return o.a.createElement(mn.a,{to:"/"});return o.a.createElement(o.a.Fragment,null,o.a.createElement(Tn,{title:"Sign In"}),o.a.createElement(ke.a,Object.assign({},{labelCol:{sm:{offset:2,span:4},md:{offset:4,span:4},lg:{offset:6,span:2}},wrapperCol:{sm:{span:12},md:{span:8},lg:{span:8}}},{name:"nest-messages",onFinish:function(){var n={};for(var t in u)n[t]=u[t].value;e.signIn(n,r)},validateMessages:{types:{email:"${label} is not valid!"},string:{min:"${label} must be at least ${min} characters"}}}),o.a.createElement(qe,{stateInputs:u,onChangeHandler:function(e,n){var t=n.target.value;s((function(n){return Object(m.a)({},n,Object(_e.a)({},e,Object(m.a)({},n[e],{value:t})))}))}}),o.a.createElement(dn.a,{className:"band-checkbox",defaultChecked:!0,onChange:function(){c((function(e){return!e}))}},"Remember me"),o.a.createElement(yn,{errorMessage:e.errorMessage}),o.a.createElement(pn,{loading:e.submitting,label:"Sign In"}),o.a.createElement(On,{to:"/sign-up",note:"Don't have an account? Sign Up"})))})),Ln=t(261),Pn=t(525),Dn=t(562),wn=(t(496),function(e){var n=Nn.a.Paragraph,t=Object(a.useState)(!1),r=Object(g.a)(t,2),c=r[0],i=r[1],l=Object(a.useState)(null),u=Object(g.a)(l,2),s=u[0],m=u[1],f=o.a.createElement(n,{className:"editable-paragraph",style:e.style},e.value);return e.editable&&(f=o.a.createElement(Dn.a,{title:"".concat(e.confirmMessage," '").concat(s,"'?"),visible:c,onConfirm:function(){e.udateBandData(Object(_e.a)({},e.editKey,s)),i(!1),m(null)},onCancel:function(){i(!1),m(null)},okText:"Yes",cancelText:"No"},o.a.createElement(n,{className:"editable-paragraph",style:e.style,editable:{onChange:function(n){n!==e.value&&n.length>=e.minLength&&n.length<=e.maxLength?(m(n),i(!0)):n.length<e.minLength?d.a.warning("Minimum string length - ".concat(e.minLength," characters")):n.length>e.maxLength&&d.a.warning("Maximum string length - ".concat(e.maxLength," characters"))}}},e.value))),f}),Rn=function(e){return{type:"SET_BAND_DATA",bandData:e}},xn=function(e){return{type:"BAND_ERROR",error:e}},Bn=function(e){return function(n,t){n({type:"START_BAND_UPDATING"});var a=t().auth.idToken,o=t().band.key,r="?auth=".concat(a);v.a.patch("".concat("https://gaza-1d193.firebaseio.com","/bands/").concat(o,"/.json/").concat(r),e).then((function(e){n(Rn(e.data)),n({type:"FINISH_BAND_UPDATING"})})).catch((function(e){n(xn(e)),n({type:"FINISH_BAND_UPDATING"})}))}},Gn=function(e,n){return function(t){t({type:"START_BAND_UPDATING"}),function(e){var n=(new Date).getTime()+e.name;return h.storage().ref("band-images/").child(n).put(e)}(n).then((function(n){var a,o=n.metadata.name;t((a=e,function(){"no-image.jpg"!==a&&h.storage().ref("band-images/".concat(a)).delete().catch((function(e){return console.log(e.message)}))})),t(Bn({image:o}))})).catch((function(e){t(xn(e)),t({type:"FINISH_BAND_UPDATING"})}))}},Un=Object(i.b)((function(e){return{userId:e.auth.localId}}),(function(e){return{udateBandData:function(n){e(Bn(n))}}}))((function(e){return o.a.createElement(wn,{editKey:"bandName",value:e.bandName,udateBandData:e.udateBandData,minLength:2,maxLength:15,style:{fontSize:"20px",fontWeight:"500",margin:"auto"},editable:e.bandId===e.userId,confirmMessage:"Change band name to"})})),zn=Object(i.b)((function(e){return{userId:e.auth.localId}}),(function(e){return{udateBandData:function(n){e(Bn(n))}}}))((function(e){return o.a.createElement(wn,{editKey:"description",value:e.description,udateBandData:e.udateBandData,minLength:10,maxLength:150,style:{maxHeight:"100px",overflow:"auto",fontSize:"13px",color:"dimgrey",textAlign:"justify",maxWidth:"fit-content"},editable:e.bandId===e.userId,confirmMessage:"Change description to"})})),Mn=t(539),Fn=t(193),Hn=t.n(Fn),qn=function(e){return o.a.createElement("div",{className:Hn.a.genresContainer},e.genres.map((function(e,n){return o.a.createElement(Mn.a,{key:n,className:Hn.a.genre,color:"#ff7875"},e)})))},Qn=t(70),Vn=t(194),Xn=t.n(Vn),Yn=Object(i.b)((function(e){return{userId:e.auth.localId}}),(function(e){return{uploadImage:function(n,t){e(Gn(n,t))}}}))((function(e){var n=o.a.createElement(o.a.Fragment,null,o.a.createElement(Pe.a,{className:Xn.a.uploadButton,showUploadList:!1,action:e.uploadImage.bind(void 0,e.image),beforeUpload:we.bind(void 0,5)},o.a.createElement("div",{className:Xn.a.backgroundMask}),o.a.createElement(Qn.a,{title:"Upload new image"},o.a.createElement(Ie.a,{type:"dashed",shape:"circle",ghost:!0,icon:o.a.createElement(De.a,null)}))));return e.bandId!==e.userId&&(n=null),o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{alt:"band poster",src:Ge(e.image,"band-images")}),n)})),Kn=t(531),Zn=t(555),Jn=t(259),Wn=t.n(Jn),$n=Object(i.b)((function(e){return{songs:e.songs.songs}}))((function(e){if(!e.songs)return o.a.createElement(Kn.a,{title:!1,paragraph:{rows:1}});var n=e.songs.reduce((function(e,n){return e+n.likesCount}),0),t=e.songs.reduce((function(e,n){return e+n.listened_times}),0),a=e.songs.length;return o.a.createElement("div",{className:Wn.a.statistic},o.a.createElement("div",null,o.a.createElement(Qn.a,{placement:"bottom",title:"Tracks count"},o.a.createElement(Zn.a,null)," ",a)),o.a.createElement("div",null,o.a.createElement(se.a,null)," ",t),o.a.createElement("div",null,o.a.createElement(fe,null)," ",n))})),et=t(260),nt=t.n(et),tt=Object(i.b)((function(e){return{bandName:e.band.bandName,bandId:e.band.localId,description:e.band.description,genres:e.band.genres,image:e.band.image,loading:e.band.loading,updating:e.band.updating}}))((function(e){return o.a.createElement(Ln.a,{spinning:e.updating},o.a.createElement(Pn.a,{className:nt.a.card,loading:e.loading,cover:o.a.createElement(Yn,{image:e.image,bandId:e.bandId}),bodyStyle:{minWidth:"50%"}},o.a.createElement(Un,{bandName:e.bandName,bandId:e.bandId}),o.a.createElement(qn,{genres:e.genres}),o.a.createElement(zn,{description:e.description,bandId:e.bandId}),o.a.createElement($n,null)))})),at=t(292),ot=t(546),rt=t(545),ct=t(195),it=t.n(ct),lt=t(196),ut=t.n(lt),st=function(e){var n=Object(a.useState)(null),t=Object(g.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)({name:{config:{name:"name",label:"Name",placeholder:"Come up with the track name"},validationRules:{required:!0,type:"string",min:2,max:25},value:""},tags:{config:{type:"text",name:"tags",label:"Tags",placeholder:"Spread tags with <#> <,> <.>"},validationRules:{required:!0},value:""}}),l=Object(g.a)(i,2),u=l[0],s=l[1];return o.a.createElement(Te.a,{title:"Create new song",footer:null,visible:!0,width:620,onCancel:e.closeSongInfo},o.a.createElement("div",{className:"modal-note"},"PLEASE FILL ALL FIELDS AND SELECT IMAGE FOR SONG"),o.a.createElement(ke.a,{name:"nest-messages",onFinish:function(){var n={};for(var t in u)n[t]=u[t].value;e.createSong(r,n),e.closeSongInfo()}},o.a.createElement("div",{className:ut.a.songInfo},o.a.createElement("div",null,o.a.createElement(Ue,{picture:r,name:"Song picture",pictureSize:5,rules:[{required:!0}],setPicture:c})),o.a.createElement("div",{className:ut.a.songInputs},o.a.createElement(qe,{stateInputs:u,onChangeHandler:function(e,n){var t="";t="tags"===e?n.map((function(e){return Object(R.trim)(e)})):n.target.value,s((function(n){return Object(m.a)({},n,Object(_e.a)({},e,Object(m.a)({},n[e],{value:t})))}))}}))),o.a.createElement(Ce.a,{orientation:"right"},o.a.createElement(Le.a,null,o.a.createElement(Ie.a,{type:"default",onClick:e.closeSongInfo},"Cancel"),o.a.createElement(Ie.a,{type:"primary",htmlType:"submit"},"Ok")))))},mt=Object(i.b)((function(e){return{creating:e.songs.creating,error:e.songs.error,percentLoaded:e.songs.percents}}),(function(e){return{uploadSong:function(n,t,a){e(function(e,n,t){return function(){var a=Object(z.a)(U.a.mark((function a(o){var r,c;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o({type:"START_SONG_CREATION"}),t.fileName=(new Date).getTime()+e.name,a.next=4,q(e);case 4:t.duration=a.sent,r=h.storage().ref("songs/").child(t.fileName).put(e),c=e.size+n.size,r.on("state_changed",(function(e){var n=100*(e.bytesTransferred/c).toFixed(2);o(X(n))})),r.then((function(){o(te(n,t,c))})).catch((function(e){o(Y(e)),o({type:"FINISH_SONG_CREATION"})}));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(n,t,a))}}}))((function(e){var n=Object(a.useState)(null),t=Object(g.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)(!1),l=Object(g.a)(i,2),u=l[0],s=l[1],m=o.a.createElement(st,{closeSongInfo:function(){s(!1)},createSong:function(n,t){e.uploadSong(r,n,t)}});return o.a.createElement(o.a.Fragment,null,u?m:null,o.a.createElement(Pe.a,{listType:"picture-card",className:it.a.uploadArea,showUploadList:!1,action:function(e){c(e),s(!0)},beforeUpload:Re,disabled:e.creating},o.a.createElement("div",{className:it.a.uploadLabel},o.a.createElement("div",null,e.creating?o.a.createElement(ot.a,null):o.a.createElement(rt.a,null)),o.a.createElement("div",{className:"ant-upload-text"},"Upload new song"))),e.creating?o.a.createElement(at.a,{strokeLinecap:"square",strokeColor:"#ff7875",percent:e.percentLoaded,status:e.error?"exception":"active"}):null)})),dt=Object(i.b)((function(e){return{bandId:e.band.localId,userId:e.auth.localId}}))((function(e){return e.bandId===e.userId?o.a.createElement(mt,null):null})),ft=t(543),gt=t(542),pt=t(161),bt=t.n(pt),ht=function(e){var n=e.image,t=e.playingNow,a=e.canPlay,r=Ge(n,"pictures-of-songs"),c=t?a?o.a.createElement(ft.a,null):o.a.createElement(ot.a,null):o.a.createElement(gt.a,null);return o.a.createElement("div",{className:bt.a.songHeat},o.a.createElement("div",{className:bt.a.mask,onClick:e.onSongChoosed},c),o.a.createElement("div",null,o.a.createElement("img",{className:bt.a.songPicture,src:r,alt:"current song"})))},Et=t(124),vt=t.n(Et),Ot=function(e){var n=e.song,t=o.a.createElement(L.b,{to:{pathname:"/band",state:{localId:n.localId}}},n.bandName);return o.a.createElement("div",{className:vt.a.container},o.a.createElement("div",{className:vt.a.songName},n.name),o.a.createElement("div",{className:vt.a.songBand},t),o.a.createElement("div",null,n.tags.map((function(e){return function(e){return o.a.createElement(L.b,{key:e,className:vt.a.tag,to:{pathname:"/collection",state:{tag:e}}},"#".concat(e," "))}(e)}))))},St=t(264),yt=t.n(St),Nt=Object(i.b)((function(e){return{currentSong:e.songs.playSong,playNow:e.songs.playNow,canPlay:e.songs.selectedSongCanPlay}}),(function(e){return{startPlayMusic:function(n){e(K(n))}}}))((function(e){var n=e.currentSong;return n?o.a.createElement("div",{className:yt.a.container},o.a.createElement(ht,{image:n.imageName,playingNow:e.playNow,canPlay:e.canPlay,onSongChoosed:e.startPlayMusic.bind(void 0,n.fileName)}),o.a.createElement(Ot,{song:n})):o.a.createElement(Ln.a,null)})),It=t(155),jt=t.n(It),At=t(523),_t=t(524),Tt=t(564),kt=t(265),Ct=t.n(kt),Lt=function(e){var n=Me.a.Search;return e.localId?o.a.createElement(At.a,{avatar:o.a.createElement(_t.a,{alt:"avka",src:e.userData.imageSrc}),content:o.a.createElement("div",null,o.a.createElement(n,{className:Ct.a.searchInput,value:e.newComment,loading:e.submitting,placeholder:"Type your message...",enterButton:o.a.createElement(Tt.a,null),disabled:e.disabled,onChange:e.handleChange,onSearch:e.handleSubmit}))}):null},Pt=t(526),Dt=o.a.memo((function(e){var n=e.comments;if(e.loading)return o.a.createElement(Ln.a,{size:"small"});var t=function(e){var n=e.comments;return o.a.createElement(Pt.a,{dataSource:n,header:"".concat(n.length," ").concat(n.length>1?"comments":"comment"),itemLayout:"horizontal",renderItem:function(e){return o.a.createElement(At.a,e)}})};return n.length>0&&o.a.createElement(t,{comments:n})})),wt=function(){var e=new Map;return function(n){return new Promise((function(t,a){e.has(n)&&t(e.get(n));var o='?orderBy="localId"&equalTo="'.concat(n,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/users.json/").concat(o)).then((function(a){if(Object.keys(a.data).length>0){var r=Object.values(a.data)[0],c=r.username,i=r.image,l=void 0===i?"profile.png":i;l=Ge(l,"user-images"),e.set(n,{author:c,avatar:l}),t({author:c,avatar:l})}return v.a.get("".concat("https://gaza-1d193.firebaseio.com","/bands.json/").concat(o))})).then((function(a){var o=Object.values(a.data)[0],r=o.bandName,c=o.image,i=void 0===c?"no-image.jpg":c;i=Ge(i,"band-images"),e.set(n,{author:r,avatar:i}),t({author:r,avatar:i})})).catch((function(e){return a(e)}))}))}},Rt=(t(508),Object(i.b)((function(e){return{idToken:e.auth.idToken,localId:e.auth.localId,username:e.auth.username,userImage:e.auth.image,isBand:e.auth.isBand,playSong:e.songs.playSong}}))((function(e){var n=Object(a.useState)([]),t=Object(g.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)(!0),l=Object(g.a)(i,2),u=l[0],d=l[1],f=Object(a.useState)(!1),p=Object(g.a)(f,2),b=p[0],h=p[1],E=Object(a.useState)(""),O=Object(g.a)(E,2),S=O[0],y=O[1],N=Object(a.useState)({}),I=Object(g.a)(N,2),j=I[0],A=I[1],_=Object(a.useState)(null),T=Object(g.a)(_,2),k=T[0],C=T[1];if(Object(a.useEffect)((function(){var n;e.localId&&e.isBand&&(n=e.localId,new Promise((function(e,t){var a='?orderBy="localId"&equalTo="'.concat(n,'"&limitToFirst=1');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/bands.json/").concat(a)).then((function(n){n.data&&e(Object.values(n.data)[0])})).catch((function(e){return t(e)}))}))).then((function(e){return A(e)})).catch((function(e){return C(e)}))}),[e.localId,e.isBand]),Object(a.useEffect)((function(){var n;e.playSong&&(c([]),d(!0),(n=e.playSong.fileName,new Promise((function(e,t){var a='?orderBy="songName"&equalTo="'.concat(n,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/song-comment.json/").concat(a)).then((function(n){0===Object.keys(n.data).length&&e([]);var t=wt(),a=Object.values(n.data);Promise.all(a.map((function(e){return t(e.localId)}))).then((function(e){return a.map((function(n,t){return Object(m.a)({},n,{},e[t])}))})).then((function(e){return e.sort((function(e,n){return n.datetime-e.datetime}))})).then((function(e){return e.map((function(e){return e.datetime=jt()(e.datetime).fromNow(),delete e.localId,delete e.songName,e}))})).then((function(n){return e(n)}))})).catch((function(e){return t(e)}))}))).then((function(e){return c(e)})).then((function(){return d(!1)})).catch((function(e){return C(e)})))}),[e.playSong]),!e.playSong)return null;var L={name:e.username,imageSrc:Ge(e.userImage||"profile.png","user-images")};"true"===e.isBand.toString()&&(L={name:j.bandName,imageSrc:Ge(j.image,"band-images")});return o.a.createElement("div",null,o.a.createElement(Dt,{comments:r,loading:u}),k?o.a.createElement(Sn.a,{message:k.message,type:"error",showIcon:!0}):null,o.a.createElement(Lt,{localId:e.localId,newComment:S,submitting:b,userData:L,disabled:u||b,handleSubmit:function(){Object(R.trim)(S)&&(Object.values(L).reduce((function(e,n){return n&&e}),!0)||C({message:"Please config your profile"}),C(null),h(!0),function(e,n){return new Promise((function(t,a){var o=(new Date).getTime();e.datetime=o,v.a.post("".concat("https://gaza-1d193.firebaseio.com","/song-comment.json/?auth=").concat(n),e).then((function(){return t()})).catch((function(e){return a(e)}))}))}({songName:e.playSong.fileName,localId:e.localId,content:S},e.idToken).then((function(){var e={author:L.name,avatar:L.imageSrc,content:o.a.createElement("p",null,S),datetime:jt()().fromNow()};c((function(n){return[e].concat(Object(s.a)(n))})),y(""),h(!1)})).catch((function(e){return C(e)})))},handleChange:function(e){y(e.target.value)}}))}))),xt=t(111),Bt=t(557),Gt=t(556),Ut=t(268),zt=t.n(Ut),Mt=function(e){var n=e.isCurrentAndPlay,t=e.selectedSongCanPlay,a=n?t?o.a.createElement(Bt.a,null):o.a.createElement(ot.a,null):o.a.createElement(Gt.a,null);return o.a.createElement(o.a.Fragment,null,o.a.createElement(_t.a,{shape:"square",size:"large",src:Ge(e.imageName,"pictures-of-songs")}),o.a.createElement(_t.a,{className:zt.a.avatarMask,shape:"square",size:"large",icon:a,onClick:e.onSongChoosed}))},Ft=function(e){return o.a.createElement(L.b,{to:{pathname:"/band",state:{localId:e.localId}}},e.bandName)},Ht=t(269),qt=t.n(Ht),Qt=function(e){var n=e.updating||!e.userIsAuth?null:e.userIsLikedSong?e.unlikeSong:e.likeSong;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(se.a,null)," ",e.listened_times),o.a.createElement("div",null,o.a.createElement(fe,{className:e.userIsLikedSong?qt.a.heartIcon:null,onClick:n})," ",e.likesCount))},Vt=t(125),Xt=t.n(Vt),Yt=function(e){var n=e.song,t=e.currentSong,a=[Xt.a.bottomSection];return t&&a.push(Xt.a.bottomSectionActive),o.a.createElement("div",{className:a.join(" ")},o.a.createElement("div",{className:Xt.a.bandName},o.a.createElement(Ft,{localId:n.localId,bandName:n.bandName})),o.a.createElement("div",{className:Xt.a.songStatistics},o.a.createElement(Qt,{userIsAuth:e.userIsAuth,listened_times:n.listened_times,userIsLikedSong:n.userIsLikedSong,likesCount:n.likesCount,likeSong:e.likeSong,unlikeSong:e.unlikeSong,updating:e.updating})))},Kt=t(121),Zt=function(e){var n=e.index;return o.a.createElement(Kt.b,{draggableId:""+n,index:n},(function(n){return o.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps),e.children)}))},Jt=t(98),Wt=t.n(Jt),$t=o.a.memo((function(e){var n=Pn.a.Meta,t=e.song,a=e.currentSong,r=e.playNow,c=e.selectedSongCanPlay,i=[Wt.a.songCard];a&&i.unshift(Wt.a.activeSongCard);var l=Q(t.duration);return o.a.createElement(Zt,{index:e.index},o.a.createElement(Pn.a,{className:i.join(" ")},o.a.createElement(n,{className:Wt.a.songContainer,avatar:o.a.createElement(Mt,{imageName:t.imageName,isCurrentAndPlay:a&&r,selectedSongCanPlay:c,onSongChoosed:e.onSongChoosed}),title:o.a.createElement("div",{className:Wt.a.topSection},o.a.createElement("div",{className:Wt.a.songName},t.name),o.a.createElement("div",{className:Wt.a.songDuration},l)),description:o.a.createElement(Yt,{song:t,currentSong:a,userIsAuth:e.userIsAuth,likeSong:e.likeSong,unlikeSong:e.unlikeSong,updating:e.updating})})))})),ea=function(e){var n=e.reorder;return o.a.createElement(Kt.a,{onDragEnd:function(e){e.destination&&e.destination.index!==e.source.index&&n(e.source.index,e.destination.index)}},o.a.createElement(Kt.c,{droppableId:"list"},(function(n){return o.a.createElement("div",Object.assign({ref:n.innerRef},n.droppableProps),e.children,n.placeholder)})))},na=t(197),ta=t.n(na),aa=Object(i.b)((function(e){return{songs:e.songs.songs,loading:e.songs.loading,playSong:e.songs.playSong,playNow:e.songs.playNow,selectedSongCanPlay:e.songs.selectedSongCanPlay,updating:e.songs.updating,localId:e.auth.localId}}),(function(e){return{likeSong:function(n,t){e(function(e,n){return function(t,a){if(!n){t(W(e));var o={fileName:e,localId:a().auth.localId};v.a.post("".concat("https://gaza-1d193.firebaseio.com","/song_likes.json/?auth=").concat(a().auth.idToken),o).then((function(n){t(J(e,n.data.name)),t($(e))})).catch((function(e){t(Y(e)),t({type:"FINISH_SONG_CREATION"})}))}}}(n,t))},unlikeSong:function(n,t){e(function(e,n){return function(t,a){n&&(t(W(e)),v.a.delete("".concat("https://gaza-1d193.firebaseio.com","/song_likes/").concat(n,".json/?auth=").concat(a().auth.idToken)).then((function(){t(J(e)),t($(e))})).catch((function(e){t(Y(e))})))}}(n,t))},startPlayMusic:function(n){e(K(n))},reorderSongs:function(n,t){e(function(e,n){return{type:"REORDER_SONGS",oldIndex:e,newIndex:n}}(n,t))}}}))((function(e){var n=e.songs,t=e.loading,a=e.playSong,r=e.playNow;if(t)return o.a.createElement(Ln.a,{className:e.uxAtCenter?ta.a.UXElement:null});var c=o.a.createElement(xt.a,{className:e.uxAtCenter?ta.a.UXElement:null,image:xt.a.PRESENTED_IMAGE_SIMPLE});return n.length>0&&(c=o.a.createElement(ea,{reorder:e.reorderSongs},n.map((function(n,t){return o.a.createElement($t,{key:t,index:t,song:n,userIsAuth:!!e.localId,updating:e.updating.includes(n.fileName),onSongChoosed:e.startPlayMusic.bind(void 0,n.fileName),likeSong:e.likeSong.bind(void 0,n.fileName,n.userLikeId),unlikeSong:e.unlikeSong.bind(void 0,n.fileName,n.userLikeId),playNow:r,selectedSongCanPlay:e.selectedSongCanPlay,currentSong:!(!a||a.fileName!==n.fileName)})})))),c})),oa=Object(i.b)((function(e){return{songs:e.songs.songs,playSong:e.songs.playSong}}),(function(e){return{fetchBandData:function(n){e(function(e){return function(n){var t='?orderBy="localId"&equalTo="'.concat(e,'"&limitToFirst=1');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/bands.json/").concat(t)).then((function(e){if(!e.data)throw Error("Band does not exist!");var t=Object.keys(e.data)[0];n(Rn(Object(m.a)({},e.data[t],{key:t}))),n({type:"FINISH_BAND_LOADING"})})).catch((function(e){return n(xn(e))}))}}(n))},fetchBandSongs:function(n){var t;e((t=n,function(e){e({type:"START_SONGS_LOADING"});var n='?orderBy="localId"&equalTo="'.concat(t,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/songs.json/").concat(n)).then((function(n){n.data?e(ae(Object.values(n.data).reverse())):e({type:"FINISH_SONGS_LOADING"})})).catch((function(n){e(Y(n))}))}))},clearSongsList:function(){e({type:"CLEAR_SONGS_LIST"})},clearBandData:function(){e({type:"CLEAR_BAND_DATA"})},startPlay:function(n){e(Z(n))}}}))((function(e){var n=e.fetchBandSongs,t=e.fetchBandData,r=e.clearSongsList,c=e.clearBandData;return Object(a.useEffect)((function(){var a=e.location.state.localId;return t(a),n(a),function(){r(),c()}}),[t,n,r,c,e.location]),Object(a.useEffect)((function(){!e.playSong&&e.songs.length>0&&e.startPlay(e.songs[0])}),[e.playSong,e.songs]),o.a.createElement(bn.a,null,o.a.createElement(hn.a,{xs:{span:24},sm:{span:10},md:{span:6},lg:{span:6,offset:2}},o.a.createElement(Nt,null),o.a.createElement(Rt,null)),o.a.createElement(hn.a,{xs:{span:24},sm:{span:12,offset:2},md:{span:16,offset:2},lg:{span:14,offset:2}},o.a.createElement(Le.a,{direction:"vertical",style:{width:"100%"}},o.a.createElement(tt,null),o.a.createElement(dt,null),o.a.createElement(aa,null))))})),ra=t(270),ca=t.n(ra),ia=t(91),la=t.n(ia),ua=o.a.memo(Object(mn.g)((function(e){var n=Object(a.useState)(null),t=Object(g.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)(!1),l=Object(g.a)(i,2),u=l[0],s=l[1];if(Object(a.useEffect)((function(){ue(e.tag).then((function(e){return c(e)}))}),[]),!r)return o.a.createElement(Ln.a,{spinning:!0},o.a.createElement("div",{className:la.a.collectionPreview},o.a.createElement("p",null,"#".concat(e.tag))));var m=Ge(r,"pictures-of-songs"),d=o.a.createElement("div",{className:la.a.posterMask},o.a.createElement("div",{className:la.a.playIcon},u?o.a.createElement(ot.a,null):o.a.createElement(Gt.a,{onClick:function(){s(!0),setTimeout((function(){e.history.push("/collection",{tag:e.tag})}),500)}})),o.a.createElement("p",{className:la.a.maskTitle},o.a.createElement("img",{src:ca.a}),e.tag));return o.a.createElement("div",{className:la.a.poster},d,o.a.createElement("div",{className:la.a.imageBackground,style:{background:"url(".concat(m,") center, linear-gradient(#000000, #FFF) fixed")}},o.a.createElement("img",{className:la.a.posterImage,src:m,alt:"collection-poster"})))}))),sa=t(271),ma=t.n(sa),da=o.a.memo((function(e){var n=Object(a.useState)(!1),t=Object(g.a)(n,2),r=t[0],c=t[1],i=Object(a.useRef)(null);Object(a.useEffect)((function(){!1===r&&e.suggestions.length>0&&l.current()}),[e.suggestions.length]),Object(a.useEffect)((function(){return!1===r&&e.suggestions.length>0?window.addEventListener("scroll",l.current):(l.current.cancel(),window.removeEventListener("scroll",l.current)),function(){l.current.cancel(),window.removeEventListener("scroll",l.current)}}),[r,e.suggestions]);var l=Object(a.useRef)(Object(R.throttle)((function(){window.pageYOffset+window.innerHeight-i.current.offsetTop>0&&c(!0)}),500));if(0===e.suggestions.length)return null;var u=o.a.createElement("div",{style:{height:"70vh",width:"100vw"}},o.a.createElement(Ln.a,null));return r&&(u=e.suggestions.map((function(e,n){return o.a.createElement(hn.a,{key:n,xs:{span:24},sm:{span:12},md:{span:8},lg:{span:6}},o.a.createElement(ua,{tag:e}))}))),o.a.createElement(o.a.Fragment,null,o.a.createElement("a",{ref:i,name:e.title,href:"#".concat(e.title),className:ma.a.suggestionsTitle},"#".concat(e.title)),o.a.createElement(bn.a,null,u))})),fa=function(e,n){var t=JSON.parse(localStorage.getItem(n));t||(t={});var a,o=Object(f.a)(e);try{for(o.s();!(a=o.n()).done;){var r=a.value;t[r]={count:t[r]?t[r].count+1:1,time:(new Date).getTime()}}}catch(c){o.e(c)}finally{o.f()}localStorage.setItem(n,JSON.stringify(t))},ga=function(e,n){for(var t=[],a=0,o=Object.entries(e);a<o.length;a++){var r=Object(g.a)(o[a],2),c=r[0],i=r[1];t.push([c,i])}return t.sort(n)},pa=function(e){var n,t=function(e){for(var n=[];e.length>0;){var t,a=[],o=Object(f.a)(e);try{for(o.s();!(t=o.n()).done;){var r=Object(g.a)(t.value,2),c=r[0],i=r[1];if(0===a.length)a.push([c,i]);else{if(i.time!==a[0][1].time)break;a.push([c,i])}}}catch(l){o.e(l)}finally{o.f()}n.push(a),e.splice(0,a.length)}return n}(e),a=[],o=Object(f.a)(t);try{for(o.s();!(n=o.n()).done;){var r=n.value;r.sort((function(e,n){return n[1].count-e[1].count})),a.push.apply(a,Object(s.a)(r.slice(0,3)))}}catch(c){o.e(c)}finally{o.f()}return a},ba=function(e){return e.map((function(e){return e[0]}))},ha=Object(i.b)((function(e){return{localId:e.auth.localId}}),(function(e){return{clearSongsList:function(){e({type:"CLEAR_SONGS_LIST"})}}}))((function(e){var n=e.clearSongsList,t=Object(a.useState)([]),r=Object(g.a)(t,2),c=r[0],i=r[1],l=Object(a.useState)([]),u=Object(g.a)(l,2),s=u[0],f=u[1],p=Object(a.useState)([]),b=Object(g.a)(p,2),h=b[0],E=b[1];return Object(a.useEffect)((function(){return e.localId?(i(function(e){var n=Object(m.a)({},JSON.parse(localStorage.getItem(e)));if(n){var t=ga(n,(function(e,n){return n[1].count-e[1].count})).slice(0,12);return ba(t)}}(e.localId)),f(function(e){var n=Object(m.a)({},JSON.parse(localStorage.getItem(e)));if(n){var t=ga(n,(function(e,n){return n[1].time-e[1].time})),a=pa(t).slice(0,12);return ba(a)}}(e.localId)),function(){n()}):(i([]),void f([]))}),[n,e.localId]),Object(a.useEffect)((function(){new Promise((function(e,n){v.a.get("".concat("https://gaza-1d193.firebaseio.com","/admin-collections.json/")).then((function(e){return e.data})).then((function(e){return e?Object.values(e):null})).then((function(e){return e.sort((function(e,n){return e.position-n.position}))})).then((function(n){return e(n)})).catch((function(e){return n(e)}))})).then((function(e){return E(e)})).catch((function(e){return d.a.error(e.message)}))}),[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(da,{title:"recent",suggestions:s}),o.a.createElement(da,{title:"often",suggestions:c}),h.map((function(e,n){return o.a.createElement(da,{key:n,title:e.name,suggestions:e.tags})})))})),Ea=t(550),va=t(549),Oa=Object(i.b)(null,(function(e){return{createPlaylist:function(n){e(function(e){return function(n,t){v.a.post("".concat("https://gaza-1d193.firebaseio.com","/playlists.json/?auth=").concat(t().auth.idToken),e).then((function(){n(ee([e])),d.a.success("New playlist was created successfully")})).catch((function(e){n(Y(e)),n({type:"FINISH_SONG_CREATION"})}))}}(n))}}}))((function(e){var n=Object(a.useState)({name:{config:{name:"name",label:"Name"},validationRules:{required:!0,type:"string",min:2,max:25},value:""},description:{config:{type:"text",name:"description",label:"Description"},validationRules:{type:"string",max:300},value:""}}),t=Object(g.a)(n,2),r=t[0],c=t[1];return o.a.createElement(Te.a,{title:"Create new playlist",footer:null,visible:!0,onCancel:e.onCancel},o.a.createElement("div",{className:"modal-note"},"PLEASE ENTER PLAYLIST NAME AND DESCRIPTION"),o.a.createElement(ke.a,{name:"nest-messages",onFinish:function(){var n={key:(new Date).getTime()+e.localId,userId:e.localId,name:r.name.value,description:r.description.value};e.createPlaylist(n),e.onCancel()}},o.a.createElement(qe,{stateInputs:r,onChangeHandler:function(e,n){var t=n.target.value;c((function(n){return Object(m.a)({},n,Object(_e.a)({},e,Object(m.a)({},n[e],{value:t})))}))}}),o.a.createElement(Ce.a,{orientation:"right"},o.a.createElement(Le.a,null,o.a.createElement(Ie.a,{type:"default",onClick:e.onCancel},"Cancel"),o.a.createElement(Ie.a,{type:"primary",htmlType:"submit"},"Ok")))))})),Sa=t(551),ya=(t(509),function(e){var n=e.playlist;return o.a.createElement(L.b,{to:{pathname:"/playlist",state:{key:n.key||"liked"}}},o.a.createElement(Pn.a.Grid,{className:"playlist"},o.a.createElement(Sa.a,{className:"playlist-icon"}),o.a.createElement("div",{className:"playlist-heat"}),o.a.createElement("div",{className:"playlist-info"},o.a.createElement("div",null,n.name),o.a.createElement("div",null,n.description))))}),Na=(t(510),Object(i.b)((function(e){return{localId:e.auth.localId,playlists:e.songs.playlists}}))((function(e){var n=Object(a.useState)(!1),t=Object(g.a)(n,2),r=t[0],c=t[1],i=Object(a.useState)(0),l=Object(g.a)(i,2),u=l[0],s=l[1],m=e.playlists;if(Object(a.useEffect)((function(){var n;(n=e.localId,new Promise((function(e,t){var a='?orderBy="localId"&equalTo="'.concat(n,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/song_likes.json/").concat(a)).then((function(e){return Object.values(e.data)})).then((function(n){return e(n.length)})).catch((function(e){return t(e)}))}))).then((function(e){return s(e)})).catch((function(e){return d.a.error(e.message)}))})),!e.localId)return o.a.createElement(mn.a,{to:"/"});var f=null;return r&&(f=o.a.createElement(Oa,{localId:e.localId,onCancel:function(){c(!1)}})),o.a.createElement(o.a.Fragment,null,f,o.a.createElement(Pn.a,{className:"playlist-card",title:o.a.createElement(o.a.Fragment,null,o.a.createElement(Ea.a,null)," ","Playlists")},u>0?o.a.createElement(ya,{playlist:He}):null,m.map((function(e,n){return o.a.createElement(ya,{key:n,playlist:e})})),o.a.createElement(Pn.a.Grid,{className:"playlist",onClick:function(){c(!0)}},o.a.createElement("div",{className:"add-playlist-button"},o.a.createElement(va.a,null)))))}))),Ia=t(565),ja=t(544),Aa=t(272),_a=t.n(Aa),Ta=Object(i.b)((function(e){return{songs:e.songs.songs}}),(function(e){return{shuffleSongs:function(){e({type:"SHUFFLE_SONGS"})}}}))((function(e){if(!e.songs.length)return null;var n=e.songs.reduce((function(e,n){return e+ +n.duration}),0).toString();return n=Q(n),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:_a.a.statistics},o.a.createElement(Qn.a,{placement:"bottom",title:"Playlist duration"},o.a.createElement(Ia.a,null)," ",n),o.a.createElement(Qn.a,{placement:"bottom",title:"Tracks count"},o.a.createElement(Zn.a,null)," ",e.songs.length)),o.a.createElement("div",null,o.a.createElement(Qn.a,{placement:"bottom",title:"Shuffle songs"},o.a.createElement(Ie.a,{type:"dashed",onClick:e.shuffleSongs},o.a.createElement(ja.a,null)," ","Shuffle"))))})),ka=t(553),Ca=t(273),La=t.n(Ca),Pa=function(e){var n=e.songs,t=n.map((function(e){return{bandName:e.bandName,localId:e.localId}}));return(t=Object(R.uniqBy)(t,"localId")).map((function(e){return function(e){return o.a.createElement(L.b,{key:e.localId,to:{pathname:"/band",state:{localId:e.localId}},className:La.a.bandLink},o.a.createElement(ka.a,null)," ",e.bandName)}(e)}))},Da=t(274),wa=t.n(Da),Ra=function(e){var n=e.songs,t=Object(R.flatten)(n.map((function(e){return e.tags})));return t=new Set(t),Array.from(t).map((function(e){return function(e){return o.a.createElement(L.b,{key:e,className:wa.a.tag,to:{pathname:"/collection",state:{tag:e}}},"#".concat(e," "))}(e)}))},xa=t(99),Ba=t.n(xa),Ga=o.a.memo((function(e){var n=e.playlist,t=e.playlistKey,a=e.songs;if("liked"===t)n=He;else if(!n)return o.a.createElement(Kn.a,{active:!0});var r=o.a.createElement(Ln.a,{size:"small"});return a.length>0&&(r=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Ba.a.bands},o.a.createElement(Pa,{songs:a})),o.a.createElement("div",{className:Ba.a.tags},o.a.createElement(Ra,{songs:a})),o.a.createElement("div",{className:Ba.a.statistic},o.a.createElement(Ta,null)))),o.a.createElement("div",{className:Ba.a.heat},o.a.createElement("div",{className:Ba.a.title},n.name),o.a.createElement("div",{className:Ba.a.description},n.description),r)})),Ua=Object(i.b)((function(e){return{playlists:e.songs.playlists,localId:e.auth.localId,songs:e.songs.songs,playSong:e.songs.playSong}}),(function(e){return{clearSongsList:function(){e({type:"CLEAR_SONGS_LIST"})},fetchPlaylistSongs:function(n){var t;e((t=n,function(e){e({type:"START_SONGS_LOADING"});var n='?orderBy="playlistId"&equalTo="'.concat(t,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/playlists-songs.json/").concat(n)).then((function(n){if(n.data)return Object.values(n.data).reverse();e({type:"FINISH_SONGS_LOADING"})})).then((function(e){return H(e)})).then((function(e){return e.map((function(e){return e[Object.keys(e)[0]]}))})).then((function(n){return e(ae(n))})).catch((function(n){return e(Y(n))}))}))},fetchLikedSongs:function(n){e(function(e){return function(n){n({type:"START_SONGS_LOADING"});var t='?orderBy="localId"&equalTo="'.concat(e,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/song_likes.json/").concat(t)).then((function(e){return Object.values(e.data)})).then((function(e){return H(e)})).then((function(e){return e.map((function(e){return e[Object.keys(e)[0]]}))})).then((function(e){return n(ae(e))})).catch((function(e){return n(Y(e))}))}}(n))},startPlay:function(n){e(Z(n))}}}))((function(e){var n=e.location.state.key,t=e.playlists,r=e.localId,c=e.clearSongsList,i=e.fetchPlaylistSongs,l=e.fetchLikedSongs;if(Object(a.useEffect)((function(){return"liked"===n?l(r):i(n),function(){c()}}),[n,i,c,l,r]),Object(a.useEffect)((function(){!e.playSong&&e.songs.length>0&&e.startPlay(e.songs[0])}),[e.playSong,e.songs]),!r)return o.a.createElement(mn.a,{to:"/"});var u=t.find((function(e){return e.key===n}));return o.a.createElement(bn.a,null,o.a.createElement(hn.a,{xs:{span:24},sm:{span:10},md:{span:6},lg:{span:6,offset:2}},o.a.createElement(Nt,null),o.a.createElement(Rt,null)),o.a.createElement(hn.a,{xs:{span:24},sm:{span:12,offset:2},md:{span:16,offset:2},lg:{span:14,offset:2}},o.a.createElement(Le.a,{direction:"vertical",style:{width:"100%"}},o.a.createElement(Ga,{playlist:u,playlistKey:n,songs:e.songs}),o.a.createElement(aa,null))))})),za=Object(i.b)((function(e){return{songs:e.songs.songs,playSong:e.songs.playSong}}),(function(e){return{startLoading:function(){e({type:"START_SONGS_LOADING"})},startPlay:function(n){e(Z(n))},getSongsByTag:function(n){e(function(e){return function(n){n({type:"START_SONGS_LOADING"});var t='?orderBy="tag"&equalTo="'.concat(e,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/song-tag.json/").concat(t)).then((function(e){return Object.values(e.data)})).then((function(e){return H(e)})).then((function(e){return e.map((function(e){return e[Object.keys(e)[0]]}))})).then((function(e){return n(ae(e))})).catch((function(e){n(Y(e))}))}}(n))},clearSongsList:function(){e({type:"CLEAR_SONGS_LIST"})}}}))((function(e){var n=e.getSongsByTag,t=e.startLoading,r=e.clearSongsList;return Object(a.useEffect)((function(){var a=e.location.state.tag;return t(),setTimeout((function(){return n(a)}),1e3),function(){r()}}),[n,t,r,e.location.state]),Object(a.useEffect)((function(){!e.playSong&&e.songs.length>0&&e.startPlay(e.songs[0])}),[e.playSong,e.songs]),o.a.createElement(bn.a,null,o.a.createElement(hn.a,{xs:{span:24},sm:{span:10},md:{span:6},lg:{span:6,offset:2}},o.a.createElement(Nt,null),o.a.createElement(Rt,null)),o.a.createElement(hn.a,{xs:{span:24},sm:{span:12,offset:2},md:{span:16,offset:2},lg:{span:14,offset:2}},o.a.createElement(aa,null)))})),Ma=t(530),Fa=t(548),Ha=t(563),qa=t(198),Qa=t.n(qa),Va=function(){return o.a.createElement("div",{className:Qa.a.modal},o.a.createElement(Ln.a,{size:"large",className:Qa.a.spinner}))},Xa=t(560),Ya=function(e){return o.a.createElement(Me.a,{placeholder:"Type collection name",value:e.value,onChange:e.onChange,prefix:o.a.createElement(Xa.a,null)})},Ka=t(558),Za=function(e){return o.a.createElement("div",{className:e.enabled?"collapse-show-actions":"collapse-should-not-update",onClick:e.loading?null:e.onClick},e.loading?o.a.createElement(ot.a,null):o.a.createElement(Ka.a,null))},Ja=function(e){var n=["collapse-show-actions"];return e.enabled||n.push("collapse-disabled-actions"),o.a.createElement("div",{className:n.join(" "),onClick:e.enabled?e.onClick:null},e.icon)},Wa=t(554),$a=function(e){return o.a.createElement(Dn.a,{title:"Are you sure delete this collection?",onConfirm:e.loading?null:e.onClick,okText:"Yes",cancelText:"No"},o.a.createElement("div",{className:"collapse-show-actions"},e.loading?o.a.createElement(ot.a,null):o.a.createElement(Wa.a,null)))},eo=t(535),no=t(275),to=t.n(no),ao=function(e){return o.a.createElement(B.a,{className:to.a.searchInput,value:e.value,options:e.options,onSelect:e.onSelect,onChange:e.onChange,placeholder:"Type to search here"})},oo=t(276),ro=t.n(oo),co=function(e){return e.loading?o.a.createElement(Ln.a,{size:"small"}):0===e.data.length?o.a.createElement(xt.a,{image:xt.a.PRESENTED_IMAGE_SIMPLE}):o.a.createElement("div",{className:ro.a.infoResults},o.a.createElement(Ce.a,{orientation:"left"},e.label),e.data.map((function(e){var n=Object(g.a)(e,2),t=n[0],a=n[1];return o.a.createElement(Mn.a,{key:t,color:"#ff7875"},"".concat(t,": ").concat(a))})))},io=function(e){return new Promise((function(n,t){var a='?orderBy="localId"&equalTo="'.concat(e,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/songs.json/").concat(a)).then((function(e){return e.data})).then((function(e){return e?Object.values(e):null})).then((function(e){return e.map((function(e){return e.fileName}))})).then((function(e){return e.map((function(e){return function(e){return new Promise((function(n,t){var a='?orderBy="songName"&equalTo="'.concat(e,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/song-tag.json/").concat(a)).then((function(e){return Object.values(e.data)})).then((function(e){return e.map((function(e){return e.tag}))})).then((function(e){return n(e)})).catch((function(e){return t(e)}))}))}(e)}))})).then((function(e){return Promise.all(e)})).then((function(e){return Object(R.flatten)(e)})).then((function(e){return Object(R.countBy)(e)})).then((function(e){return n(e)})).catch((function(e){return t(e)}))}))},lo=function(e){return new Promise((function(n,t){var a='?orderBy="fileName"&equalTo="'.concat(e,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/songs.json/").concat(a)).then((function(e){return e.data})).then((function(e){return e?Object.values(e)[0]:null})).then((function(e){return n=e.localId,new Promise((function(e,t){var a='?orderBy="localId"&equalTo="'.concat(n,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/bands.json/").concat(a)).then((function(e){return e.data})).then((function(e){return e?Object.values(e)[0]:null})).then((function(n){return e(n)})).catch((function(e){return t(e)}))}));var n})).then((function(e){return n(e)})).catch((function(e){return t(e)}))}))},uo=t(277),so=t.n(uo),mo=function(){var e=Object(a.useState)(""),n=Object(g.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)([]),i=Object(g.a)(c,2),l=i[0],u=i[1],s=Object(a.useState)(!0),m=Object(g.a)(s,2),f=m[0],p=m[1],b=Object(a.useState)([]),h=Object(g.a)(b,2),E=h[0],O=h[1],S=Object(a.useState)(!1),y=Object(g.a)(S,2),N=y[0],I=y[1];Object(a.useEffect)((function(){t.length<2||(f?j.current(t):A.current(t),O([]))}),[f]);var j=Object(a.useRef)(Object(R.debounce)((function(e){(function(e){return new Promise((function(n,t){var a='?orderBy="tag"&startAt="'.concat(e,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/song-tag.json/").concat(a)).then((function(e){return e.data})).then((function(e){return e?Object.values(e):null})).then((function(n){return n.filter((function(n){return n.tag.slice(0,e.length)===e}))})).then((function(e){return Object(R.countBy)(e,"tag")})).then((function(e){return n(e)})).catch((function(e){return t(e)}))}))})(e).then((function(e){return Array.from(Object.entries(e))})).then((function(e){return e.map((function(e){var n=Object(g.a)(e,2),t=n[0],a=n[1];return{label:"#".concat(t,": ").concat(a," ").concat(a>1?"songs":"song"),value:t}}))})).then((function(e){return u(e)})).catch((function(e){return d.a.error(e.message)}))}),800)),A=Object(a.useRef)(Object(R.debounce)((function(e){(function(e){return new Promise((function(n,t){var a='?orderBy="bandName"&startAt="'.concat(e,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/bands.json/").concat(a)).then((function(e){return e.data})).then((function(e){return e?Object.values(e):null})).then((function(n){return n.filter((function(n){return n.bandName.slice(0,e.length)===e}))})).then((function(e){return n(e)})).catch((function(e){return t(e)}))}))})(e).then((function(e){return e.map((function(e){return{value:e.localId,label:e.bandName}}))})).then((function(e){return u(e)})).catch((function(e){return d.a.error(e.message)}))}),800));return o.a.createElement("div",{className:so.a.infoPanel},o.a.createElement(ao,{value:t,options:l,onSelect:function(e,n){var t;I(!0),f?(r(n.value),(t=e,new Promise((function(e,n){var a='?orderBy="tag"&equalTo="'.concat(t,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/song-tag.json/").concat(a)).then((function(e){return e.data})).then((function(e){return e?Object.values(e):null})).then((function(e){return e.map((function(e){return e.songName}))})).then((function(e){return e.map((function(e){return lo(e)}))})).then((function(e){return Promise.all(e)})).then((function(e){return Object(R.countBy)(e,"bandName")})).then((function(n){return e(n)})).catch((function(e){return n(e)}))}))).then((function(e){return Object.entries(e)})).then((function(e){return O(e)})).then((function(){return I(!1)})).catch((function(e){return d.a.error(e.message)}))):(r(n.label),io(e).then((function(e){return Object.entries(e)})).then((function(e){return O(e)})).then((function(){return I(!1)})).catch((function(e){return d.a.error(e.message)})))},onChange:function(e){if(e.length<2)return u([]),void r(e);f?j.current(e):A.current(e),r(e)}}),o.a.createElement(eo.a.Group,{onChange:function(e){p(e.target.value)},value:f},o.a.createElement(eo.a,{value:!0},"Tags"),o.a.createElement(eo.a,{value:!1},"Bands")),o.a.createElement(co,{label:f?"Bands":"Tags",data:E,loading:N}))},fo=function(e,n,t){return function(a){a(function(e){return{type:"START_COLLECTION_UPDATING",index:e}}(n));var o=e.name,r=e.tags,c=e.position;v.a.patch("".concat("https://gaza-1d193.firebaseio.com","/admin-collections/").concat(e.key,".json/?auth=").concat(t),{name:o,tags:r,position:c}).then((function(){a(function(e,n){return{type:"UPDATE_COLLECTION",data:e,index:n}}(e,n)),a({type:"SORT_COLLECTIONS"}),a({type:"FINISH_COLLECTION_UPDATING"})}))}},go=(t(511),Object(i.b)((function(e){return{isAdmin:e.auth.isAdmin,collections:e.adm.collections,loading:e.adm.loading,creating:e.adm.creating,updating:e.adm.updating,deleting:e.adm.deleting,idToken:e.auth.idToken}}),(function(e){return{fetchCollection:function(){e((function(e){v.a.get("".concat("https://gaza-1d193.firebaseio.com","/admin-collections.json")).then((function(e){return e.data})).then((function(e){return e||{}})).then((function(e){return Object.entries(e).map((function(e){var n=Object(g.a)(e,2),t=n[0],a=n[1];return Object(m.a)({},a,{key:t})}))})).then((function(n){return e(function(e){return{type:"SET_COLLECTIONS",collections:e}}(n))})).then((function(){return e({type:"SORT_COLLECTIONS"})})).catch((function(e){return d.a.error(e.message)}))}))},setNewCollectionValues:function(n,t){e(function(e,n){return{type:"SET_COLLECTION_VALUES",data:e,index:n}}(n,t))},saveCollection:function(n,t){e(function(e,n){return function(t){t({type:"START_COLLECTION_CREATING"}),v.a.post("".concat("https://gaza-1d193.firebaseio.com","/admin-collections.json/?auth=").concat(n),e).then((function(n){e.key=n.data.name,t(function(e){return{type:"ADD_COLLECTION",data:e}}(e)),t({type:"SORT_COLLECTIONS"}),t({type:"FINISH_COLLECTION_CREATING"})}))}}(n,t))},updateCollection:function(n,t,a){e(fo(n,t,a))},deleteCollection:function(n,t,a){e(function(e,n,t){return function(a){a(function(e){return{type:"START_COLLECTION_DELETING",index:e}}(n)),v.a.delete("".concat("https://gaza-1d193.firebaseio.com","/admin-collections/").concat(e.key,".json/?auth=").concat(t)).then((function(){a(function(e){return{type:"DELETE_COLLECTION",index:e}}(n)),a({type:"SORT_COLLECTIONS"}),a({type:"FINISH_COLLECTION_DELETING"})}))}}(n,t,a))},reorder:function(n,t,a){e(function(e,n,t){return function(a){var o=e.collection,r=e.index,c=n.collection,i=n.index;a(fo(Object(m.a)({},o,{position:c.position}),r,t)),a(fo(Object(m.a)({},c,{position:o.position}),i,t))}}(n,t,a))}}}))((function(e){var n=Ma.a.Panel,t=ze.a.Option,r=Object(a.useState)(""),c=Object(g.a)(r,2),i=c[0],l=c[1],u=Object(a.useState)([]),s=Object(g.a)(u,2),m=s[0],f=s[1],p=Object(a.useState)([]),b=Object(g.a)(p,2),h=b[0],E=b[1],O=Object(a.useState)(!1),S=Object(g.a)(O,2),y=S[0],N=S[1];Object(a.useEffect)((function(){e.fetchCollection()}),[e.fetchCollection]);var I=Object(a.useRef)(Object(R.debounce)((function(e,n){(function(e){return new Promise((function(n,t){var a='?orderBy="tag"&startAt="'.concat(e,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/song-tag.json/").concat(a)).then((function(e){return e.data})).then((function(e){return e?Object.values(e):null})).then((function(e){return e.map((function(e){return e.tag}))})).then((function(n){return n.filter((function(n){return n.slice(0,e.length)===e}))})).then((function(e){return new Set(e)})).then((function(e){return n(e)})).catch((function(e){return t(e)}))}))})(e).then((function(e){return Array.from(e)})).then((function(e){return E(e)})).then((function(){return n()})).catch((function(e){return d.a.error(e.message)}))}),800));if(!e.isAdmin)return o.a.createElement(mn.a,{to:"/"});if(e.loading)return o.a.createElement("div",{style:{position:"relative"}},o.a.createElement(Va,null));var j=function(n,t){var a=t.target.value;e.setNewCollectionValues({name:a},n)},A=function(n,t){t.length>12?d.a.warn("Each collection must contain no more than 12 tags"):e.setNewCollectionValues({tags:t},n)},_=function(n,t,a){a.stopPropagation(),0!==n.name.length&&0!==n.tags.length&&e.updateCollection(n,t,e.idToken)},T=function(n,t,a,o){o.stopPropagation(),e.deleteCollection(n,t,a)},k=function(e){var n=e.target.value;n.length<2?E([]):(N(!0),I.current(n,N.bind(void 0,!1)))},C=function(n){return{collection:e.collections[n],index:n}},L=function(n,t,a){a.stopPropagation(),e.collections[n]&&e.collections[t]&&e.reorder(C(n),C(t),e.idToken)};return o.a.createElement(bn.a,null,o.a.createElement(hn.a,{xs:{span:24},sm:{span:12},md:{span:16},lg:{span:16}},o.a.createElement(Ma.a,{bordered:!1,expandIcon:function(e){var n=e.isActive;return o.a.createElement(gt.a,{rotate:n?90:0})},className:"site-collapse-custom-collapse"},e.collections.map((function(a,r){return o.a.createElement(n,{key:r,header:o.a.createElement(Ya,{value:a.name,onChange:j.bind(void 0,r)}),extra:o.a.createElement("div",{className:"action-buttons"},o.a.createElement(Za,{loading:e.updating===r,onClick:_.bind(void 0,a,r),enabled:a.shouldUpdate}),o.a.createElement(Ja,{icon:o.a.createElement(Fa.a,null),enabled:null===e.updating,onClick:L.bind(void 0,r,r+1)}),o.a.createElement(Ja,{icon:o.a.createElement(Ha.a,null),enabled:null===e.updating,onClick:L.bind(void 0,r,r-1)}),o.a.createElement($a,{loading:e.deleting===r,onClick:T.bind(void 0,a,r,e.idToken)})),className:"site-collapse-custom-panel ".concat(a.shouldUpdate?"pane-should-update":null)},o.a.createElement(ze.a,{mode:"multiple",style:{width:"100%"},placeholder:"Collection tags",value:a.tags,notFoundContent:y?o.a.createElement(Ln.a,{size:"small"}):null,onInput:k,onChange:A.bind(void 0,r)},h.map((function(e){return o.a.createElement(t,{key:e},e)}))))})),o.a.createElement(n,{key:e.collections.length+1,header:o.a.createElement(Ya,{value:i,onChange:function(e){l(e.target.value)}}),extra:o.a.createElement(Za,{loading:e.creating,onClick:function(n){if(n.stopPropagation(),0!==i.length&&0!==m.length){var t=e.collections.length,a={name:i,tags:m,position:t?e.collections[t-1].position+1:0};e.saveCollection(a,e.idToken),setTimeout((function(){return l(""),void f([])}),500)}},enabled:i.length>0&&m.length>0}),className:"site-collapse-custom-panel"},o.a.createElement(ze.a,{mode:"multiple",style:{width:"100%"},placeholder:"Collection tags",value:m,notFoundContent:y?o.a.createElement(Ln.a,{size:"small"}):null,onInput:k,onChange:function(e){e.length>12?d.a.warn("Each collection must contain no more than 12 tags"):f(e)}},h.map((function(e){return o.a.createElement(t,{key:e},e)})))))),o.a.createElement(hn.a,{xs:{span:24},sm:{span:11,offset:1},md:{span:7,offset:1}},o.a.createElement(mo,null)))}))),po=function(){var e=P.a.Content;return o.a.createElement(e,{className:"content-layout-background"},o.a.createElement(mn.d,null,o.a.createElement(mn.b,{path:"/sign-up",component:kn,exact:!0}),o.a.createElement(mn.b,{path:"/sign-in",component:Cn,exact:!0}),o.a.createElement(mn.b,{path:"/band",component:oa,exact:!0}),o.a.createElement(mn.b,{path:"/playlist",component:Ua,exact:!0}),o.a.createElement(mn.b,{path:"/playlists",component:Na,exact:!0}),o.a.createElement(mn.b,{path:"/collection",component:za,exact:!0}),o.a.createElement(mn.b,{path:"/admin",component:go,exact:!0}),o.a.createElement(mn.b,{path:"/",component:ha})))},bo=t(23),ho=t(293),Eo=t(559),vo=t(289),Oo=t.n(vo),So=Object(i.b)((function(e){return{playlists:e.songs.playlists,playSong:e.songs.playSong}}),(function(e){return{addToPlaylist:function(n){e(ce(n))}}}))((function(e){var n=function(n,t){var a={playlistId:n,songName:t};e.addToPlaylist(a)};return o.a.createElement(je.a,{className:Oo.a.menu},e.playlists.map((function(t,a){return o.a.createElement(je.a.Item,{key:a,onClick:n.bind(void 0,t.key,e.playSong.fileName)},o.a.createElement(Ea.a,null)," ",t.name)})))})),yo=function(){var e=Object(a.useState)(!1),n=Object(g.a)(e,2),t=n[0],r=n[1],c=function(){setTimeout((function(){r((function(e){return!e}))}),100)};return o.a.createElement(Ne.a,{overlay:function(){return o.a.createElement(So,null)},visible:t,placement:"topCenter"},o.a.createElement(Eo.a,{style:{fontSize:"22px"},className:"rhap_button-clear",onClick:c,onBlur:c}))},No=(t(512),t(162)),Io=t.n(No),jo=function(e){var n=o.a.createElement(L.b,{to:{pathname:"/band",state:{localId:e.localId}}},e.bandName);return o.a.createElement("div",{className:Io.a.songInfoArea},o.a.createElement("div",null,o.a.createElement(_t.a,{shape:"square",className:Io.a.avatar,src:Ge(e.imageName,"pictures-of-songs")})),o.a.createElement("div",{className:Io.a.textInfo},o.a.createElement("div",null,e.name),o.a.createElement("div",null,n)))},Ao=(t(513),Object(i.b)((function(e){return{playSong:e.songs.playSong,playNow:e.songs.playNow,selectedSongCanPlay:e.songs.selectedSongCanPlay,userId:e.auth.localId}}),(function(e){return{playNext:function(){e({type:"SELECT_NEXT_SONG"})},playPrev:function(){e({type:"SELECT_PREV_SONG"})},onPlayHandler:function(){e({type:"PLAY_SONG"})},onPauseHandler:function(){e({type:"PAUSE_SONG"})},onReadyToPlayHandler:function(){e({type:"SELECTED_SONG_READY_TO_PLAY"})},updateListenedTimes:function(n){e(function(e){return function(n){F(e).then((function(t){var a=Object.entries(t)[0],o={listened_times:a[1].listened_times+1};v.a.patch("".concat("https://gaza-1d193.firebaseio.com","/songs/").concat(a[0],".json"),o).then((function(){n(function(e,n){return{type:"SET_SONG_UPDATED_DATA",fileName:e,data:n}}(e,{listened_times:o.listened_times}))})).catch((function(e){n(Y(e))}))}))}}(n))}}}))((function(e){var n=e.playSong,t=e.playNow,r=Object(a.useRef)(null);Object(a.useEffect)((function(){n&&(t?r.current.audio.current.play():r.current.audio.current.pause())}),[n,t]);var c=o.a.createElement(jo,{name:n.name,bandName:n.bandName,imageName:n.imageName,localId:n.localId}),i=e.userId?o.a.createElement(yo,null):null;return o.a.createElement(ho.a,{ref:r,layout:"horizontal",showSkipControls:!0,className:"audio-player",onPlay:e.onPlayHandler,onPause:e.onPauseHandler,onAbort:fa.bind(void 0,n.tags,e.userId),onClickNext:e.playNext,onClickPrevious:e.playPrev,onCanPlay:e.onReadyToPlayHandler,onEnded:function(){e.updateListenedTimes(n.fileName),e.playNext()},customAdditionalControls:[bo.a.LOOP,i],customProgressBarSection:[c,bo.a.CURRENT_TIME,bo.a.PROGRESS_BAR,bo.a.DURATION],src:"https://firebasestorage.googleapis.com/v0/b/"+"".concat("gaza-1d193.appspot.com","/o/songs%2F")+"".concat(n.fileName,"?alt=media")})}))),_o=t(290),To=t.n(_o),ko=Object(i.b)((function(e){return{playSong:e.songs.playSong}}))((function(e){return e.playSong?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:To.a.footerMargin}),o.a.createElement(Ao,null)):null})),Co=Object(i.b)((function(e){return{loading:e.auth.loading,localId:e.auth.localId}}),(function(e){return{signInLocally:function(){e((function(e){localStorage.getItem("idToken")&&(e({type:"LOGIN_LOCALY"}),e(Xe())),e({type:"FINISH_LOADING"})}))},fetchPlaylists:function(n){e(function(e){return function(n){var t='?orderBy="userId"&equalTo="'.concat(e,'"');v.a.get("".concat("https://gaza-1d193.firebaseio.com","/playlists.json/").concat(t)).then((function(e){var t=Object.values(e.data);n(ee(t))})).catch((function(e){n(Y(e))}))}}(n))}}}))((function(e){var n=e.signInLocally,t=e.loading,r=e.fetchPlaylists;Object(a.useEffect)((function(){n()}),[n]),Object(a.useEffect)((function(){e.localId&&r(e.localId)}),[r,e.localId]);var c=o.a.createElement(P.a,null,o.a.createElement(P.a,{style:{padding:"24px"}},o.a.createElement(po,null)));return t&&(c=o.a.createElement(Va,null)),o.a.createElement(P.a,{className:"main-layout"},o.a.createElement(sn,null),c,o.a.createElement(ko,null))}));t(514),t(515);var Lo=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(L.a,null,o.a.createElement(Co,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Po=Object(l.e)(Object(l.c)({auth:I,band:A,songs:T,adm:C}),Object(l.a)(u.a));c.a.render(o.a.createElement(i.a,{store:Po},o.a.createElement(Lo,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,n,t){e.exports={menu:"Menu_menu__WCcSj",navLink:"Menu_navLink__1-RmR",navLinkActive:"Menu_navLinkActive__1C4_v"}},91:function(e,n,t){e.exports={collectionPreview:"Suggestion_collectionPreview__s3AXd",poster:"Suggestion_poster__3Kht9",imageBackground:"Suggestion_imageBackground__2D45B",posterImage:"Suggestion_posterImage__1VCxa",posterMask:"Suggestion_posterMask__1qpU_",maskTitle:"Suggestion_maskTitle__3RZCj",playIcon:"Suggestion_playIcon__1Gvga"}},98:function(e,n,t){e.exports={songCard:"Song_songCard__t3-1r",activeSongCard:"Song_activeSongCard__8n0Bh",songContainer:"Song_songContainer__OGBe_",topSection:"Song_topSection__vPyDQ",songName:"Song_songName__1J6Jf",songDuration:"Song_songDuration__2vJK_"}},99:function(e,n,t){e.exports={heat:"PlaylistHeat_heat__26Z0y",title:"PlaylistHeat_title__3LFHp",description:"PlaylistHeat_description__26H-E",statistic:"PlaylistHeat_statistic__RLplU",bands:"PlaylistHeat_bands__2685-",tags:"PlaylistHeat_tags__tVMFO"}}},[[296,1,2]]]);
//# sourceMappingURL=main.04c44276.chunk.js.map